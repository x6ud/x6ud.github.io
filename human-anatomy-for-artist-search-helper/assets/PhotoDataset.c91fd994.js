var Ur=Object.defineProperty;var Dr=(s,h,g)=>h in s?Ur(s,h,{enumerable:!0,configurable:!0,writable:!0,value:g}):s[h]=g;var M=(s,h,g)=>(Dr(s,typeof h!="symbol"?h+"":h,g),g);import{e as Bt,m as T,l as Gr,s as Re,g as ce,t as Wr,i as Vr,n as Kr,y as Yr,p as Xr,x as ze,u as Jr,w as Zr}from"./vendor.1d5e9611.js";import{h as Qr,F as ir,a as xe,c as X,j as k,b as Se,v as at,H as qr,k as en,l as pr,m as tn,B as rn,J as nn,u as vr,aD as mr,V as on,I as sn,N as an,e as yr,E as te,o as br,q as sr,z as ln,ai as Ne,aj as un}from"./feature-buffers.02aa0128.js";var ar=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},cn=Bt({name:"Eye",render(){return T("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},T("path",{d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),T("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}))}}),hn=Bt({name:"EyeOff",render(){return T("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},T("path",{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z",fill:"currentColor"}),T("path",{d:"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z",fill:"currentColor"}),T("path",{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z",fill:"currentColor"}),T("path",{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z",fill:"currentColor"}),T("path",{d:"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z",fill:"currentColor"}))}}),dn={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"};const fn=s=>{const{textColor2:h,textColor3:g,textColorDisabled:m,primaryColor:y,primaryColorHover:v,inputColor:f,inputColorDisabled:x,borderColor:A,warningColor:I,warningColorHover:L,errorColor:R,errorColorHover:N,borderRadius:j,lineHeight:D,fontSizeTiny:re,fontSizeSmall:K,fontSizeMedium:se,fontSizeLarge:he,heightTiny:O,heightSmall:pe,heightMedium:$e,heightLarge:ve,actionColor:me,clearColor:Je,clearColorHover:ke,clearColorPressed:W,placeholderColor:Pe,placeholderColorDisabled:ye,iconColor:Ue,iconColorDisabled:ne,iconColorHover:Ze,iconColorPressed:be}=s;return Object.assign(Object.assign({},dn),{countTextColor:g,heightTiny:O,heightSmall:pe,heightMedium:$e,heightLarge:ve,fontSizeTiny:re,fontSizeSmall:K,fontSizeMedium:se,fontSizeLarge:he,lineHeight:D,lineHeightTextarea:D,borderRadius:j,iconSize:"16px",groupLabelColor:me,groupLabelTextColor:h,textColor:h,textColorDisabled:m,textDecorationColor:h,caretColor:y,placeholderColor:Pe,placeholderColorDisabled:ye,color:f,colorDisabled:x,colorFocus:f,groupLabelBorder:`1px solid ${A}`,border:`1px solid ${A}`,borderHover:`1px solid ${v}`,borderDisabled:`1px solid ${A}`,borderFocus:`1px solid ${v}`,boxShadowFocus:`0 0 0 2px ${ir(y,{alpha:.2})}`,loadingColor:y,loadingColorWarning:I,borderWarning:`1px solid ${I}`,borderHoverWarning:`1px solid ${L}`,colorFocusWarning:f,borderFocusWarning:`1px solid ${L}`,boxShadowFocusWarning:`0 0 0 2px ${ir(I,{alpha:.2})}`,caretColorWarning:I,loadingColorError:R,borderError:`1px solid ${R}`,borderHoverError:`1px solid ${N}`,colorFocusError:f,borderFocusError:`1px solid ${N}`,boxShadowFocusError:`0 0 0 2px ${ir(R,{alpha:.2})}`,caretColorError:R,clearColor:Je,clearColorHover:ke,clearColorPressed:W,iconColor:Ue,iconColorDisabled:ne,iconColorHover:Ze,iconColorPressed:be,suffixTextColor:h})},gn={name:"Input",common:Qr,self:fn};var pn=gn;const wr=Symbol("input");function vn(s){let h=0;for(const g of s)h++;return h}function Mt(s){return["",void 0,null].includes(s)}var xr=Bt({name:"InputWordCount",setup(s,{slots:h}){const{mergedValueRef:g,maxlengthRef:m,mergedClsPrefixRef:y}=Gr(wr),v=Re(()=>{const{value:f}=g;return f===null||Array.isArray(f)?0:vn(f)});return()=>{const{value:f}=m,{value:x}=g;return T("span",{class:`${y.value}-input-word-count`},h.default?h.default({value:x===null||Array.isArray(x)?"":x}):f===void 0?v.value:`${v.value} / ${f}`)}}}),mn=xe([X("input",`
 max-width: 100%;
 cursor: text;
 line-height: 1.5;
 z-index: auto;
 outline: none;
 box-sizing: border-box;
 position: relative;
 display: inline-flex;
 border-radius: var(--border-radius);
 background-color: var(--color);
 transition: background-color .3s var(--bezier);
 font-size: var(--font-size);
 --padding-vertical: calc((var(--height) - 1.5 * var(--font-size)) / 2);
 `,[k("input, textarea",`
 overflow: hidden;
 flex-grow: 1;
 position: relative;
 `),k("input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder",`
 box-sizing: border-box;
 font-size: inherit;
 line-height: 1.5;
 font-family: inherit;
 border: none;
 outline: none;
 background-color: #0000;
 text-align: inherit;
 transition:
 caret-color .3s var(--bezier),
 color .3s var(--bezier),
 text-decoration-color .3s var(--bezier);
 `),k("input-el, textarea-el",`
 -webkit-appearance: none;
 width: 100%;
 min-width: 0;
 text-decoration-color: var(--text-decoration-color);
 color: var(--text-color);
 caret-color: var(--caret-color);
 `,[xe("&::placeholder",{color:"#0000"})]),Se("round",[at("textarea",{borderRadius:"calc(var(--height) / 2)"})]),k("placeholder",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: hidden;
 color: var(--placeholder-color);
 `,[xe("span",{width:"100%",display:"inline-block"})]),at("autosize",{width:"100%"}),Se("autosize",[k("textarea-el, input-el",`
 position: absolute;
 top: 0;
 left: 0;
 height: 100%;
 `)]),X("input-wrapper",`
 overflow: hidden;
 display: inline-flex;
 flex-grow: 1;
 position: relative;
 padding-left: var(--padding-left);
 padding-right: var(--padding-right);
 `),k("input-mirror",`
 padding: 0;
 height: var(--height);
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: nowrap;
 pointer-events: none;
 `),k("input-el",`
 padding: 0;
 height: var(--height);
 line-height: var(--height);
 `,[xe("+",[k("placeholder",`
 display: flex;
 align-items: center; 
 `)])]),at("textarea",[k("placeholder",{whiteSpace:"nowrap"})]),k("eye",`
 transition: color .3s var(--bezier);
 `),Se("textarea",{width:"100%"},[X("input-word-count",`
 position: absolute;
 right: var(--padding-right);
 bottom: var(--padding-vertical);
 `),Se("resizable",[X("input-wrapper",`
 resize: vertical;
 overflow: auto;
 min-height: var(--height);
 `)]),k("textarea-el, textarea-mirror, placeholder",`
 width: 100%;
 height: 100%;
 padding-left: 0;
 padding-right: 0;
 padding-top: var(--padding-vertical);
 padding-bottom: var(--padding-vertical);
 display: inline-block;
 vertical-align: bottom;
 box-sizing: border-box;
 line-height: var(--line-height-textarea);
 margin: 0;
 resize: none;
 `),k("textarea-mirror",`
 pointer-events: none;
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre-wrap;
 overflow-wrap: break-word;
 `)]),Se("pair",[k("input-el, placeholder",{textAlign:"center"}),k("separator",`
 display: flex;
 align-items: center;
 transition: color .3s var(--bezier);
 color: var(--text-color);
 `,[X("icon",`
 color: var(--icon-color);
 `),X("base-icon",`
 color: var(--icon-color);
 `)])]),Se("disabled",{cursor:"not-allowed",backgroundColor:"var(--color-disabled)"},[k("border",{border:"var(--border-disabled)"}),k("input-el, textarea-el",{cursor:"not-allowed",color:"var(--text-color-disabled)",textDecorationColor:"var(--text-color-disabled)"}),k("placeholder",{color:"var(--placeholder-color-disabled)"}),k("separator",{color:"var(--text-color-disabled)"},[X("icon",`
 color: var(--icon-color-disabled);
 `),X("base-icon",`
 color: var(--icon-color-disabled);
 `)]),k("suffix, prefix",{color:"var(--text-color-disabled)"},[X("icon",`
 color: var(--icon-color-disabled);
 `),X("internal-icon",`
 color: var(--icon-color-disabled);
 `)])]),at("disabled",[k("eye",`
 color: var(--icon-color);
 cursor: pointer;
 `,[xe("&:hover",`
 color: var(--icon-color-hover);
 `),xe("&:active",`
 color: var(--icon-color-pressed);
 `)]),Se("focus",{backgroundColor:"var(--color-focus)"},[k("state-border",{border:"var(--border-focus)",boxShadow:"var(--box-shadow-focus)"})]),xe("&:hover",[k("state-border",{border:"var(--border-focus)"})])]),k("border, state-border",`
 box-sizing: border-box;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: inherit;
 border: var(--border);
 transition:
 box-shadow .3s var(--bezier),
 border-color .3s var(--bezier);
 `),k("state-border",`
 border-color: #0000;
 z-index: 1;
 `),k("prefix",{marginRight:"4px"}),k("suffix",`
 margin-left: 4px;
 `),k("suffix, prefix",`
 transition: color .3s var(--bezier);
 flex-wrap: nowrap;
 flex-shrink: 0;
 line-height: var(--height);
 white-space: nowrap;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 color: var(--suffix-text-color);
 `,[X("base-loading",`
 font-size: var(--icon-size);
 margin-left: 4px;
 color: var(--loading-color);
 `),X("base-clear",`
 font-size: var(--icon-size);
 margin-left: 4px;
 `,[k("placeholder",[X("base-icon",`
 transition: color .3s var(--bezier);
 color: var(--icon-color);
 font-size: var(--icon-size);
 `)])]),X("icon",`
 transition: color .3s var(--bezier);
 color: var(--icon-color);
 font-size: var(--icon-size);
 `),X("base-icon",`
 font-size: var(--icon-size);
 `)]),X("input-word-count",`
 pointer-events: none;
 line-height: 1.5;
 font-size: .85em;
 color: var(--count-text-color);
 transition: color .3s var(--bezier);
 margin-left: 4px;
 font-variant: tabular-nums;
 `)]),["warning","error"].map(s=>qr(s,X("input",[at("disabled",[X("base-loading",`
 color: var(--loading-color-${s})
 `),k("input-el, textarea-el",{caretColor:`var(--caret-color-${s})`}),k("state-border",{border:`var(--border-${s})`}),xe("&:hover",[k("state-border",`
 border: var(--border-hover-${s});
 `)]),xe("&:focus",{backgroundColor:`var(--color-focus-${s})`},[k("state-border",`
 box-shadow: var(--box-shadow-focus-${s});
 border: var(--border-focus-${s});
 `)]),Se("focus",{backgroundColor:`var(--color-focus-${s})`},[k("state-border",`
 box-shadow: var(--box-shadow-focus-${s});
 border: var(--border-focus-${s});
 `)])])])))]);const yn=Object.assign(Object.assign({},pr.props),{bordered:{type:Boolean,default:void 0},type:{type:String,default:"text"},placeholder:[Array,String],defaultValue:{type:[String,Array],default:null},value:[String,Array],disabled:{type:Boolean,default:void 0},size:String,rows:{type:[Number,String],default:3},round:Boolean,minlength:[String,Number],maxlength:[String,Number],clearable:Boolean,autosize:{type:[Boolean,Object],default:!1},pair:Boolean,separator:String,readonly:{type:[String,Boolean],default:!1},passivelyActivated:Boolean,showPasswordOn:String,stateful:{type:Boolean,default:!0},autofocus:Boolean,inputProps:Object,resizable:{type:Boolean,default:!0},showCount:Boolean,loading:{type:Boolean,default:void 0},onMousedown:Function,onKeydown:Function,onKeyup:Function,onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClick:[Function,Array],onChange:[Function,Array],onClear:[Function,Array],"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],textDecoration:[String,Array],attrSize:{type:Number,default:20},onInputBlur:[Function,Array],onInputFocus:[Function,Array],onDeactivate:[Function,Array],onActivate:[Function,Array],onWrapperFocus:[Function,Array],onWrapperBlur:[Function,Array],internalDeactivateOnEnter:Boolean,internalForceFocus:Boolean,showPasswordToggle:Boolean});var Bn=Bt({name:"Input",props:yn,setup(s){const{mergedClsPrefixRef:h,mergedBorderedRef:g}=en(s),m=pr("Input","Input",mn,pn,s,h),y=ce(null),v=ce(null),f=ce(null),x=ce(null),A=ce(null),I=ce(null),{localeRef:L}=tn("Input"),R=ce(s.defaultValue),N=Wr(s,"value"),j=rn(N,R),D=nn(s),{mergedSizeRef:re,mergedDisabledRef:K}=D,se=ce(!1),he=ce(!1),O=ce(!1),pe=ce(!1);let $e=null;const ve=Re(()=>{const{placeholder:a,pair:d}=s;return d?Array.isArray(a)?a:a===void 0?["",""]:[a,a]:a===void 0?[L.value.placeholder]:[a]}),me=Re(()=>{const{value:a}=O,{value:d}=j,{value:_}=ve;return!a&&(Mt(d)||Array.isArray(d)&&Mt(d[0]))&&_[0]}),Je=Re(()=>{const{value:a}=O,{value:d}=j,{value:_}=ve;return!a&&_[1]&&(Mt(d)||Array.isArray(d)&&Mt(d[1]))}),ke=vr(()=>s.internalForceFocus||se.value),W=vr(()=>{if(K.value||s.readonly||!s.clearable||!ke.value&&!he.value)return!1;const{value:a}=j,{value:d}=ke;return s.pair?!!(Array.isArray(a)&&(a[0]||a[1]))&&(he.value||d):!!a&&(he.value||d)}),Pe=Re(()=>{const{showPasswordOn:a}=s;if(a)return a;if(s.showPasswordToggle)return"click"}),ye=ce(!1),Ue=Re(()=>{const{textDecoration:a}=s;return a?Array.isArray(a)?a.map(d=>({textDecoration:d})):[{textDecoration:a}]:["",""]}),ne=()=>{if(s.type==="textarea"){const{autosize:a}=s;if(typeof a=="boolean"||!v.value)return;const{paddingTop:d,paddingBottom:_,lineHeight:H}=window.getComputedStyle(v.value),$=Number(d.slice(0,-2)),Y=Number(_.slice(0,-2)),ge=Number(H.slice(0,-2)),{value:de}=f;if(!de)return;if(a.minRows){const G=Math.max(a.minRows,1),Te=`${$+Y+ge*G}px`;de.style.minHeight=Te}if(a.maxRows){const G=`${$+Y+ge*a.maxRows}px`;de.style.maxHeight=G}}},Ze=Re(()=>{const{maxlength:a}=s;return a===void 0?void 0:Number(a)});Vr(()=>{const{value:a}=j;Array.isArray(a)||Ce(a)});const be=Kr().proxy;function Oe(a){const{onUpdateValue:d,"onUpdate:value":_,onInput:H}=s,{nTriggerFormInput:$}=D;d&&te(d,a),_&&te(_,a),H&&te(H,a),R.value=a,$()}function De(a){const{onChange:d}=s,{nTriggerFormChange:_}=D;d&&te(d,a),R.value=a,_()}function lt(a){const{onBlur:d}=s,{nTriggerFormBlur:_}=D;d&&te(d,a),_()}function ut(a){const{onFocus:d}=s,{nTriggerFormFocus:_}=D;d&&te(d,a),_()}function zt(a){const{onClear:d}=s;d&&te(d,a)}function ct(a){const{onInputBlur:d}=s;d&&te(d,a)}function Nt(a){const{onInputFocus:d}=s;d&&te(d,a)}function ht(){const{onDeactivate:a}=s;a&&te(a)}function dt(){const{onActivate:a}=s;a&&te(a)}function Ie(a){const{onClick:d}=s;d&&te(d,a)}function ft(a){const{onWrapperFocus:d}=s;d&&te(d,a)}function gt(a){const{onWrapperBlur:d}=s;d&&te(d,a)}function Ht(){O.value=!0}function pt(a){O.value=!1,a.target===I.value?Ee(a,1):Ee(a,0)}function Ee(a,d=0,_="input"){const H=a.target.value;if(Ce(H),$e=H,O.value)return;const $=H;if(!s.pair)_==="input"?Oe($):De($);else{let{value:Y}=j;Array.isArray(Y)?Y=[...Y]:Y=["",""],Y[d]=$,_==="input"?Oe(Y):De(Y)}be.$forceUpdate()}function Ge(a){ct(a),a.relatedTarget===y.value&&ht(),a.relatedTarget!==null&&(a.relatedTarget===A.value||a.relatedTarget===I.value||a.relatedTarget===v.value)||(pe.value=!1),Z(a,"blur")}function vt(a){Nt(a),se.value=!0,pe.value=!0,dt(),Z(a,"focus")}function $t(a){s.passivelyActivated&&(gt(a),Z(a,"blur"))}function mt(a){s.passivelyActivated&&(se.value=!0,ft(a),Z(a,"focus"))}function Z(a,d){a.relatedTarget!==null&&(a.relatedTarget===A.value||a.relatedTarget===I.value||a.relatedTarget===v.value||a.relatedTarget===y.value)||(d==="focus"?(ut(a),se.value=!0):d==="blur"&&(lt(a),se.value=!1))}function fe(a,d){Ee(a,d,"change")}function Ut(a){Ie(a)}function yt(a){zt(a),s.pair?Oe(["",""]):Oe("")}function Qe(a){const{onMousedown:d}=s;d&&d(a);const{tagName:_}=a.target;if(_!=="INPUT"&&_!=="TEXTAREA"){if(s.resizable){const{value:H}=y;if(H){const{left:$,top:Y,width:ge,height:de}=H.getBoundingClientRect(),G=14;if($+ge-G<a.clientX&&a.clientY<$+ge&&Y+de-G<a.clientY&&a.clientY<Y+de)return}}a.preventDefault(),se.value||et()}}function Q(){he.value=!0}function je(){he.value=!1}function bt(){K.value||Pe.value==="click"&&(ye.value=!ye.value)}function qe(a){if(K.value)return;a.preventDefault();const d=H=>{H.preventDefault(),br("mouseup",document,d)};if(yr("mouseup",document,d),Pe.value!=="mousedown")return;ye.value=!0;const _=()=>{ye.value=!1,br("mouseup",document,_)};yr("mouseup",document,_)}function ae(a){var d;switch((d=s.onKeydown)===null||d===void 0||d.call(s,a),a.code){case"Escape":We();break;case"Enter":case"NumpadEnter":_e(a);break}}function _e(a){var d,_;if(s.passivelyActivated){const{value:H}=pe;if(H){s.internalDeactivateOnEnter&&We();return}a.preventDefault(),s.type==="textarea"?(d=v.value)===null||d===void 0||d.focus():(_=A.value)===null||_===void 0||_.focus()}}function We(){s.passivelyActivated&&(pe.value=!1,Jr(()=>{var a;(a=y.value)===null||a===void 0||a.focus()}))}function et(){var a,d,_;K.value||(s.passivelyActivated?(a=y.value)===null||a===void 0||a.focus():((d=v.value)===null||d===void 0||d.focus(),(_=A.value)===null||_===void 0||_.focus()))}function Le(){var a;((a=y.value)===null||a===void 0?void 0:a.contains(document.activeElement))&&document.activeElement.blur()}function wt(){var a,d;(a=v.value)===null||a===void 0||a.select(),(d=A.value)===null||d===void 0||d.select()}function Ve(){K.value||(v.value?v.value.focus():A.value&&A.value.focus())}function Dt(){const{value:a}=y;(a==null?void 0:a.contains(document.activeElement))&&a!==document.activeElement&&We()}function Ce(a){const{type:d,pair:_,autosize:H}=s;if(!_&&H)if(d==="textarea"){const{value:$}=f;$&&($.textContent=(a!=null?a:"")+`\r
`)}else{const{value:$}=x;$&&(a?$.textContent=a:$.innerHTML="&nbsp;")}}function xt(){ne()}let we=null;return Yr(()=>{const{autosize:a,type:d}=s;a&&d==="textarea"?we=Zr(j,_=>{!Array.isArray(_)&&_!==$e&&Ce(_)}):we==null||we()}),Xr(wr,{mergedValueRef:j,maxlengthRef:Ze,mergedClsPrefixRef:h}),Object.assign(Object.assign({},{wrapperElRef:y,inputElRef:A,textareaElRef:v,isCompositing:O,focus:et,blur:Le,select:wt,deactivate:Dt,activate:Ve}),{wrapperElRef:y,inputElRef:A,inputMirrorElRef:x,inputEl2Ref:I,textareaElRef:v,textareaMirrorElRef:f,uncontrolledValue:R,mergedValue:j,passwordVisible:ye,mergedPlaceholder:ve,showPlaceholder1:me,showPlaceholder2:Je,mergedFocus:ke,isComposing:O,activated:pe,showClearButton:W,mergedSize:re,mergedDisabled:K,textDecorationStyle:Ue,mergedClsPrefix:h,mergedBordered:g,mergedShowPasswordOn:Pe,handleCompositionStart:Ht,handleCompositionEnd:pt,handleInput:Ee,handleInputBlur:Ge,handleInputFocus:vt,handleWrapperBlur:$t,handleWrapperFocus:mt,handleMouseEnter:Q,handleMouseLeave:je,handleMouseDown:Qe,handleChange:fe,handleClick:Ut,handleClear:yt,handlePasswordToggleClick:bt,handlePasswordToggleMousedown:qe,handleWrapperKeyDown:ae,handleTextAreaMirrorResize:xt,mergedTheme:m,cssVars:Re(()=>{const{value:a}=re,{common:{cubicBezierEaseInOut:d},self:{color:_,borderRadius:H,textColor:$,caretColor:Y,caretColorError:ge,caretColorWarning:de,textDecorationColor:G,border:Te,borderDisabled:Et,borderHover:q,borderFocus:_t,placeholderColor:le,placeholderColorDisabled:U,lineHeightTextarea:tt,colorDisabled:Ct,colorFocus:Ae,textColorDisabled:Tt,boxShadowFocus:At,iconSize:rt,colorFocusWarning:Wt,boxShadowFocusWarning:Be,borderWarning:nt,borderFocusWarning:ot,borderHoverWarning:oe,colorFocusError:ie,boxShadowFocusError:Vt,borderError:Kt,borderFocusError:Ft,borderHoverError:Rt,clearSize:Me,clearColor:St,clearColorHover:Yt,clearColorPressed:Xt,iconColor:it,iconColorDisabled:kt,suffixTextColor:Jt,countTextColor:Zt,iconColorHover:Ke,iconColorPressed:Pt,loadingColor:Qt,loadingColorError:qt,loadingColorWarning:Ot,[sr("padding",a)]:It,[sr("fontSize",a)]:er,[sr("height",a)]:tr}}=m.value,{left:st,right:jt}=ln(It);return{"--bezier":d,"--count-text-color":Zt,"--color":_,"--font-size":er,"--border-radius":H,"--height":tr,"--padding-left":st,"--padding-right":jt,"--text-color":$,"--caret-color":Y,"--text-decoration-color":G,"--border":Te,"--border-disabled":Et,"--border-hover":q,"--border-focus":_t,"--placeholder-color":le,"--placeholder-color-disabled":U,"--icon-size":rt,"--line-height-textarea":tt,"--color-disabled":Ct,"--color-focus":Ae,"--text-color-disabled":Tt,"--box-shadow-focus":At,"--loading-color":Qt,"--caret-color-warning":de,"--color-focus-warning":Wt,"--box-shadow-focus-warning":Be,"--border-warning":nt,"--border-focus-warning":ot,"--border-hover-warning":oe,"--loading-color-warning":Ot,"--caret-color-error":ge,"--color-focus-error":ie,"--box-shadow-focus-error":Vt,"--border-error":Kt,"--border-focus-error":Ft,"--border-hover-error":Rt,"--loading-color-error":qt,"--clear-color":St,"--clear-size":Me,"--clear-color-hover":Yt,"--clear-color-pressed":Xt,"--icon-color":it,"--icon-color-hover":Ke,"--icon-color-pressed":Pt,"--icon-color-disabled":kt,"--suffix-text-color":Jt}})})},render(){const{mergedClsPrefix:s}=this;return T("div",{ref:"wrapperElRef",class:[`${s}-input`,{[`${s}-input--disabled`]:this.mergedDisabled,[`${s}-input--textarea`]:this.type==="textarea",[`${s}-input--resizable`]:this.resizable&&!this.autosize,[`${s}-input--autosize`]:this.autosize,[`${s}-input--round`]:this.round&&this.type!=="textarea",[`${s}-input--pair`]:this.pair,[`${s}-input--focus`]:this.mergedFocus,[`${s}-input--stateful`]:this.stateful}],style:this.cssVars,tabindex:!this.mergedDisabled&&this.passivelyActivated&&!this.activated?0:void 0,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd,onKeyup:this.onKeyup,onKeydown:this.handleWrapperKeyDown},T("div",{class:`${s}-input-wrapper`},this.$slots.affix||this.$slots.prefix?T("div",{class:`${s}-input__prefix`},ze(this.$slots,"affix",void 0,()=>[ze(this.$slots,"prefix")])):null,this.type==="textarea"?T("div",{class:`${s}-input__textarea`},T("textarea",Object.assign({},this.inputProps,{ref:"textareaElRef",class:`${s}-input__textarea-el`,autofocus:this.autofocus,rows:Number(this.rows),placeholder:this.placeholder,value:this.mergedValue,disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,readonly:this.readonly,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,style:this.textDecorationStyle[0],onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onInput:this.handleInput,onChange:this.handleChange})),this.showPlaceholder1?T("div",{class:`${s}-input__placeholder`,key:"placeholder"},this.mergedPlaceholder[0]):null,this.autosize?T(on,{onResize:this.handleTextAreaMirrorResize},{default:()=>T("div",{ref:"textareaMirrorElRef",class:`${s}-input__textarea-mirror`,key:"mirror"})}):null):T("div",{class:`${s}-input__input`},T("input",Object.assign({type:this.type==="password"&&this.mergedShowPasswordOn&&this.passwordVisible?"text":this.type},this.inputProps,{ref:"inputElRef",class:`${s}-input__input-el`,style:this.textDecorationStyle[0],tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[0],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[0]:this.mergedValue,readonly:this.readonly,autofocus:this.autofocus,size:this.attrSize,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onInput:h=>this.handleInput(h,0),onChange:h=>this.handleChange(h,0)})),this.showPlaceholder1?T("div",{class:`${s}-input__placeholder`},T("span",null,this.mergedPlaceholder[0])):null,this.autosize?T("div",{class:`${s}-input__input-mirror`,key:"mirror",ref:"inputMirrorElRef"},"\xA0"):null),!this.pair&&(this.$slots.suffix||this.clearable||this.showCount||this.mergedShowPasswordOn||this.loading!==void 0)?T("div",{class:`${s}-input__suffix`},[this.clearable||this.$slots.clear?T(mr,{clsPrefix:s,show:this.showClearButton,onClear:this.handleClear},{default:()=>ze(this.$slots,"clear")}):null,ze(this.$slots,"suffix"),this.loading!==void 0?T(sn,{clsPrefix:s,loading:this.loading,showArrow:!1,showClear:!1,style:this.cssVars}):null,this.showCount&&this.type!=="textarea"?T(xr,null,{default:this.$slots.count}):null,this.mergedShowPasswordOn&&this.type==="password"?T(an,{clsPrefix:s,class:`${s}-input__eye`,onMousedown:this.handlePasswordToggleMousedown,onClick:this.handlePasswordToggleClick},{default:()=>this.passwordVisible?T(cn,null):T(hn,null)}):null]):null),this.pair?T("span",{class:`${s}-input__separator`},ze(this.$slots,"separator",void 0,()=>[this.separator])):null,this.pair?T("div",{class:`${s}-input-wrapper`},T("div",{class:`${s}-input__input`},T("input",{ref:"inputEl2Ref",type:this.type,class:`${s}-input__input-el`,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[1],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[1]:void 0,readonly:this.readonly,style:this.textDecorationStyle[1],onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onInput:h=>this.handleInput(h,1),onChange:h=>this.handleChange(h,1)}),this.showPlaceholder2?T("div",{class:`${s}-input__placeholder`},T("span",null,this.mergedPlaceholder[1])):null),T("div",{class:`${s}-input__suffix`},[this.clearable||this.$slots.clear?T(mr,{clsPrefix:s,show:this.showClearButton,onClear:this.handleClear},{default:()=>ze(this.$slots,"clear")}):null,ze(this.$slots,"suffix")])):null,this.mergedBordered?T("div",{class:`${s}-input__border`}):null,this.mergedBordered?T("div",{class:`${s}-input__state-border`}):null,this.showCount&&this.type==="textarea"?T(xr,null,{default:this.$slots.count}):null)}});function Er(s,h){const g=new DOMParser().parseFromString(s,"text/html"),m=g.createElement("base");return m.href=h,g.head.appendChild(m),g}function bn(s){return new Promise(function(h,g){const m=new Image;m.onload=function(){h(m)},m.onabort=m.onerror=g,m.crossOrigin="anonymous",m.referrerPolicy="no-referrer",m.src=s})}async function _r(s){return await(await fetch("./proxy/"+s)).text()}async function wn(s){const g=await(await fetch("./proxy-arraybuffer/"+s)).blob(),m=URL.createObjectURL(g);return await bn(m)}class xn{constructor(){M(this,"id","");M(this,"thumb","");M(this,"title","");M(this,"selected",!0)}}class En{constructor(){M(this,"numOfPages",0);M(this,"photos",[])}}async function Mn(s){const h=`https://www.human-anatomy-for-artist.com/photos/search/query//thumb/small/standard/1/premium/1/category-11/Nude/category-34/Man/category-102/Standard%20Photoshoot/page/${s}`,g=await _r(h),m=Er(g,h);let y=1;m.querySelectorAll(".pagination_area .searchRightHolder a span").forEach(I=>{const L=I.innerText;L&&(y=Math.max(Number(L),y))});const f=[];m.querySelectorAll(".resultItemsmall .centerheresmall").forEach(I=>{const L=I.querySelector(".screenshot"),N=(L.href.match(/id\/([^\/]+)/)||[])[1]||"",j=L.querySelector("img"),D=j.src,re=j.alt,K=new xn;K.id=N,K.thumb=D,K.title=re,K.selected=!re.toLowerCase().includes("stereoscopic"),f.push(K)});const A=new En;return A.numOfPages=y,A.photos=f,A}class _n{constructor(){M(this,"id","");M(this,"url","");M(this,"title","")}}async function Cn(s){const h=`https://www.human-anatomy-for-artist.com/photos/show/id/${s}`,g=await _r(h),y=Er(g,h).querySelector("#mainImage"),v=new _n;return v.id=s,v.url=y.src,v.title=y.alt,v}var Tn={};(function(){var s;function h(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var g=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,r){return e==Array.prototype||e==Object.prototype||(e[t]=r.value),e};function m(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof ar=="object"&&ar];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}var y=m(this);function v(e,t){if(t)e:{var r=y;e=e.split(".");for(var n=0;n<e.length-1;n++){var o=e[n];if(!(o in r))break e;r=r[o]}e=e[e.length-1],n=r[e],t=t(n),t!=n&&t!=null&&g(r,e,{configurable:!0,writable:!0,value:t})}}v("Symbol",function(e){function t(l){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new r(n+(l||"")+"_"+o++,l)}function r(l,i){this.g=l,g(this,"description",{configurable:!0,writable:!0,value:i})}if(e)return e;r.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",o=0;return t}),v("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<t.length;r++){var n=y[t[r]];typeof n=="function"&&typeof n.prototype[e]!="function"&&g(n.prototype,e,{configurable:!0,writable:!0,value:function(){return f(h(this))}})}return e});function f(e){return e={next:e},e[Symbol.iterator]=function(){return this},e}function x(e){var t=typeof Symbol!="undefined"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:h(e)}}function A(e){if(!(e instanceof Array)){e=x(e);for(var t,r=[];!(t=e.next()).done;)r.push(t.value);e=r}return e}var I=typeof Object.create=="function"?Object.create:function(e){function t(){}return t.prototype=e,new t},L;if(typeof Object.setPrototypeOf=="function")L=Object.setPrototypeOf;else{var R;e:{var N={a:!0},j={};try{j.__proto__=N,R=j.a;break e}catch{}R=!1}L=R?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var D=L;function re(e,t){if(e.prototype=I(t.prototype),e.prototype.constructor=e,D)D(e,t);else for(var r in t)if(r!="prototype")if(Object.defineProperties){var n=Object.getOwnPropertyDescriptor(t,r);n&&Object.defineProperty(e,r,n)}else e[r]=t[r];e.ea=t.prototype}function K(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function se(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}K.prototype.o=function(e){this.h=e};function he(e,t){e.j={U:t,V:!0},e.g=e.m||e.s}K.prototype.return=function(e){this.j={return:e},this.g=this.s};function O(e,t,r){return e.g=r,{value:t}}function pe(e){this.g=new K,this.h=e}function $e(e,t){se(e.g);var r=e.g.i;return r?ve(e,"return"in r?r.return:function(n){return{value:n,done:!0}},t,e.g.return):(e.g.return(t),me(e))}function ve(e,t,r,n){try{var o=t.call(e.g.i,r);if(!(o instanceof Object))throw new TypeError("Iterator result "+o+" is not an object");if(!o.done)return e.g.l=!1,o;var l=o.value}catch(i){return e.g.i=null,he(e.g,i),me(e)}return e.g.i=null,n.call(e.g,l),me(e)}function me(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(r){e.g.h=void 0,he(e.g,r)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.V)throw t.U;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function Je(e){this.next=function(t){return se(e.g),e.g.i?t=ve(e,e.g.i.next,t,e.g.o):(e.g.o(t),t=me(e)),t},this.throw=function(t){return se(e.g),e.g.i?t=ve(e,e.g.i.throw,t,e.g.o):(he(e.g,t),t=me(e)),t},this.return=function(t){return $e(e,t)},this[Symbol.iterator]=function(){return this}}function ke(e){function t(n){return e.next(n)}function r(n){return e.throw(n)}return new Promise(function(n,o){function l(i){i.done?n(i.value):Promise.resolve(i.value).then(t,r).then(l,o)}l(e.next())})}function W(e){return ke(new Je(new pe(e)))}v("Promise",function(e){function t(i){this.h=0,this.i=void 0,this.g=[],this.o=!1;var c=this.j();try{i(c.resolve,c.reject)}catch(u){c.reject(u)}}function r(){this.g=null}function n(i){return i instanceof t?i:new t(function(c){c(i)})}if(e)return e;r.prototype.h=function(i){if(this.g==null){this.g=[];var c=this;this.i(function(){c.l()})}this.g.push(i)};var o=y.setTimeout;r.prototype.i=function(i){o(i,0)},r.prototype.l=function(){for(;this.g&&this.g.length;){var i=this.g;this.g=[];for(var c=0;c<i.length;++c){var u=i[c];i[c]=null;try{u()}catch(p){this.j(p)}}}this.g=null},r.prototype.j=function(i){this.i(function(){throw i})},t.prototype.j=function(){function i(p){return function(w){u||(u=!0,p.call(c,w))}}var c=this,u=!1;return{resolve:i(this.C),reject:i(this.l)}},t.prototype.C=function(i){if(i===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(i instanceof t)this.F(i);else{e:switch(typeof i){case"object":var c=i!=null;break e;case"function":c=!0;break e;default:c=!1}c?this.v(i):this.m(i)}},t.prototype.v=function(i){var c=void 0;try{c=i.then}catch(u){this.l(u);return}typeof c=="function"?this.G(c,i):this.m(i)},t.prototype.l=function(i){this.s(2,i)},t.prototype.m=function(i){this.s(1,i)},t.prototype.s=function(i,c){if(this.h!=0)throw Error("Cannot settle("+i+", "+c+"): Promise already settled in state"+this.h);this.h=i,this.i=c,this.h===2&&this.D(),this.A()},t.prototype.D=function(){var i=this;o(function(){if(i.B()){var c=y.console;typeof c!="undefined"&&c.error(i.i)}},1)},t.prototype.B=function(){if(this.o)return!1;var i=y.CustomEvent,c=y.Event,u=y.dispatchEvent;return typeof u=="undefined"?!0:(typeof i=="function"?i=new i("unhandledrejection",{cancelable:!0}):typeof c=="function"?i=new c("unhandledrejection",{cancelable:!0}):(i=y.document.createEvent("CustomEvent"),i.initCustomEvent("unhandledrejection",!1,!0,i)),i.promise=this,i.reason=this.i,u(i))},t.prototype.A=function(){if(this.g!=null){for(var i=0;i<this.g.length;++i)l.h(this.g[i]);this.g=null}};var l=new r;return t.prototype.F=function(i){var c=this.j();i.J(c.resolve,c.reject)},t.prototype.G=function(i,c){var u=this.j();try{i.call(c,u.resolve,u.reject)}catch(p){u.reject(p)}},t.prototype.then=function(i,c){function u(E,b){return typeof E=="function"?function(C){try{p(E(C))}catch(S){w(S)}}:b}var p,w,F=new t(function(E,b){p=E,w=b});return this.J(u(i,p),u(c,w)),F},t.prototype.catch=function(i){return this.then(void 0,i)},t.prototype.J=function(i,c){function u(){switch(p.h){case 1:i(p.i);break;case 2:c(p.i);break;default:throw Error("Unexpected state: "+p.h)}}var p=this;this.g==null?l.h(u):this.g.push(u),this.o=!0},t.resolve=n,t.reject=function(i){return new t(function(c,u){u(i)})},t.race=function(i){return new t(function(c,u){for(var p=x(i),w=p.next();!w.done;w=p.next())n(w.value).J(c,u)})},t.all=function(i){var c=x(i),u=c.next();return u.done?n([]):new t(function(p,w){function F(C){return function(S){E[C]=S,b--,b==0&&p(E)}}var E=[],b=0;do E.push(void 0),b++,n(u.value).J(F(E.length-1),w),u=c.next();while(!u.done)})},t});function Pe(e,t){e instanceof String&&(e+="");var r=0,n=!1,o={next:function(){if(!n&&r<e.length){var l=r++;return{value:t(l,e[l]),done:!1}}return n=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o}var ye=typeof Object.assign=="function"?Object.assign:function(e,t){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};v("Object.assign",function(e){return e||ye}),v("Object.is",function(e){return e||function(t,r){return t===r?t!==0||1/t==1/r:t!==t&&r!==r}}),v("Array.prototype.includes",function(e){return e||function(t,r){var n=this;n instanceof String&&(n=String(n));var o=n.length;for(r=r||0,0>r&&(r=Math.max(r+o,0));r<o;r++){var l=n[r];if(l===t||Object.is(l,t))return!0}return!1}}),v("String.prototype.includes",function(e){return e||function(t,r){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(t,r||0)!==-1}}),v("Array.prototype.keys",function(e){return e||function(){return Pe(this,function(t){return t})}});var Ue=this||self;function ne(e,t){e=e.split(".");var r=Ue;e[0]in r||typeof r.execScript=="undefined"||r.execScript("var "+e[0]);for(var n;e.length&&(n=e.shift());)e.length||t===void 0?r[n]&&r[n]!==Object.prototype[n]?r=r[n]:r=r[n]={}:r[n]=t}function Ze(e){Ue.setTimeout(function(){throw e},0)}function be(e){Ze(e)}function Oe(e,t){be(Error("Invalid wire type: "+e+" (at position "+t+")"))}function De(){be(Error("Failed to read varint, encoding is invalid."))}function lt(e,t){return t=String.fromCharCode.apply(null,t),e==null?t:e+t}var ut,zt=typeof TextDecoder!="undefined",ct,Nt=typeof TextEncoder!="undefined";function ht(e){if(Nt)e=(ct||(ct=new TextEncoder)).encode(e);else{var t=void 0;t=t===void 0?!1:t;for(var r=0,n=new Uint8Array(3*e.length),o=0;o<e.length;o++){var l=e.charCodeAt(o);if(128>l)n[r++]=l;else{if(2048>l)n[r++]=l>>6|192;else{if(55296<=l&&57343>=l){if(56319>=l&&o<e.length){var i=e.charCodeAt(++o);if(56320<=i&&57343>=i){l=1024*(l-55296)+i-56320+65536,n[r++]=l>>18|240,n[r++]=l>>12&63|128,n[r++]=l>>6&63|128,n[r++]=l&63|128;continue}else o--}if(t)throw Error("Found an unpaired surrogate");l=65533}n[r++]=l>>12|224,n[r++]=l>>6&63|128}n[r++]=l&63|128}}e=n.subarray(0,r)}return e}var dt={},Ie=null;function ft(e){var t;t===void 0&&(t=0),pt(),t=dt[t];for(var r=Array(Math.floor(e.length/3)),n=t[64]||"",o=0,l=0;o<e.length-2;o+=3){var i=e[o],c=e[o+1],u=e[o+2],p=t[i>>2];i=t[(i&3)<<4|c>>4],c=t[(c&15)<<2|u>>6],u=t[u&63],r[l++]=p+i+c+u}switch(p=0,u=n,e.length-o){case 2:p=e[o+1],u=t[(p&15)<<2]||n;case 1:e=e[o],r[l]=t[e>>2]+t[(e&3)<<4|p>>4]+u+n}return r.join("")}function gt(e){var t=e.length,r=3*t/4;r%3?r=Math.floor(r):"=.".indexOf(e[t-1])!=-1&&(r="=.".indexOf(e[t-2])!=-1?r-2:r-1);var n=new Uint8Array(r),o=0;return Ht(e,function(l){n[o++]=l}),n.subarray(0,o)}function Ht(e,t){function r(u){for(;n<e.length;){var p=e.charAt(n++),w=Ie[p];if(w!=null)return w;if(!/^[\s\xa0]*$/.test(p))throw Error("Unknown base64 encoding at char: "+p)}return u}pt();for(var n=0;;){var o=r(-1),l=r(0),i=r(64),c=r(64);if(c===64&&o===-1)break;t(o<<2|l>>4),i!=64&&(t(l<<4&240|i>>2),c!=64&&t(i<<6&192|c))}}function pt(){if(!Ie){Ie={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var n=e.concat(t[r].split(""));dt[r]=n;for(var o=0;o<n.length;o++){var l=n[o];Ie[l]===void 0&&(Ie[l]=o)}}}}var Ee=typeof Uint8Array=="function",Ge;function vt(e){if(this.g=e,e!==null&&e.length===0)throw Error("ByteString should be constructed with non-empty values")}vt.prototype.toJSON=function(){if(this.g==null)var e="";else e=this.g,e=this.g=e==null||typeof e=="string"?e:Ee&&e instanceof Uint8Array?ft(e):null;return e};var $t=typeof Uint8Array.prototype.slice=="function";function mt(e,t,r){return t===r?Ge||(Ge=new Uint8Array(0)):$t?e.slice(t,r):new Uint8Array(e.subarray(t,r))}var Z=0,fe=0;function Ut(e){if(e.constructor===Uint8Array)return e;if(e.constructor===ArrayBuffer)return new Uint8Array(e);if(e.constructor===Array)return new Uint8Array(e);if(e.constructor===String)return gt(e);if(e.constructor===vt){if(e.g==null)var t=Ge||(Ge=new Uint8Array(0));else{t=Uint8Array;var r=e.g;r=r==null||Ee&&r!=null&&r instanceof Uint8Array?r:typeof r=="string"?gt(r):null,e=e.g=r,t=new t(e)}return t}if(e instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function yt(e,t){t=t===void 0?{}:t,t=t.u===void 0?!1:t.u,this.h=null,this.g=this.i=this.l=0,this.j=!1,this.u=t,e&&Qe(this,e)}function Qe(e,t){e.h=Ut(t),e.l=0,e.i=e.h.length,e.g=e.l}yt.prototype.reset=function(){this.g=this.l};function Q(e){e.g>e.i&&(e.j=!0,be(Error("Tried to read past the end of the data "+e.g+" > "+e.i)))}function je(e){var t=e.h,r=t[e.g],n=r&127;return 128>r?(e.g+=1,Q(e),n):(r=t[e.g+1],n|=(r&127)<<7,128>r?(e.g+=2,Q(e),n):(r=t[e.g+2],n|=(r&127)<<14,128>r?(e.g+=3,Q(e),n):(r=t[e.g+3],n|=(r&127)<<21,128>r?(e.g+=4,Q(e),n):(r=t[e.g+4],n|=(r&15)<<28,128>r?(e.g+=5,Q(e),n>>>0):(e.g+=5,128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]?(e.j=!0,De(),n):(Q(e),n))))))}var bt=[];function qe(){this.g=new Uint8Array(64),this.h=0}function ae(e,t){if(!(e.h+1<e.g.length)){var r=e.g;e.g=new Uint8Array(Math.ceil(1+2*e.g.length)),e.g.set(r)}e.g[e.h++]=t}qe.prototype.length=function(){return this.h},qe.prototype.end=function(){var e=this.g,t=this.h;return this.h=0,mt(e,0,t)};function _e(e,t){for(;127<t;)ae(e,t&127|128),t>>>=7;ae(e,t)}function We(e){var t={},r=t.N===void 0?!1:t.N;this.m={u:t.u===void 0?!1:t.u},this.N=r,t=this.m,bt.length?(r=bt.pop(),t&&(r.u=t.u),e&&Qe(r,e),e=r):e=new yt(e,t),this.g=e,this.l=this.g.g,this.h=this.i=-1,this.j=!1}We.prototype.reset=function(){this.g.reset(),this.h=this.i=-1};function et(e){var t=e.g;if((t=t.g==t.i)||(t=e.j)||(t=e.g,t=t.j||0>t.g||t.g>t.i),t)return!1;e.l=e.g.g;var r=je(e.g);return t=r>>>3,r&=7,0<=r&&5>=r?(e.i=t,e.h=r,!0):(e.j=!0,Oe(r,e.l),!1)}function Le(e){switch(e.h){case 0:if(e.h!=0)Le(e);else e:{e=e.g;for(var t=e.g,r=0;10>r;r++){if((e.h[t]&128)==0){e.g=t+1,Q(e);break e}t++}e.j=!0,De()}break;case 1:e=e.g,e.g+=8,Q(e);break;case 2:e.h!=2?Le(e):(t=je(e.g),e=e.g,e.g+=t,Q(e));break;case 5:e=e.g,e.g+=4,Q(e);break;case 3:t=e.i;do{if(!et(e)){e.j=!0,be(Error("Unmatched start-group tag: stream EOF"));break}if(e.h==4){e.i!=t&&(e.j=!0,be(Error("Unmatched end-group tag")));break}Le(e)}while(1);break;default:e.j=!0,Oe(e.h,e.l)}}function wt(e,t,r){e.N||(e=mt(e.g.h,r,e.g.g),(r=t.m)?r.push(e):t.m=[e])}var Ve=[];function Dt(){this.h=[],this.i=0,this.g=new qe}function Ce(e,t){t.length!==0&&(e.h.push(t),e.i+=t.length)}function xt(e,t,r){_e(e.g,8*t+2),_e(e.g,r.length),Ce(e,e.g.end()),Ce(e,r)}var we=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function Gt(e,t){Object.isFrozen(e)||(we?e[we]|=t:e.g!==void 0?e.g|=t:Object.defineProperties(e,{g:{value:t,configurable:!0,writable:!0,enumerable:!1}}))}function a(e){if(!e)return 0;var t;return we?t=e[we]:t=e.g,t==null?0:t}function d(e){return Array.isArray(e)&&Gt(e,1),e}function _(e){if(!Array.isArray(e))throw Error("cannot mark non-array as immutable");Gt(e,2)}function H(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function $(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":return Ee&&e!=null&&e instanceof Uint8Array?ft(e):e;default:return e}}function Y(e,t){if(e!=null)return Array.isArray(e)||H(e)?ge(e,t):t(e)}function ge(e,t){if(Array.isArray(e)){for(var r=Array(e.length),n=0;n<e.length;n++)r[n]=Y(e[n],t);return a(e)&1&&d(r),r}r={};for(n in e)r[n]=Y(e[n],t);return r}var de;function G(e,t,r){var n=de;de=null,e||(e=n),n=this.constructor.ca,e||(e=n?[n]:[]),this.j=(n?0:-1)-(this.constructor.aa||0),this.i=null,this.g=e;e:{if(n=this.g.length,e=n-1,n&&(n=this.g[e],H(n))){this.l=e-this.j,this.h=n;break e}t!==void 0&&-1<t?(this.l=Math.max(t,e+1-this.j),this.h=null):this.l=Number.MAX_VALUE}if(r)for(t=0;t<r.length;t++)e=r[t],e<this.l?(e+=this.j,(n=this.g[e])?d(n):this.g[e]=Te):(Et(this),(n=this.h[e])?d(n):this.h[e]=Te)}var Te=Object.freeze(d([]));function Et(e){var t=e.l+e.j;e.g[t]||(e.h=e.g[t]={})}function q(e,t,r){return t===-1?null:(r===void 0?0:r)||t>=e.l?e.h?e.h[t]:void 0:e.g[t+e.j]}function _t(e,t,r){r=r===void 0?!0:r;var n=n===void 0?!1:n,o=q(e,t,n);return o==null&&(o=Te),o===Te?(o=d([]),U(e,t,o,n)):r&&Array.isArray(o)&&a(o)&2&&(o=o.slice(),U(e,t,o,n)),o}function le(e,t,r){return e=q(e,t),e=e==null?e:+e,e==null?r===void 0?0:r:e}function U(e,t,r,n){(n===void 0?0:n)||t>=e.l?(Et(e),e.h[t]=r):e.g[t+e.j]=r}function tt(e,t,r){e.i||(e.i={});var n=e.i[r];if(!n){var o=_t(e,r,!1);n=[];for(var l=Array.isArray(o)?!!(a(o)&2):!1,i=0;i<o.length;i++)n[i]=new t(o[i]),l&&_(n[i].g);l&&(_(n),Object.freeze(n)),e.i[r]=n}return n}function Ct(e,t,r,n,o){var l=tt(e,n,t);r=r||new n,e=_t(e,t),o!=null?(l.splice(o,0,r),e.splice(o,0,Ae(r))):(l.push(r),e.push(Ae(r)))}G.prototype.toJSON=function(){var e=Ae(this);return ge(e,$)};function Ae(e){if(e.i)for(var t in e.i){var r=e.i[t];if(Array.isArray(r))for(var n=0;n<r.length;n++)r[n]&&Ae(r[n]);else r&&Ae(r)}return e.g}G.prototype.toString=function(){return Ae(this).toString()};function Tt(e,t){return e=q(e,t),e==null?0:e}function At(e,t){return e=q(e,t),e==null?"":e}function rt(e,t){if(e=e.m){Ce(t,t.g.end());for(var r=0;r<e.length;r++)Ce(t,e[r])}}function Wt(e){var t=e[0];switch(e.length){case 2:var r=e[1];return function(u,p,w){return t(u,p,w,r)};case 3:var n=e[1],o=e[2];return function(u,p,w){return t(u,p,w,n,o)};case 4:var l=e[1],i=e[2],c=e[3];return function(u,p,w){return t(u,p,w,l,i,c)};default:throw Error("unsupported number of parameters, expected [2-4], got "+e.length)}}function Be(e,t,r){for(;et(t)&&t.h!=4;){var n=t.i,o=r[n];if(o){if(Array.isArray(o)&&(o=r[n]=Wt(o)),!o(t,e,n)){n=t,o=e;var l=n.l;Le(n),wt(n,o,l)}}else n=t,o=e,l=n.l,Le(n),wt(n,o,l)}return e}function nt(e,t){var r=new Dt;if(t(e,r),e=r.i+r.g.length(),e===0)r=new Uint8Array(0);else{e=new Uint8Array(e);for(var n=r.h,o=n.length,l=t=0;l<o;l++){var i=n[l];i.length!==0&&(e.set(i,t),t+=i.length)}n=r.g,o=n.h,o!==0&&(e.set(n.g.subarray(0,o),t),n.h=0),r.h=[e],r=e}return r}function ot(e,t,r){if(Ve.length){var n=Ve.pop();e&&(Qe(n.g,e),n.i=-1,n.h=-1),e=n}else e=new We(e);try{return r(new t,e)}finally{t=e.g,t.h=null,t.l=0,t.i=0,t.g=0,t.j=!1,t.u=!1,e.i=-1,e.h=-1,e.j=!1,100>Ve.length&&Ve.push(e)}}function oe(e,t,r){if(t=q(t,r),t!=null){_e(e.g,8*r+5),e=e.g;var n=t;n=(r=0>n?1:0)?-n:n,n===0?0<1/n?Z=fe=0:(fe=0,Z=2147483648):isNaN(n)?(fe=0,Z=2147483647):34028234663852886e22<n?(fe=0,Z=(r<<31|2139095040)>>>0):11754943508222875e-54>n?(n=Math.round(n/Math.pow(2,-149)),fe=0,Z=(r<<31|n)>>>0):(t=Math.floor(Math.log(n)/Math.LN2),n*=Math.pow(2,-t),n=Math.round(8388608*n),16777216<=n&&++t,fe=0,Z=(r<<31|t+127<<23|n&8388607)>>>0),r=Z,ae(e,r>>>0&255),ae(e,r>>>8&255),ae(e,r>>>16&255),ae(e,r>>>24&255)}}function ie(e,t,r){if(e.h!==5)return!1;e=e.g;var n=e.h[e.g],o=e.h[e.g+1],l=e.h[e.g+2],i=e.h[e.g+3];return e.g+=4,Q(e),o=(n<<0|o<<8|l<<16|i<<24)>>>0,e=2*(o>>31)+1,n=o>>>23&255,o&=8388607,U(t,r,n==255?o?NaN:1/0*e:n==0?e*Math.pow(2,-149)*o:e*Math.pow(2,n-150)*(o+Math.pow(2,23))),!0}function Vt(e,t,r){if(e.h!==0)return!1;for(var n=e.g,o=128,l=0,i=e=0;4>i&&128<=o;i++)o=n.h[n.g++],l|=(o&127)<<7*i;if(128<=o&&(o=n.h[n.g++],l|=(o&127)<<28,e|=(o&127)>>4),128<=o)for(i=0;5>i&&128<=o;i++)o=n.h[n.g++],e|=(o&127)<<7*i+3;return 128>o?(n=l>>>0,o=e>>>0,(e=o&2147483648)&&(n=~n+1>>>0,o=~o>>>0,n==0&&(o=o+1>>>0)),n=4294967296*o+(n>>>0),e=e?-n:n):(n.j=!0,De(),e=void 0),U(t,r,e),!0}function Kt(e,t,r){return e.h!==0?!1:(U(t,r,je(e.g)),!0)}function Ft(e,t,r){if(e.h!==2)return!1;var n=je(e.g);e=e.g;var o=e.g;e.g+=n,Q(e),e=e.h;var l;if(zt)(l=ut)||(l=ut=new TextDecoder("utf-8",{fatal:!1})),l=l.decode(e.subarray(o,o+n));else{n=o+n;for(var i=[],c=null,u,p,w;o<n;)u=e[o++],128>u?i.push(u):224>u?o>=n?i.push(65533):(p=e[o++],194>u||(p&192)!=128?(o--,i.push(65533)):i.push((u&31)<<6|p&63)):240>u?o>=n-1?i.push(65533):(p=e[o++],(p&192)!=128||u===224&&160>p||u===237&&160<=p||((l=e[o++])&192)!=128?(o--,i.push(65533)):i.push((u&15)<<12|(p&63)<<6|l&63)):244>=u?o>=n-2?i.push(65533):(p=e[o++],(p&192)!=128||(u<<28)+(p-144)>>30!=0||((l=e[o++])&192)!=128||((w=e[o++])&192)!=128?(o--,i.push(65533)):(u=(u&7)<<18|(p&63)<<12|(l&63)<<6|w&63,u-=65536,i.push((u>>10&1023)+55296,(u&1023)+56320))):i.push(65533),8192<=i.length&&(c=lt(c,i),i.length=0);l=lt(c,i)}return U(t,r,l),!0}function Rt(e,t,r,n,o){if(e.h!==2)return!1;var l=new n,i=e.g.i,c=je(e.g),u=e.g.g+c;if(e.g.i=u,o(l,e),o=u-e.g.g,o!==0)throw Error("Message parsing ended unexpectedly. Expected to read "+(c+" bytes, instead read "+(c-o)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return e.g.g=u,e.g.i=i,Ct(t,r,l,n,void 0),!0}function Me(e){G.call(this,e)}var St;re(Me,G);function Yt(e,t){var r=q(e,1);if(r!=null&&r!=null){_e(t.g,8);var n=t.g;if(0<=r)_e(n,r);else{for(var o=0;9>o;o++)ae(n,r&127|128),r>>=7;ae(n,1)}}oe(t,e,2),n=q(e,3),n!=null&&xt(t,3,ht(n)),n=q(e,4),n!=null&&xt(t,4,ht(n)),rt(e,t)}function Xt(e,t){return Be(e,t,St||(St={1:Kt,2:ie,3:Ft,4:Ft}))}function it(e){G.call(this,e,-1,Zt)}var kt;re(it,G),it.prototype.addClassification=function(e,t){return Ct(this,1,e,Me,t),this};function Jt(e,t){return Be(e,t,kt||(kt={1:[Rt,Me,Xt]}))}var Zt=[1];function Ke(e){G.call(this,e)}var Pt;re(Ke,G);function Qt(e,t){oe(t,e,1),oe(t,e,2),oe(t,e,3),oe(t,e,4),oe(t,e,5),rt(e,t)}function qt(e,t){return Be(e,t,Pt||(Pt={1:ie,2:ie,3:ie,4:ie,5:ie}))}function Ot(e){G.call(this,e,-1,tr)}var It;re(Ot,G);function er(e,t){return Be(e,t,It||(It={1:[Rt,Ke,qt]}))}var tr=[1];function st(e){G.call(this,e)}var jt;re(st,G);function Ar(e,t){oe(t,e,1),oe(t,e,2),oe(t,e,3),oe(t,e,4),oe(t,e,5);var r=q(e,6);if(r!=null&&r!=null){_e(t.g,48);var n=t.g,o=r;r=0>o,o=Math.abs(o);var l=o>>>0;for(o=Math.floor((o-l)/4294967296),o>>>=0,r&&(o=~o>>>0,l=(~l>>>0)+1,4294967295<l&&(l=0,o++,4294967295<o&&(o=0))),Z=l,fe=o,r=Z,l=fe;0<l||127<r;)ae(n,r&127|128),r=(r>>>7|l<<25)>>>0,l>>>=7;ae(n,r)}rt(e,t)}function Fr(e,t){return Be(e,t,jt||(jt={1:ie,2:ie,3:ie,4:ie,5:ie,6:Vt}))}function cr(e,t,r){if(r=e.createShader(r===0?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+e.getShaderInfoLog(r));return r}function Rr(e){return tt(e,Me,1).map(function(t){return{index:Tt(t,1),X:le(t,2),label:q(t,3)!=null?At(t,3):void 0,displayName:q(t,4)!=null?At(t,4):void 0}})}function Sr(e){return{x:le(e,1),y:le(e,2),z:le(e,3),visibility:q(e,4)!=null?le(e,4):void 0}}function rr(e){return tt(ot(e,Ot,er),Ke,1).map(Sr)}function nr(e,t){this.h=e,this.g=t,this.l=0}function hr(e,t,r){return kr(e,t),typeof e.g.canvas.transferToImageBitmap=="function"?Promise.resolve(e.g.canvas.transferToImageBitmap()):r?Promise.resolve(e.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(e.g.canvas):(e.i===void 0&&(e.i=document.createElement("canvas")),new Promise(function(n){e.i.height=e.g.canvas.height,e.i.width=e.g.canvas.width,e.i.getContext("2d",{}).drawImage(e.g.canvas,0,0,e.g.canvas.width,e.g.canvas.height),n(e.i)}))}function kr(e,t){var r=e.g;if(e.m===void 0){var n=cr(r,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),o=cr(r,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),l=r.createProgram();if(r.attachShader(l,n),r.attachShader(l,o),r.linkProgram(l),!r.getProgramParameter(l,r.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+r.getProgramInfoLog(l));n=e.m=l,r.useProgram(n),o=r.getUniformLocation(n,"sampler0"),e.j={I:r.getAttribLocation(n,"aVertex"),H:r.getAttribLocation(n,"aTex"),da:o},e.s=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,e.s),r.enableVertexAttribArray(e.j.I),r.vertexAttribPointer(e.j.I,2,r.FLOAT,!1,0,0),r.bufferData(r.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,null),e.o=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,e.o),r.enableVertexAttribArray(e.j.H),r.vertexAttribPointer(e.j.H,2,r.FLOAT,!1,0,0),r.bufferData(r.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,null),r.uniform1i(o,0)}n=e.j,r.useProgram(e.m),r.canvas.width=t.width,r.canvas.height=t.height,r.viewport(0,0,t.width,t.height),r.activeTexture(r.TEXTURE0),e.h.bindTexture2d(t.glName),r.enableVertexAttribArray(n.I),r.bindBuffer(r.ARRAY_BUFFER,e.s),r.vertexAttribPointer(n.I,2,r.FLOAT,!1,0,0),r.enableVertexAttribArray(n.H),r.bindBuffer(r.ARRAY_BUFFER,e.o),r.vertexAttribPointer(n.H,2,r.FLOAT,!1,0,0),r.bindFramebuffer(r.DRAW_FRAMEBUFFER?r.DRAW_FRAMEBUFFER:r.FRAMEBUFFER,null),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.colorMask(!0,!0,!0,!0),r.drawArrays(r.TRIANGLE_FAN,0,4),r.disableVertexAttribArray(n.I),r.disableVertexAttribArray(n.H),r.bindBuffer(r.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}function Pr(e){this.g=e}var Or=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Ir(e,t){return t+e}function dr(e,t){window[e]=t}function jr(e){var t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("crossorigin","anonymous"),new Promise(function(r){t.addEventListener("load",function(){r()},!1),t.addEventListener("error",function(){r()},!1),document.body.appendChild(t)})}function Lr(){return W(function(e){switch(e.g){case 1:return e.m=2,O(e,WebAssembly.instantiate(Or),4);case 4:e.g=3,e.m=0;break;case 2:return e.m=0,e.j=null,e.return(!1);case 3:return e.return(!0)}})}function or(e){if(this.g=e,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=Promise.resolve(),this.P="",this.B={},this.locateFile=e&&e.locateFile||Ir,typeof window=="object")var t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location!="undefined")t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.S=t,e.options){t=x(Object.keys(e.options));for(var r=t.next();!r.done;r=t.next()){r=r.value;var n=e.options[r].default;n!==void 0&&(this.j[r]=typeof n=="function"?n():n)}}}s=or.prototype,s.close=function(){return this.i&&this.i.delete(),Promise.resolve()};function Br(e){var t,r,n,o,l,i,c,u,p,w,F;return W(function(E){switch(E.g){case 1:return e.R?(t=e.g.files===void 0?[]:typeof e.g.files=="function"?e.g.files(e.j):e.g.files,O(E,Lr(),2)):E.return();case 2:if(r=E.h,typeof window=="object")return dr("createMediapipeSolutionsWasm",{locateFile:e.locateFile}),dr("createMediapipeSolutionsPackedAssets",{locateFile:e.locateFile}),i=t.filter(function(b){return b.data!==void 0}),c=t.filter(function(b){return b.data===void 0}),u=Promise.all(i.map(function(b){var C=Lt(e,b.url);if(b.path!==void 0){var S=b.path;C=C.then(function(z){return e.overrideFile(S,z),Promise.resolve(z)})}return C})),p=Promise.all(c.map(function(b){return b.simd===void 0||b.simd&&r||!b.simd&&!r?jr(e.locateFile(b.url,e.S)):Promise.resolve()})).then(function(){var b,C,S;return W(function(z){if(z.g==1)return b=window.createMediapipeSolutionsWasm,C=window.createMediapipeSolutionsPackedAssets,S=e,O(z,b(C),2);S.h=z.h,z.g=0})}),w=function(){return W(function(b){return e.g.graph&&e.g.graph.url?b=O(b,Lt(e,e.g.graph.url),0):(b.g=0,b=void 0),b})}(),O(E,Promise.all([p,u,w]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return n=t.filter(function(b){return b.simd===void 0||b.simd&&r||!b.simd&&!r}).map(function(b){return e.locateFile(b.url,e.S)}),importScripts.apply(null,A(n)),o=e,O(E,createMediapipeSolutionsWasm(Module),6);case 6:o.h=E.h,e.l=new OffscreenCanvas(1,1),e.h.canvas=e.l,l=e.h.GL.createContext(e.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext!="undefined"?2:1}),e.h.GL.makeContextCurrent(l),E.g=4;break;case 7:if(e.l=document.createElement("canvas"),F=e.l.getContext("webgl2",{}),!F&&(F=e.l.getContext("webgl",{}),!F))return alert("Failed to create WebGL canvas context when passing video frame."),E.return();e.D=F,e.h.canvas=e.l,e.h.createContext(e.l,!0,!0,{});case 4:e.i=new e.h.SolutionWasm,e.R=!1,E.g=0}})}function Mr(e){var t,r,n,o,l,i,c,u;return W(function(p){if(p.g==1){if(e.g.graph&&e.g.graph.url&&e.P===e.g.graph.url)return p.return();if(e.o=!0,!e.g.graph||!e.g.graph.url){p.g=2;return}return e.P=e.g.graph.url,O(p,Lt(e,e.g.graph.url),3)}for(p.g!=2&&(t=p.h,e.i.loadGraph(t)),r=x(Object.keys(e.B)),n=r.next();!n.done;n=r.next())o=n.value,e.i.overrideFile(o,e.B[o]);if(e.B={},e.g.listeners)for(l=x(e.g.listeners),i=l.next();!i.done;i=l.next())c=i.value,$r(e,c);u=e.j,e.j={},e.setOptions(u),p.g=0})}s.reset=function(){var e=this;return W(function(t){e.i&&(e.i.reset(),e.m={},e.s={}),t.g=0})},s.setOptions=function(e,t){var r=this;if(t=t||this.g.options){for(var n=[],o=[],l={},i=x(Object.keys(e)),c=i.next();!c.done;l={K:l.K,L:l.L},c=i.next()){var u=c.value;u in this.j&&this.j[u]===e[u]||(this.j[u]=e[u],c=t[u],c!==void 0&&(c.onChange&&(l.K=c.onChange,l.L=e[u],n.push(function(p){return function(){var w;return W(function(F){if(F.g==1)return O(F,p.K(p.L),2);w=F.h,w===!0&&(r.o=!0),F.g=0})}}(l))),c.graphOptionXref&&(u={valueNumber:c.type===1?e[u]:0,valueBoolean:c.type===0?e[u]:!1,valueString:c.type===2?e[u]:""},c=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),c.graphOptionXref),u),o.push(c))))}(n.length!==0||o.length!==0)&&(this.o=!0,this.A=(this.A===void 0?[]:this.A).concat(o),this.v=(this.v===void 0?[]:this.v).concat(n))}};function zr(e){var t,r,n,o,l,i,c;return W(function(u){switch(u.g){case 1:if(!e.o)return u.return();if(!e.v){u.g=2;break}t=x(e.v),r=t.next();case 3:if(r.done){u.g=5;break}return n=r.value,O(u,n(),4);case 4:r=t.next(),u.g=3;break;case 5:e.v=void 0;case 2:if(e.A){for(o=new e.h.GraphOptionChangeRequestList,l=x(e.A),i=l.next();!i.done;i=l.next())c=i.value,o.push_back(c);e.i.changeOptions(o),o.delete(),e.A=void 0}e.o=!1,u.g=0}})}s.initialize=function(){var e=this;return W(function(t){return t.g==1?O(t,Br(e),2):t.g!=3?O(t,Mr(e),3):O(t,zr(e),0)})};function Lt(e,t){var r,n;return W(function(o){return t in e.F?o.return(e.F[t]):(r=e.locateFile(t,""),n=fetch(r).then(function(l){return l.arrayBuffer()}),e.F[t]=n,o.return(n))})}s.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.B[e]=t},s.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},s.send=function(e,t){var r=this,n,o,l,i,c,u,p,w,F;return W(function(E){switch(E.g){case 1:return r.g.inputs?(n=1e3*(t==null?performance.now():t),O(E,r.C,2)):E.return();case 2:return O(E,r.initialize(),3);case 3:for(o=new r.h.PacketDataList,l=x(Object.keys(e)),i=l.next();!i.done;i=l.next())if(c=i.value,u=r.g.inputs[c]){e:{var b=e[c];switch(u.type){case"video":var C=r.m[u.stream];if(C||(C=new nr(r.h,r.D),r.m[u.stream]=C),C.l===0&&(C.l=C.h.createTexture()),typeof HTMLVideoElement!="undefined"&&b instanceof HTMLVideoElement)var S=b.videoWidth,z=b.videoHeight;else typeof HTMLImageElement!="undefined"&&b instanceof HTMLImageElement?(S=b.naturalWidth,z=b.naturalHeight):(S=b.width,z=b.height);z={glName:C.l,width:S,height:z},S=C.g,S.canvas.width=z.width,S.canvas.height=z.height,S.activeTexture(S.TEXTURE0),C.h.bindTexture2d(C.l),S.texImage2D(S.TEXTURE_2D,0,S.RGBA,S.RGBA,S.UNSIGNED_BYTE,b),C.h.bindTexture2d(0),C=z;break e;case"detections":for(C=r.m[u.stream],C||(C=new Pr(r.h),r.m[u.stream]=C),C.data||(C.data=new C.g.DetectionListData),C.data.reset(b.length),z=0;z<b.length;++z){S=b[z];var B=C.data,J=B.setBoundingBox,ue=z,ee=S.T,P=new st;if(U(P,1,ee.Y),U(P,2,ee.Z),U(P,3,ee.height),U(P,4,ee.width),U(P,5,ee.rotation),U(P,6,ee.W),ee=nt(P,Ar),J.call(B,ue,ee),S.O)for(B=0;B<S.O.length;++B){P=S.O[B];var V=!!P.visibility;J=C.data,ue=J.addNormalizedLandmark,ee=z,P=Object.assign(Object.assign({},P),{visibility:V?P.visibility:0}),V=new Ke,U(V,1,P.x),U(V,2,P.y),U(V,3,P.z),P.visibility&&U(V,4,P.visibility),P=nt(V,Qt),ue.call(J,ee,P)}if(S.M)for(B=0;B<S.M.length;++B)J=C.data,ue=J.addClassification,ee=z,P=S.M[B],V=new Me,U(V,2,P.X),P.index&&U(V,1,P.index),P.label&&U(V,3,P.label),P.displayName&&U(V,4,P.displayName),P=nt(V,Yt),ue.call(J,ee,P)}C=C.data;break e;default:C={}}}switch(p=C,w=u.stream,u.type){case"video":o.pushTexture2d(Object.assign(Object.assign({},p),{stream:w,timestamp:n}));break;case"detections":F=p,F.stream=w,F.timestamp=n,o.pushDetectionList(F);break;default:throw Error("Unknown input config type: '"+u.type+"'")}}return r.i.send(o),O(E,r.C,4);case 4:o.delete(),E.g=0}})};function Nr(e,t,r){var n,o,l,i,c,u,p,w,F,E,b,C,S,z;return W(function(B){switch(B.g){case 1:if(!r)return B.return(t);for(n={},o=0,l=x(Object.keys(r)),i=l.next();!i.done;i=l.next())c=i.value,u=r[c],typeof u!="string"&&u.type==="texture"&&t[u.stream]!==void 0&&++o;1<o&&(e.G=!1),p=x(Object.keys(r)),i=p.next();case 2:if(i.done){B.g=4;break}if(w=i.value,F=r[w],typeof F=="string")return S=n,z=w,O(B,Hr(e,w,t[F]),14);if(E=t[F.stream],F.type==="detection_list"){if(E){for(var J=E.getRectList(),ue=E.getLandmarksList(),ee=E.getClassificationsList(),P=[],V=0;V<J.size();++V){var Fe=ot(J.get(V),st,Fr);Fe={T:{Y:le(Fe,1),Z:le(Fe,2),height:le(Fe,3),width:le(Fe,4),rotation:le(Fe,5,0),W:Tt(Fe,6)},O:rr(ue.get(V)),M:Rr(ot(ee.get(V),it,Jt))},P.push(Fe)}J=P}else J=[];n[w]=J,B.g=7;break}if(F.type==="proto_list"){if(E){for(J=Array(E.size()),ue=0;ue<E.size();ue++)J[ue]=E.get(ue);E.delete()}else J=[];n[w]=J,B.g=7;break}if(E===void 0){B.g=3;break}if(F.type==="float_list"){n[w]=E,B.g=7;break}if(F.type==="proto"){n[w]=E,B.g=7;break}if(F.type!=="texture")throw Error("Unknown output config type: '"+F.type+"'");return b=e.s[w],b||(b=new nr(e.h,e.D),e.s[w]=b),O(B,hr(b,E,e.G),13);case 13:C=B.h,n[w]=C;case 7:F.transform&&n[w]&&(n[w]=F.transform(n[w])),B.g=3;break;case 14:S[z]=B.h;case 3:i=p.next(),B.g=2;break;case 4:return B.return(n)}})}function Hr(e,t,r){var n;return W(function(o){return typeof r=="number"||r instanceof Uint8Array||r instanceof e.h.Uint8BlobList?o.return(r):r instanceof e.h.Texture2dDataOut?(n=e.s[t],n||(n=new nr(e.h,e.D),e.s[t]=n),o.return(hr(n,r,e.G))):o.return(void 0)})}function $r(e,t){for(var r=t.name||"$",n=[].concat(A(t.wants)),o=new e.h.StringList,l=x(t.wants),i=l.next();!i.done;i=l.next())o.push_back(i.value);l=e.h.PacketListener.implement({onResults:function(c){for(var u={},p=0;p<t.wants.length;++p)u[n[p]]=c.get(p);var w=e.listeners[r];w&&(e.C=Nr(e,u,t.outs).then(function(F){F=w(F);for(var E=0;E<t.wants.length;++E){var b=u[n[E]];typeof b=="object"&&b.hasOwnProperty&&b.hasOwnProperty("delete")&&b.delete()}F&&(e.C=F)}))}}),e.i.attachMultiListener(o,l),o.delete()}s.onResults=function(e,t){this.listeners[t||"$"]=e},ne("Solution",or),ne("OptionType",{BOOL:0,NUMBER:1,$:2,0:"BOOL",1:"NUMBER",2:"STRING"});function fr(e){switch(e===void 0&&(e=0),e){case 1:return"pose_landmark_full.tflite";case 2:return"pose_landmark_heavy.tflite";default:return"pose_landmark_lite.tflite"}}function gr(e){var t=this;e=e||{},this.g=new or({locateFile:e.locateFile,files:function(r){return[{url:"pose_solution_packed_assets_loader.js"},{simd:!1,url:"pose_solution_wasm_bin.js"},{simd:!0,url:"pose_solution_simd_wasm_bin.js"},{data:!0,url:fr(r.modelComplexity)}]},graph:{url:"pose_web.binarypb"},listeners:[{wants:["pose_landmarks","world_landmarks","segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:rr},poseWorldLandmarks:{type:"proto",stream:"world_landmarks",transform:rr},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(r){var n,o,l;return W(function(i){return i.g==1?(n=fr(r),o="third_party/mediapipe/modules/pose_landmark/"+n,O(i,Lt(t.g,n),2)):(l=i.h,t.g.overrideFile(o,l),i.return(!0))})}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}}}})}s=gr.prototype,s.reset=function(){this.g.reset()},s.close=function(){return this.g.close(),Promise.resolve()},s.onResults=function(e){this.g.onResults(e)},s.initialize=function(){var e=this;return W(function(t){return O(t,e.g.initialize(),0)})},s.send=function(e,t){var r=this;return W(function(n){return O(n,r.g.send(e,t),0)})},s.setOptions=function(e){this.g.setOptions(e)},ne("Pose",gr),ne("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]),ne("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32}),ne("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31}),ne("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32}),ne("POSE_LANDMARKS_NEUTRAL",{NOSE:0}),ne("VERSION","0.5.1635988162")}).call(ar);let Cr,lr;function An(s){var h,g;lr&&lr({normalizedLandmarks:((h=s==null?void 0:s.poseLandmarks)==null?void 0:h.map(m=>({point:[m.x,m.y,-m.z],visibility:m.visibility||0})))||[],worldLandmarks:((g=s==null?void 0:s.poseWorldLandmarks)==null?void 0:g.map(m=>({point:[m.x,-m.y,-m.z],visibility:m.visibility||0})))||[]})}function Fn(){return Cr=Cr||new Promise(async function(s){const h=new Tn.Pose({locateFile(g,m){return"./node_modules/@mediapipe/pose/"+g}});h.setOptions({selfieMode:!1,modelComplexity:2,smoothLandmarks:!1}),await h.initialize(),h.onResults(An),s(h)})}const Ye=33;function Rn(s){return new Promise(async function(h){const g=await Fn();g.reset(),lr=h,await g.send({image:s})})}const Xe=document.createElement("canvas"),He=Xe.getContext("2d");function Sn(s,h,g){(Xe.width!==s.width||Xe.height!==s.height)&&(Xe.width=s.width,Xe.height=s.height),He.drawImage(s,0,0);const m=s.width,y=s.height;if(h.length===Ye){let v=function(L){He.beginPath();const R=h[L],N=R[0]*m,j=R[1]*y;He.moveTo(N,j),A+=1,I+=g[L]},f=function(L){const R=h[L],N=R[0]*m,j=R[1]*y;He.lineTo(N,j),A+=1,I+=g[L]},x=function(){const L=I/A||0,R=Math.floor(255*L),N=0,j=Math.floor(255*(1-L));He.strokeStyle=`rgb(${R},${N},${j})`,He.stroke(),A=0,I=0};He.lineWidth=Math.max(m,y)/100*2;let A=0,I=0;v(8),f(6),f(5),f(4),f(0),f(1),f(2),f(3),f(7),x(),v(10),f(9),x(),v(12),f(24),f(23),f(11),f(12),x(),v(12),f(14),f(16),x(),v(11),f(13),f(15),x(),v(24),f(26),f(28),x(),v(23),f(25),f(27),x(),v(16),f(18),f(20),f(16),f(22),x(),v(15),f(17),f(19),f(15),f(21),x(),v(28),f(32),f(30),f(28),x(),v(27),f(29),f(31),f(27),x()}return Xe.toDataURL("jpg",1)}class kn{constructor(){M(this,"id","");M(this,"url","");M(this,"width",0);M(this,"height",0);M(this,"normalized",[]);M(this,"world",[]);M(this,"visibility",[]);M(this,"selected",!1);M(this,"landmarksImage","")}async load(h){const g=await Cn(h);this.id=h,console.info(`Loading #${h}`);const m=this.url=g.url,y=await wn(m);this.width=y.width,this.height=y.height;const v=await Rn(y);this.normalized=v.normalizedLandmarks.map(f=>f.point),this.world=v.worldLandmarks.map(f=>f.point),this.visibility=v.normalizedLandmarks.map(f=>f.visibility),this.selected=!!this.normalized.length,this.normalized.length&&(this.landmarksImage=Sn(y,this.normalized,this.visibility))}}const Pn=5e3;class Tr{constructor(){M(this,"loaded",!1);M(this,"size",0);M(this,"idSet",new Set);M(this,"data",[])}}class On{constructor(h,g){M(this,"index");M(this,"size");this.index=h,this.size=g}}function ur(s){const h=Number(s);return Math.floor(h/Pn)+1}class zn{constructor(){M(this,"chunks",{})}async load(){(await Ne.readJson("dataset/summary.json")).forEach(g=>{const m=this.chunks[g.index]=new Tr;m.size=g.size})}async writeToFile(){const h=[];for(let g in this.chunks)h.push(new On(Number(g),this.chunks[g].data.length));await Ne.writeJson("dataset/summary.json",h);for(let g in this.chunks){const m=this.chunks[g];if(m.loaded){await Ne.writeJson(`dataset/photos_${g}.json`,m.data.map(v=>[v.id,v.url,v.width,v.height]));const y=new Float32Array(m.size*Ye*7);for(let v=0,f=m.size;v<f;++v){const x=m.data[v],A=x.normalized,I=x.world,L=x.visibility;for(let R=0;R<Ye;++R){const N=v*Ye*7+R*7;y[N+0]=A[R][0],y[N+1]=A[R][1],y[N+2]=A[R][2],y[N+3]=I[R][0],y[N+4]=I[R][1],y[N+5]=I[R][2],y[N+6]=L[R]}}await Ne.write(`dataset/landmarks_${g}.dat`,new Blob([y]));for(let v of Object.values(un)){const f=v.create(m.data);await Ne.write(`dataset/f_${v.filename}_${g}.dat`,new Blob([f]))}}}}async getChunk(h){const g=this.chunks[h];if(!g){const m=this.chunks[h]=new Tr;return m.loaded=!0,m}if(!g.loaded){const m=await Ne.readJson(`dataset/photos_${h}.json`),y=new Float32Array(await Ne.read(`dataset/landmarks_${h}.dat`)),v=[];for(let f=0,x=m.length;f<x;++f){const A=new kn;v.push(A);const I=m[f];A.id=I[0],A.url=I[1],A.width=I[2],A.height=I[3];const L=A.normalized,R=A.world,N=A.visibility;for(let j=0;j<Ye;++j){const D=f*Ye*7+j*7;L[j]=[y[D+0],y[D+1],y[D+2]],R[j]=[y[D+3],y[D+4],y[D+5]],N[j]=y[D+6]}}g.data=v,v.forEach(f=>g.idSet.add(f.id)),g.size=v.length,g.loaded=!0}return g}async loadAllChunks(){const h=Object.keys(this.chunks);for(let g of h)await this.getChunk(Number(g))}async get(h){const g=await this.getChunk(ur(h));return g.idSet.has(h)&&g.data.find(m=>m.id===h)||null}async has(h){return(await this.getChunk(ur(h))).idSet.has(h)}async add(h){const g=await this.getChunk(ur(h.id));g.idSet.has(h.id)||(g.data.push(h),g.idSet.add(h.id),g.size+=1)}get size(){let h=0;for(let g in this.chunks)h+=this.chunks[g].size;return h}async getPage(h,g=60){const m=(h-1)*g,y=Object.keys(this.chunks).map(f=>Number(f)).sort((f,x)=>f-x);let v=0;for(let f of y){const x=this.chunks[f];if(v+x.size>=m)return(await this.getChunk(f)).data.slice(m-v,m-v+g);v+=x.size}return[]}getNumOfPages(h=60){return Math.ceil(this.size/h)}}export{Bn as N,zn as P,kn as a,Mn as g};
//# sourceMappingURL=PhotoDataset.c91fd994.js.map
