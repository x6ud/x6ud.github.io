import{N as P,P as w}from"./PhotoDataset.c91fd994.js";import{e as k,g as i,i as D,u as b,r as _,o as m,D as g,G as a,P as h,f as u,E as f,O as C,F as z,I as L,k as y}from"./vendor.1d5e9611.js";import{L as x,ab as F}from"./feature-buffers.02aa0128.js";import{a as M}from"./index.0da64971.js";var O=k({components:{NButton:x,NInput:P,NSpin:F},setup(){const e=new w,s=i(!1),p=i(0),c=i(0),t=i("1"),d=i([]),n=i(!1);D(async function(){try{s.value=!0,await e.load(),p.value=e.size,c.value=e.getNumOfPages()}finally{s.value=!1}await l()});async function l(){try{n.value=!0,d.value=[],await b(),d.value=await e.getPage(Number(t.value))}finally{n.value=!1}}async function v(){const r=Math.max(1,Number(t.value)-1);Number(t.value)!==r&&(t.value=r+"",await l())}async function o(){const r=Math.min(c.value,Number(t.value)+1);Number(t.value)!==r&&(t.value=r+"",await l())}async function N(){try{s.value=!0,await e.writeToFile()}finally{s.value=!1}}return{datasetLoading:s,datasetLength:p,numOfPages:c,pageNum:t,pageData:d,pageLoading:n,loadPage:l,prevPage:v,nextPage:o,saveDatasetToFile:N}}});const T={class:"container rows"},j={class:"cols",style:{"font-size":"12px","align-items":"center"}},B=a("div",{class:"fill"},null,-1),S=a("span",null,"\xA0",-1),$=y(" Save JSON "),I={class:"scroll-list fill"},K=["data-id"],V=["src"],E={class:"cols",style:{"font-size":"12px","align-items":"center"}},G=a("div",{class:"fill"},null,-1),J=a("div",{class:"fill"},null,-1),R=y(" Prev "),U=y(" Next ");function q(e,s,p,c,t,d){const n=_("n-button"),l=_("n-spin"),v=_("n-input");return m(),g("div",T,[a("div",j,[B,a("span",null,"Num of Records: "+h(e.datasetLength),1),S,u(n,{size:"tiny",type:"primary",onClick:e.saveDatasetToFile},{default:f(()=>[$]),_:1},8,["onClick"])]),a("div",I,[u(l,{show:e.pageLoading},{default:f(()=>[(m(!0),g(z,null,L(e.pageData,o=>(m(),g("div",{class:"item photo","data-id":o.id},[a("img",{src:o.landmarksImage||o.url,alt:"",referrerpolicy:"no-referrer"},null,8,V)],8,K))),256))]),_:1},8,["show"])]),a("div",E,[G,J,u(v,{style:{width:"60px"},size:"tiny",placeholder:"Page",value:e.pageNum,"onUpdate:value":s[0]||(s[0]=o=>e.pageNum=o),onKeypress:C(e.loadPage,["enter"])},null,8,["value","onKeypress"]),a("span",null,"/ "+h(e.numOfPages),1),u(n,{size:"tiny",onClick:e.prevPage},{default:f(()=>[R]),_:1},8,["onClick"]),u(n,{size:"tiny",onClick:e.nextPage},{default:f(()=>[U]),_:1},8,["onClick"])])])}var X=M(O,[["render",q]]);export{X as default};
//# sourceMappingURL=DatasetManager.cca929c5.js.map
