import{N as w,P}from"./PhotoDataset.b6619081.js";import{e as b,g as i,i as k,u as D,r as _,o as m,D as g,G as a,I as h,f as u,E as f,Q as C,F as z,J as L,k as y}from"./vendor.50301a75.js";import{L as x,ab as F}from"./feature-buffers.be4220ab.js";import{a as M}from"./index.d4cb29f4.js";var T=b({components:{NButton:x,NInput:w,NSpin:F},setup(){const e=new P,s=i(!1),p=i(0),c=i(0),t=i("1"),d=i([]),n=i(!1);k(async function(){try{s.value=!0,await e.load(),p.value=e.size,c.value=e.getNumOfPages()}finally{s.value=!1}await l()});async function l(){try{n.value=!0,d.value=[],await D(),d.value=await e.getPage(Number(t.value))}finally{n.value=!1}}async function v(){const r=Math.max(1,Number(t.value)-1);Number(t.value)!==r&&(t.value=r+"",await l())}async function o(){const r=Math.min(c.value,Number(t.value)+1);Number(t.value)!==r&&(t.value=r+"",await l())}async function N(){try{s.value=!0,await e.writeToFile()}finally{s.value=!1}}return{datasetLoading:s,datasetLength:p,numOfPages:c,pageNum:t,pageData:d,pageLoading:n,loadPage:l,prevPage:v,nextPage:o,saveDatasetToFile:N}}});const j={class:"container rows"},B={class:"cols",style:{"font-size":"12px","align-items":"center"}},O=a("div",{class:"fill"},null,-1),S=a("span",null,"\xA0",-1),$=y(" Save JSON "),I={class:"scroll-list fill"},K=["data-id"],V=["src"],E={class:"cols",style:{"font-size":"12px","align-items":"center"}},J=a("div",{class:"fill"},null,-1),G=a("div",{class:"fill"},null,-1),Q=y(" Prev "),R=y(" Next ");function U(e,s,p,c,t,d){const n=_("n-button"),l=_("n-spin"),v=_("n-input");return m(),g("div",j,[a("div",B,[O,a("span",null,"Num of Records: "+h(e.datasetLength),1),S,u(n,{size:"tiny",type:"primary",onClick:e.saveDatasetToFile},{default:f(()=>[$]),_:1},8,["onClick"])]),a("div",I,[u(l,{show:e.pageLoading},{default:f(()=>[(m(!0),g(z,null,L(e.pageData,o=>(m(),g("div",{class:"item photo","data-id":o.id},[a("img",{src:o.landmarksImage||o.url,alt:"",referrerpolicy:"no-referrer"},null,8,V)],8,K))),256))]),_:1},8,["show"])]),a("div",E,[J,G,u(v,{style:{width:"60px"},size:"tiny",placeholder:"Page",value:e.pageNum,"onUpdate:value":s[0]||(s[0]=o=>e.pageNum=o),onKeypress:C(e.loadPage,["enter"])},null,8,["value","onKeypress"]),a("span",null,"/ "+h(e.numOfPages),1),u(n,{size:"tiny",onClick:e.prevPage},{default:f(()=>[Q]),_:1},8,["onClick"]),u(n,{size:"tiny",onClick:e.nextPage},{default:f(()=>[R]),_:1},8,["onClick"])])])}var X=M(T,[["render",U]]);export{X as default};
//# sourceMappingURL=DatasetManager.36476cd6.js.map
