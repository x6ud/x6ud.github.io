var ho=Object.defineProperty;var po=(e,o,n)=>o in e?ho(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n;var ae=(e,o,n)=>(po(e,typeof o!="symbol"?o+"":o,n),n);import{i as Te,D as be,a as H,c as A,j as l,b as U,w as ie,H as fo,k as Le,l as we,m as vo,K as Ne,M as Ve,e as De,al as Ie,V as go,I as mo,N as bo,t as Ue,F as T,s as We,o as q,B as wo,x as xo,A as _o,p as Be,f as Z,Z as yo,$ as Oe,am as Co,an as He,ao as ko,ap as Fe,aq as Ae,ar as Pe,as as Ke,at as zo,au as $o,av as So,aw as Ro,ax as Bo,ay as Fo,az as je,aA as Ao,ag as Po,aB as Mo,aC as Eo,ad as To,Y as Lo,ae as No,af as Vo,ah as Do,ak as qe,aD as Io,aE as Uo}from"./PhotoDataset.92dd281a.js";import{e as O,o as G,c as ce,f as w,h as s,p as Wo,j as J,k as b,t as Ge,i as xe,N as Oo,w as Ho,u as Ko,l as re,n as jo,s as _e,T as qo,r as W,y as ue,C as V,z as k,q as Go,P as Yo,F as Xo,G as Zo,B as Jo,D as he,Q as Qo,R as ea,S as ta,A as oa,g as le}from"./vendor.1b7edcc2.js";import{_ as Me}from"./index.52ab8277.js";const aa={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},ra=w("path",{d:"M608 112c-167.9 0-304 136.1-304 304c0 70.3 23.9 135 63.9 186.5l-41.1 41.1l-62.3-62.3a8.15 8.15 0 0 0-11.4 0l-39.8 39.8a8.15 8.15 0 0 0 0 11.4l62.3 62.3l-44.9 44.9l-62.3-62.3a8.15 8.15 0 0 0-11.4 0l-39.8 39.8a8.15 8.15 0 0 0 0 11.4l62.3 62.3l-65.3 65.3a8.03 8.03 0 0 0 0 11.3l42.3 42.3c3.1 3.1 8.2 3.1 11.3 0l253.6-253.6A304.06 304.06 0 0 0 608 720c167.9 0 304-136.1 304-304S775.9 112 608 112zm161.2 465.2C726.2 620.3 668.9 644 608 644c-60.9 0-118.2-23.7-161.2-66.8c-43.1-43-66.8-100.3-66.8-161.2c0-60.9 23.7-118.2 66.8-161.2c43-43.1 100.3-66.8 161.2-66.8c60.9 0 118.2 23.7 161.2 66.8c43.1 43 66.8 100.3 66.8 161.2c0 60.9-23.7 118.2-66.8 161.2z",fill:"currentColor"},null,-1);var na=O({name:"KeyOutlined",render:function(o,n){return G(),ce("svg",aa,[ra])}});const ia={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},la=w("path",{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281l360-281.1c3.8-3 6.1-7.7 6.1-12.6z",fill:"currentColor"},null,-1);var sa=O({name:"LeftOutlined",render:function(o,n){return G(),ce("svg",ia,[la])}});const da={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},ca=w("path",{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1l-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z",fill:"currentColor"},null,-1);var ua=O({name:"RightOutlined",render:function(o,n){return G(),ce("svg",da,[ca])}});const ha={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},pa=w("path",{d:"M893.3 293.3L730.7 130.7c-12-12-28.3-18.7-45.3-18.7H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 176h256v112H384V176zm128 554c-79.5 0-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144s-64.5 144-144 144zm0-224c-44.2 0-80 35.8-80 80s35.8 80 80 80s80-35.8 80-80s-35.8-80-80-80z",fill:"currentColor"},null,-1);var fa=O({name:"SaveFilled",render:function(o,n){return G(),ce("svg",ha,[pa])}});const va={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},ga=w("path",{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1c-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z",fill:"currentColor"},null,-1);var ma=O({name:"SearchOutlined",render:function(o,n){return G(),ce("svg",va,[ga])}}),ba=O({name:"Eye",render(){return s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},s("path",{d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),s("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}))}}),wa=O({name:"EyeOff",render(){return s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},s("path",{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z",fill:"currentColor"}),s("path",{d:"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z",fill:"currentColor"}),s("path",{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z",fill:"currentColor"}),s("path",{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z",fill:"currentColor"}),s("path",{d:"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z",fill:"currentColor"}))}}),xa={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"};const _a=e=>{const{textColor2:o,textColor3:n,textColorDisabled:r,primaryColor:u,primaryColorHover:i,inputColor:c,inputColorDisabled:g,borderColor:m,warningColor:h,warningColorHover:y,errorColor:_,errorColorHover:$,borderRadius:S,lineHeight:L,fontSizeTiny:D,fontSizeSmall:R,fontSizeMedium:M,fontSizeLarge:v,heightTiny:p,heightSmall:d,heightMedium:z,heightLarge:N,actionColor:x,clearColor:B,clearColorHover:C,clearColorPressed:K,placeholderColor:E,placeholderColorDisabled:Y,iconColor:se,iconColorDisabled:X,iconColorHover:te,iconColorPressed:de}=e;return Object.assign(Object.assign({},xa),{countTextColor:n,heightTiny:p,heightSmall:d,heightMedium:z,heightLarge:N,fontSizeTiny:D,fontSizeSmall:R,fontSizeMedium:M,fontSizeLarge:v,lineHeight:L,lineHeightTextarea:L,borderRadius:S,iconSize:"16px",groupLabelColor:x,groupLabelTextColor:o,textColor:o,textColorDisabled:r,textDecorationColor:o,caretColor:u,placeholderColor:E,placeholderColorDisabled:Y,color:c,colorDisabled:g,colorFocus:c,groupLabelBorder:`1px solid ${m}`,border:`1px solid ${m}`,borderHover:`1px solid ${i}`,borderDisabled:`1px solid ${m}`,borderFocus:`1px solid ${i}`,boxShadowFocus:`0 0 0 2px ${be(u,{alpha:.2})}`,loadingColor:u,loadingColorWarning:h,borderWarning:`1px solid ${h}`,borderHoverWarning:`1px solid ${y}`,colorFocusWarning:c,borderFocusWarning:`1px solid ${y}`,boxShadowFocusWarning:`0 0 0 2px ${be(h,{alpha:.2})}`,caretColorWarning:h,loadingColorError:_,borderError:`1px solid ${_}`,borderHoverError:`1px solid ${$}`,colorFocusError:c,borderFocusError:`1px solid ${$}`,boxShadowFocusError:`0 0 0 2px ${be(_,{alpha:.2})}`,caretColorError:_,clearColor:B,clearColorHover:C,clearColorPressed:K,iconColor:se,iconColorDisabled:X,iconColorHover:te,iconColorPressed:de,suffixTextColor:o})},ya={name:"Input",common:Te,self:_a};var Ca=ya;const Ye=Symbol("input");function ka(e){let o=0;for(const n of e)o++;return o}function ye(e){return["",void 0,null].includes(e)}var Xe=O({name:"InputWordCount",setup(e,{slots:o}){const{mergedValueRef:n,maxlengthRef:r,mergedClsPrefixRef:u}=Wo(Ye),i=J(()=>{const{value:c}=n;return c===null||Array.isArray(c)?0:ka(c)});return()=>{const{value:c}=r,{value:g}=n;return s("span",{class:`${u.value}-input-word-count`},o.default?o.default({value:g===null||Array.isArray(g)?"":g}):c===void 0?i.value:`${i.value} / ${c}`)}}}),za=H([A("input",`
 max-width: 100%;
 cursor: text;
 line-height: 1.5;
 z-index: auto;
 outline: none;
 box-sizing: border-box;
 position: relative;
 display: inline-flex;
 border-radius: var(--border-radius);
 background-color: var(--color);
 transition: background-color .3s var(--bezier);
 font-size: var(--font-size);
 --padding-vertical: calc((var(--height) - 1.5 * var(--font-size)) / 2);
 `,[l("input, textarea",`
 overflow: hidden;
 flex-grow: 1;
 position: relative;
 `),l("input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder",`
 box-sizing: border-box;
 font-size: inherit;
 line-height: 1.5;
 font-family: inherit;
 border: none;
 outline: none;
 background-color: #0000;
 text-align: inherit;
 transition:
 caret-color .3s var(--bezier),
 color .3s var(--bezier),
 text-decoration-color .3s var(--bezier);
 `),l("input-el, textarea-el",`
 -webkit-appearance: none;
 width: 100%;
 min-width: 0;
 text-decoration-color: var(--text-decoration-color);
 color: var(--text-color);
 caret-color: var(--caret-color);
 `,[H("&::placeholder",{color:"#0000"})]),U("round",[ie("textarea",{borderRadius:"calc(var(--height) / 2)"})]),l("placeholder",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: hidden;
 color: var(--placeholder-color);
 `,[H("span",{width:"100%",display:"inline-block"})]),ie("autosize",{width:"100%"}),U("autosize",[l("textarea-el, input-el",`
 position: absolute;
 top: 0;
 left: 0;
 height: 100%;
 `)]),A("input-wrapper",`
 overflow: hidden;
 display: inline-flex;
 flex-grow: 1;
 position: relative;
 padding-left: var(--padding-left);
 padding-right: var(--padding-right);
 `),l("input-mirror",`
 padding: 0;
 height: var(--height);
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: nowrap;
 pointer-events: none;
 `),l("input-el",`
 padding: 0;
 height: var(--height);
 line-height: var(--height);
 `,[H("+",[l("placeholder",`
 display: flex;
 align-items: center; 
 `)])]),ie("textarea",[l("placeholder",{whiteSpace:"nowrap"})]),l("eye",`
 transition: color .3s var(--bezier);
 `),U("textarea",{width:"100%"},[A("input-word-count",`
 position: absolute;
 right: var(--padding-right);
 bottom: var(--padding-vertical);
 `),U("resizable",[A("input-wrapper",`
 resize: vertical;
 overflow: auto;
 min-height: var(--height);
 `)]),l("textarea-el, textarea-mirror, placeholder",`
 width: 100%;
 height: 100%;
 padding-left: 0;
 padding-right: 0;
 padding-top: var(--padding-vertical);
 padding-bottom: var(--padding-vertical);
 display: inline-block;
 vertical-align: bottom;
 box-sizing: border-box;
 line-height: var(--line-height-textarea);
 margin: 0;
 resize: none;
 `),l("textarea-mirror",`
 pointer-events: none;
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre-wrap;
 overflow-wrap: break-word;
 `)]),U("pair",[l("input-el, placeholder",{textAlign:"center"}),l("separator",`
 display: flex;
 align-items: center;
 transition: color .3s var(--bezier);
 color: var(--text-color);
 `,[A("icon",`
 color: var(--icon-color);
 `),A("base-icon",`
 color: var(--icon-color);
 `)])]),U("disabled",{cursor:"not-allowed",backgroundColor:"var(--color-disabled)"},[l("border",{border:"var(--border-disabled)"}),l("input-el, textarea-el",{cursor:"not-allowed",color:"var(--text-color-disabled)",textDecorationColor:"var(--text-color-disabled)"}),l("placeholder",{color:"var(--placeholder-color-disabled)"}),l("separator",{color:"var(--text-color-disabled)"},[A("icon",`
 color: var(--icon-color-disabled);
 `),A("base-icon",`
 color: var(--icon-color-disabled);
 `)]),l("suffix, prefix",{color:"var(--text-color-disabled)"},[A("icon",`
 color: var(--icon-color-disabled);
 `),A("internal-icon",`
 color: var(--icon-color-disabled);
 `)])]),ie("disabled",[l("eye",`
 color: var(--icon-color);
 cursor: pointer;
 `,[H("&:hover",`
 color: var(--icon-color-hover);
 `),H("&:active",`
 color: var(--icon-color-pressed);
 `)]),U("focus",{backgroundColor:"var(--color-focus)"},[l("state-border",{border:"var(--border-focus)",boxShadow:"var(--box-shadow-focus)"})]),H("&:hover",[l("state-border",{border:"var(--border-focus)"})])]),l("border, state-border",`
 box-sizing: border-box;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: inherit;
 border: var(--border);
 transition:
 box-shadow .3s var(--bezier),
 border-color .3s var(--bezier);
 `),l("state-border",`
 border-color: #0000;
 z-index: 1;
 `),l("prefix",{marginRight:"4px"}),l("suffix",`
 margin-left: 4px;
 `),l("suffix, prefix",`
 transition: color .3s var(--bezier);
 flex-wrap: nowrap;
 flex-shrink: 0;
 line-height: var(--height);
 white-space: nowrap;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 color: var(--suffix-text-color);
 `,[A("base-loading",`
 font-size: var(--icon-size);
 margin-left: 4px;
 color: var(--loading-color);
 `),A("base-clear",`
 font-size: var(--icon-size);
 margin-left: 4px;
 `,[l("placeholder",[A("base-icon",`
 transition: color .3s var(--bezier);
 color: var(--icon-color);
 font-size: var(--icon-size);
 `)])]),A("icon",`
 transition: color .3s var(--bezier);
 color: var(--icon-color);
 font-size: var(--icon-size);
 `),A("base-icon",`
 font-size: var(--icon-size);
 `)]),A("input-word-count",`
 pointer-events: none;
 line-height: 1.5;
 font-size: .85em;
 color: var(--count-text-color);
 transition: color .3s var(--bezier);
 margin-left: 4px;
 font-variant: tabular-nums;
 `)]),["warning","error"].map(e=>fo(e,A("input",[ie("disabled",[A("base-loading",`
 color: var(--loading-color-${e})
 `),l("input-el, textarea-el",{caretColor:`var(--caret-color-${e})`}),l("state-border",{border:`var(--border-${e})`}),H("&:hover",[l("state-border",`
 border: var(--border-hover-${e});
 `)]),H("&:focus",{backgroundColor:`var(--color-focus-${e})`},[l("state-border",`
 box-shadow: var(--box-shadow-focus-${e});
 border: var(--border-focus-${e});
 `)]),U("focus",{backgroundColor:`var(--color-focus-${e})`},[l("state-border",`
 box-shadow: var(--box-shadow-focus-${e});
 border: var(--border-focus-${e});
 `)])])])))]);const $a=Object.assign(Object.assign({},we.props),{bordered:{type:Boolean,default:void 0},type:{type:String,default:"text"},placeholder:[Array,String],defaultValue:{type:[String,Array],default:null},value:[String,Array],disabled:{type:Boolean,default:void 0},size:String,rows:{type:[Number,String],default:3},round:Boolean,minlength:[String,Number],maxlength:[String,Number],clearable:Boolean,autosize:{type:[Boolean,Object],default:!1},pair:Boolean,separator:String,readonly:{type:[String,Boolean],default:!1},passivelyActivated:Boolean,showPasswordOn:String,stateful:{type:Boolean,default:!0},autofocus:Boolean,inputProps:Object,resizable:{type:Boolean,default:!0},showCount:Boolean,loading:{type:Boolean,default:void 0},onMousedown:Function,onKeydown:Function,onKeyup:Function,onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClick:[Function,Array],onChange:[Function,Array],onClear:[Function,Array],"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],textDecoration:[String,Array],attrSize:{type:Number,default:20},onInputBlur:[Function,Array],onInputFocus:[Function,Array],onDeactivate:[Function,Array],onActivate:[Function,Array],onWrapperFocus:[Function,Array],onWrapperBlur:[Function,Array],internalDeactivateOnEnter:Boolean,internalForceFocus:Boolean,showPasswordToggle:Boolean});var Sa=O({name:"Input",props:$a,setup(e){const{mergedClsPrefixRef:o,mergedBorderedRef:n}=Le(e),r=we("Input","Input",za,Ca,e,o),u=b(null),i=b(null),c=b(null),g=b(null),m=b(null),h=b(null),{localeRef:y}=vo("Input"),_=b(e.defaultValue),$=Ge(e,"value"),S=Ne($,_),L=Ve(e),{mergedSizeRef:D,mergedDisabledRef:R}=L,M=b(!1),v=b(!1),p=b(!1),d=b(!1);let z=null;const N=J(()=>{const{placeholder:t,pair:a}=e;return a?Array.isArray(t)?t:t===void 0?["",""]:[t,t]:t===void 0?[y.value.placeholder]:[t]}),x=J(()=>{const{value:t}=p,{value:a}=S,{value:f}=N;return!t&&(ye(a)||Array.isArray(a)&&ye(a[0]))&&f[0]}),B=J(()=>{const{value:t}=p,{value:a}=S,{value:f}=N;return!t&&f[1]&&(ye(a)||Array.isArray(a)&&ye(a[1]))}),C=De(()=>e.internalForceFocus||M.value),K=De(()=>{if(R.value||e.readonly||!e.clearable||!C.value&&!v.value)return!1;const{value:t}=S,{value:a}=C;return e.pair?!!(Array.isArray(t)&&(t[0]||t[1]))&&(v.value||a):!!t&&(v.value||a)}),E=J(()=>{const{showPasswordOn:t}=e;if(t)return t;if(e.showPasswordToggle)return"click"}),Y=b(!1),se=J(()=>{const{textDecoration:t}=e;return t?Array.isArray(t)?t.map(a=>({textDecoration:a})):[{textDecoration:t}]:["",""]}),X=()=>{if(e.type==="textarea"){const{autosize:t}=e;if(typeof t=="boolean"||!i.value)return;const{paddingTop:a,paddingBottom:f,lineHeight:P}=window.getComputedStyle(i.value),F=Number(a.slice(0,-2)),I=Number(f.slice(0,-2)),oe=Number(P.slice(0,-2)),{value:Q}=c;if(!Q)return;if(t.minRows){const ee=Math.max(t.minRows,1),Re=`${F+I+oe*ee}px`;Q.style.minHeight=Re}if(t.maxRows){const ee=`${F+I+oe*t.maxRows}px`;Q.style.maxHeight=ee}}},te=J(()=>{const{maxlength:t}=e;return t===void 0?void 0:Number(t)});xe(()=>{const{value:t}=S;Array.isArray(t)||Se(t)});const de=Oo().proxy;function ne(t){const{onUpdateValue:a,"onUpdate:value":f,onInput:P}=e,{nTriggerFormInput:F}=L;a&&T(a,t),f&&T(f,t),P&&T(P,t),_.value=t,F()}function fe(t){const{onChange:a}=e,{nTriggerFormChange:f}=L;a&&T(a,t),_.value=t,f()}function Ce(t){const{onBlur:a}=e,{nTriggerFormBlur:f}=L;a&&T(a,t),f()}function ke(t){const{onFocus:a}=e,{nTriggerFormFocus:f}=L;a&&T(a,t),f()}function ze(t){const{onClear:a}=e;a&&T(a,t)}function Qe(t){const{onInputBlur:a}=e;a&&T(a,t)}function et(t){const{onInputFocus:a}=e;a&&T(a,t)}function tt(){const{onDeactivate:t}=e;t&&T(t)}function ot(){const{onActivate:t}=e;t&&T(t)}function at(t){const{onClick:a}=e;a&&T(a,t)}function rt(t){const{onWrapperFocus:a}=e;a&&T(a,t)}function nt(t){const{onWrapperBlur:a}=e;a&&T(a,t)}function it(){p.value=!0}function lt(t){p.value=!1,t.target===h.value?ve(t,1):ve(t,0)}function ve(t,a=0,f="input"){const P=t.target.value;if(Se(P),z=P,p.value)return;const F=P;if(!e.pair)f==="input"?ne(F):fe(F);else{let{value:I}=S;Array.isArray(I)?I=[...I]:I=["",""],I[a]=F,f==="input"?ne(I):fe(I)}de.$forceUpdate()}function st(t){Qe(t),t.relatedTarget===u.value&&tt(),t.relatedTarget!==null&&(t.relatedTarget===m.value||t.relatedTarget===h.value||t.relatedTarget===i.value)||(d.value=!1),ge(t,"blur")}function dt(t){et(t),M.value=!0,d.value=!0,ot(),ge(t,"focus")}function ct(t){e.passivelyActivated&&(nt(t),ge(t,"blur"))}function ut(t){e.passivelyActivated&&(M.value=!0,rt(t),ge(t,"focus"))}function ge(t,a){t.relatedTarget!==null&&(t.relatedTarget===m.value||t.relatedTarget===h.value||t.relatedTarget===i.value||t.relatedTarget===u.value)||(a==="focus"?(ke(t),M.value=!0):a==="blur"&&(Ce(t),M.value=!1))}function ht(t,a){ve(t,a,"change")}function pt(t){at(t)}function ft(t){ze(t),e.pair?ne(["",""]):ne("")}function vt(t){const{onMousedown:a}=e;a&&a(t);const{tagName:f}=t.target;if(f!=="INPUT"&&f!=="TEXTAREA"){if(e.resizable){const{value:P}=u;if(P){const{left:F,top:I,width:oe,height:Q}=P.getBoundingClientRect(),ee=14;if(F+oe-ee<t.clientX&&t.clientY<F+oe&&I+Q-ee<t.clientY&&t.clientY<I+Q)return}}t.preventDefault(),M.value||Ee()}}function gt(){v.value=!0}function mt(){v.value=!1}function bt(){R.value||E.value==="click"&&(Y.value=!Y.value)}function wt(t){if(R.value)return;t.preventDefault();const a=P=>{P.preventDefault(),We("mouseup",document,a)};if(Ue("mouseup",document,a),E.value!=="mousedown")return;Y.value=!0;const f=()=>{Y.value=!1,We("mouseup",document,f)};Ue("mouseup",document,f)}function xt(t){var a;switch((a=e.onKeydown)===null||a===void 0||a.call(e,t),t.code){case"Escape":$e();break;case"Enter":case"NumpadEnter":_t(t);break}}function _t(t){var a,f;if(e.passivelyActivated){const{value:P}=d;if(P){e.internalDeactivateOnEnter&&$e();return}t.preventDefault(),e.type==="textarea"?(a=i.value)===null||a===void 0||a.focus():(f=m.value)===null||f===void 0||f.focus()}}function $e(){e.passivelyActivated&&(d.value=!1,jo(()=>{var t;(t=u.value)===null||t===void 0||t.focus()}))}function Ee(){var t,a,f;R.value||(e.passivelyActivated?(t=u.value)===null||t===void 0||t.focus():((a=i.value)===null||a===void 0||a.focus(),(f=m.value)===null||f===void 0||f.focus()))}function yt(){var t;((t=u.value)===null||t===void 0?void 0:t.contains(document.activeElement))&&document.activeElement.blur()}function Ct(){R.value||(i.value?i.value.focus():m.value&&m.value.focus())}function kt(){const{value:t}=u;(t==null?void 0:t.contains(document.activeElement))&&t!==document.activeElement&&$e()}function Se(t){const{type:a,pair:f,autosize:P}=e;if(!f&&P)if(a==="textarea"){const{value:F}=c;F&&(F.textContent=(t!=null?t:"")+`\r
`)}else{const{value:F}=g;F&&(t?F.textContent=t:F.innerHTML="&nbsp;")}}function zt(){X()}let me=null;return Ho(()=>{const{autosize:t,type:a}=e;t&&a==="textarea"?me=_e(S,f=>{!Array.isArray(f)&&f!==z&&Se(f)}):me==null||me()}),Ko(Ye,{mergedValueRef:S,maxlengthRef:te,mergedClsPrefixRef:o}),Object.assign(Object.assign({},{wrapperElRef:u,inputElRef:m,textareaElRef:i,isCompositing:p,focus:Ee,blur:yt,deactivate:kt,activate:Ct}),{wrapperElRef:u,inputElRef:m,inputMirrorElRef:g,inputEl2Ref:h,textareaElRef:i,textareaMirrorElRef:c,uncontrolledValue:_,mergedValue:S,passwordVisible:Y,mergedPlaceholder:N,showPlaceholder1:x,showPlaceholder2:B,mergedFocus:C,isComposing:p,activated:d,showClearButton:K,mergedSize:D,mergedDisabled:R,textDecorationStyle:se,mergedClsPrefix:o,mergedBordered:n,mergedShowPasswordOn:E,handleCompositionStart:it,handleCompositionEnd:lt,handleInput:ve,handleInputBlur:st,handleInputFocus:dt,handleWrapperBlur:ct,handleWrapperFocus:ut,handleMouseEnter:gt,handleMouseLeave:mt,handleMouseDown:vt,handleChange:ht,handleClick:pt,handleClear:ft,handlePasswordToggleClick:bt,handlePasswordToggleMousedown:wt,handleWrapperKeyDown:xt,handleTextAreaMirrorResize:zt,mergedTheme:r,cssVars:J(()=>{const{value:t}=D,{common:{cubicBezierEaseInOut:a},self:{color:f,borderRadius:P,textColor:F,caretColor:I,caretColorError:oe,caretColorWarning:Q,textDecorationColor:ee,border:Re,borderDisabled:$t,borderHover:St,borderFocus:Rt,placeholderColor:Bt,placeholderColorDisabled:Ft,lineHeightTextarea:At,colorDisabled:Pt,colorFocus:Mt,textColorDisabled:Et,boxShadowFocus:Tt,iconSize:Lt,colorFocusWarning:Nt,boxShadowFocusWarning:Vt,borderWarning:Dt,borderFocusWarning:It,borderHoverWarning:Ut,colorFocusError:Wt,boxShadowFocusError:Ot,borderError:Ht,borderFocusError:Kt,borderHoverError:jt,clearSize:qt,clearColor:Gt,clearColorHover:Yt,clearColorPressed:Xt,iconColor:Zt,iconColorDisabled:Jt,suffixTextColor:Qt,countTextColor:eo,iconColorHover:to,iconColorPressed:oo,loadingColor:ao,loadingColorError:ro,loadingColorWarning:no,[q("padding",t)]:io,[q("fontSize",t)]:lo,[q("height",t)]:so}}=r.value,{left:co,right:uo}=wo(io);return{"--bezier":a,"--count-text-color":eo,"--color":f,"--font-size":lo,"--border-radius":P,"--height":so,"--padding-left":co,"--padding-right":uo,"--text-color":F,"--caret-color":I,"--text-decoration-color":ee,"--border":Re,"--border-disabled":$t,"--border-hover":St,"--border-focus":Rt,"--placeholder-color":Bt,"--placeholder-color-disabled":Ft,"--icon-size":Lt,"--line-height-textarea":At,"--color-disabled":Pt,"--color-focus":Mt,"--text-color-disabled":Et,"--box-shadow-focus":Tt,"--loading-color":ao,"--caret-color-warning":Q,"--color-focus-warning":Nt,"--box-shadow-focus-warning":Vt,"--border-warning":Dt,"--border-focus-warning":It,"--border-hover-warning":Ut,"--loading-color-warning":no,"--caret-color-error":oe,"--color-focus-error":Wt,"--box-shadow-focus-error":Ot,"--border-error":Ht,"--border-focus-error":Kt,"--border-hover-error":jt,"--loading-color-error":ro,"--clear-color":Gt,"--clear-size":qt,"--clear-color-hover":Yt,"--clear-color-pressed":Xt,"--icon-color":Zt,"--icon-color-hover":to,"--icon-color-pressed":oo,"--icon-color-disabled":Jt,"--suffix-text-color":Qt}})})},render(){const{mergedClsPrefix:e}=this;return s("div",{ref:"wrapperElRef",class:[`${e}-input`,{[`${e}-input--disabled`]:this.mergedDisabled,[`${e}-input--textarea`]:this.type==="textarea",[`${e}-input--resizable`]:this.resizable&&!this.autosize,[`${e}-input--autosize`]:this.autosize,[`${e}-input--round`]:this.round&&this.type!=="textarea",[`${e}-input--pair`]:this.pair,[`${e}-input--focus`]:this.mergedFocus,[`${e}-input--stateful`]:this.stateful}],style:this.cssVars,tabindex:!this.mergedDisabled&&this.passivelyActivated&&!this.activated?0:void 0,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd,onKeyup:this.onKeyup,onKeydown:this.handleWrapperKeyDown},s("div",{class:`${e}-input-wrapper`},this.$slots.affix||this.$slots.prefix?s("div",{class:`${e}-input__prefix`},re(this.$slots,"affix",void 0,()=>[re(this.$slots,"prefix")])):null,this.type==="textarea"?s("div",{class:`${e}-input__textarea`},s("textarea",Object.assign({},this.inputProps,{ref:"textareaElRef",class:`${e}-input__textarea-el`,autofocus:this.autofocus,rows:Number(this.rows),placeholder:this.placeholder,value:this.mergedValue,disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,readonly:this.readonly,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,style:this.textDecorationStyle[0],onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onInput:this.handleInput,onChange:this.handleChange})),this.showPlaceholder1?s("div",{class:`${e}-input__placeholder`,key:"placeholder"},this.mergedPlaceholder[0]):null,this.autosize?s(go,{onResize:this.handleTextAreaMirrorResize},{default:()=>s("div",{ref:"textareaMirrorElRef",class:`${e}-input__textarea-mirror`,key:"mirror"})}):null):s("div",{class:`${e}-input__input`},s("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:this.type==="password"&&this.mergedShowPasswordOn&&this.passwordVisible?"text":this.type,class:`${e}-input__input-el`,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[0],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[0]:this.mergedValue,readonly:this.readonly,autofocus:this.autofocus,size:this.attrSize,style:this.textDecorationStyle[0],onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onInput:o=>this.handleInput(o,0),onChange:o=>this.handleChange(o,0)})),this.showPlaceholder1?s("div",{class:`${e}-input__placeholder`},s("span",null,this.mergedPlaceholder[0])):null,this.autosize?s("div",{class:`${e}-input__input-mirror`,key:"mirror",ref:"inputMirrorElRef"},"\xA0"):null),!this.pair&&(this.$slots.suffix||this.clearable||this.showCount||this.mergedShowPasswordOn||this.loading!==void 0)?s("div",{class:`${e}-input__suffix`},[this.clearable||this.$slots.clear?s(Ie,{clsPrefix:e,show:this.showClearButton,onClear:this.handleClear},{default:()=>re(this.$slots,"clear")}):null,re(this.$slots,"suffix"),this.loading!==void 0?s(mo,{clsPrefix:e,loading:this.loading,showArrow:!1,showClear:!1,style:this.cssVars}):null,this.showCount&&this.type!=="textarea"?s(Xe,null,{default:this.$slots.count}):null,this.mergedShowPasswordOn&&this.type==="password"?s(bo,{clsPrefix:e,class:`${e}-input__eye`,onMousedown:this.handlePasswordToggleMousedown,onClick:this.handlePasswordToggleClick},{default:()=>this.passwordVisible?s(ba,null):s(wa,null)}):null]):null),this.pair?s("span",{class:`${e}-input__separator`},re(this.$slots,"separator",void 0,()=>[this.separator])):null,this.pair?s("div",{class:`${e}-input-wrapper`},s("div",{class:`${e}-input__input`},s("input",{ref:"inputEl2Ref",type:this.type,class:`${e}-input__input-el`,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[1],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[1]:void 0,readonly:this.readonly,style:this.textDecorationStyle[1],onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onInput:o=>this.handleInput(o,1),onChange:o=>this.handleChange(o,1)}),this.showPlaceholder2?s("div",{class:`${e}-input__placeholder`},s("span",null,this.mergedPlaceholder[1])):null),s("div",{class:`${e}-input__suffix`},[this.clearable||this.$slots.clear?s(Ie,{clsPrefix:e,show:this.showClearButton,onClear:this.handleClear},{default:()=>re(this.$slots,"clear")}):null,re(this.$slots,"suffix")])):null,this.mergedBordered?s("div",{class:`${e}-input__border`}):null,this.mergedBordered?s("div",{class:`${e}-input__state-border`}):null,this.showCount&&this.type==="textarea"?s(Xe,null,{default:this.$slots.count}):null)}}),Ra={buttonHeightSmall:"14px",buttonHeightMedium:"18px",buttonHeightLarge:"22px",buttonWidthSmall:"14px",buttonWidthMedium:"18px",buttonWidthLarge:"22px",buttonWidthPressedSmall:"20px",buttonWidthPressedMedium:"24px",buttonWidthPressedLarge:"28px",railHeightSmall:"18px",railHeightMedium:"22px",railHeightLarge:"26px",railWidthSmall:"32px",railWidthMedium:"40px",railWidthLarge:"48px"};const Ba=e=>{const{primaryColor:o,opacityDisabled:n,borderRadius:r}=e,u="rgba(0, 0, 0, .14)";return Object.assign(Object.assign({},Ra),{textColor:"white",loadingColor:o,opacityDisabled:n,railColor:u,railColorActive:o,buttonBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",buttonColor:"#FFF",railBorderRadiusSmall:r,railBorderRadiusMedium:r,railBorderRadiusLarge:r,buttonBorderRadiusSmall:r,buttonBorderRadiusMedium:r,buttonBorderRadiusLarge:r,boxShadowFocus:`0 0 0 2px ${be(o,{alpha:.2})}`})},Fa={name:"Switch",common:Te,self:Ba};var Aa=Fa,Pa=A("switch",`
 height: var(--height);
 min-width: var(--width);
 vertical-align: middle;
 user-select: none;
 display: inline-flex;
 outline: none;
 justify-content: center;
 align-items: center;
`,[l("children-placeholder",`
 height: var(--rail-height);
 display: flex;
 flex-direction: column;
 overflow: hidden;
 pointer-events: none;
 visibility: hidden;
 `),l("rail-placeholder",`
 display: flex;
 flex-wrap: none;
 `),l("button-placeholder",`
 width: calc(1.75 * var(--rail-height));
 height: var(--rail-height);
 `),A("base-loading",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 font-size: calc(var(--button-width) - 4px);
 color: var(--loading-color);
 transition: color .3s var(--bezier);
 `,[xo({originalTransform:"translateX(-50%) translateY(-50%)"})]),l("checked, unchecked",`
 transition: color .3s var(--bezier);
 color: var(--text-color);
 box-sizing: border-box;
 position: absolute;
 white-space: nowrap;
 top: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 line-height: 1;
 `),l("checked",`
 right: 0;
 padding-right: calc(1.25 * var(--rail-height) - var(--offset));
 `),l("unchecked",`
 left: 0;
 justify-content: flex-end;
 padding-left: calc(1.25 * var(--rail-height) - var(--offset));
 `),H("&:focus",[l("rail",`
 box-shadow: var(--box-shadow-focus);
 `)]),U("round",[l("rail",{borderRadius:"calc(var(--rail-height) / 2)"},[l("button",{borderRadius:"calc(var(--button-height) / 2)"})])]),ie("disabled",[U("pressed",[l("rail",[l("button",{maxWidth:"var(--button-width-pressed)"})])]),l("rail",[H("&:active",[l("button",{maxWidth:"var(--button-width-pressed)"})])]),U("active",[U("pressed",[l("rail",[l("button",{left:"calc(100% - var(--offset) - var(--button-width-pressed))"})])]),l("rail",[H("&:active",[l("button",{left:"calc(100% - var(--offset) - var(--button-width-pressed))"})])])])]),U("active",[l("rail",[l("button",{left:"calc(100% - (var(--rail-height) + var(--button-width)) / 2)"})])]),l("rail",`
 overflow: hidden;
 height: var(--rail-height);
 min-width: var(--rail-width);
 border-radius: var(--rail-border-radius);
 cursor: pointer;
 position: relative;
 transition:
 background-color .3s var(--bezier),
 box-shadow .3s var(--bezier);
 background-color: var(--rail-color);
 `,[l("button",`
 top: var(--offset);
 left: var(--offset);
 height: var(--button-width);
 width: var(--button-width-pressed);
 max-width: var(--button-width);
 border-radius: var(--button-border-radius);
 background-color: var(--button-color);
 box-shadow: var(--button-box-shadow);
 box-sizing: border-box;
 cursor: inherit;
 content: "";
 position: absolute;
 transition:
 background-color .3s var(--bezier),
 left .3s var(--bezier),
 opacity .3s var(--bezier),
 max-width .3s var(--bezier),
 box-shadow .3s var(--bezier);
 `)]),U("active",[l("rail",{backgroundColor:"var(--rail-color-active)"})]),U("disabled",[l("rail",`
 cursor: not-allowed;
 opacity: .5;
 `)])]);const Ma=Object.assign(Object.assign({},we.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},onChange:[Function,Array]});var Ea=O({name:"Switch",props:Ma,setup(e){const{mergedClsPrefixRef:o}=Le(e),n=we("Switch","Switch",Pa,Aa,e,o),r=Ve(e),{mergedSizeRef:u,mergedDisabledRef:i}=r,c=b(e.defaultValue),g=Ge(e,"value"),m=Ne(g,c),h=b(!1);function y(v){const{"onUpdate:value":p,onChange:d,onUpdateValue:z}=e,{nTriggerFormInput:N,nTriggerFormChange:x}=r;p&&T(p,v),z&&T(z,v),d&&T(d,v),c.value=v,N(),x()}function _(){const{nTriggerFormFocus:v}=r;v()}function $(){const{nTriggerFormBlur:v}=r;v()}function S(){i.value||(m.value!==e.checkedValue?y(e.checkedValue):y(e.uncheckedValue))}function L(){_()}function D(){$(),h.value=!1}function R(v){v.code==="Space"&&(y(!m.value),h.value=!1)}function M(v){v.code==="Space"&&(v.preventDefault(),h.value=!0)}return{handleClick:S,handleBlur:D,handleFocus:L,handleKeyup:R,handleKeydown:M,pressed:h,mergedClsPrefix:o,mergedValue:m,mergedDisabled:i,cssVars:J(()=>{const{value:v}=u,{self:{opacityDisabled:p,railColor:d,railColorActive:z,buttonBoxShadow:N,buttonColor:x,boxShadowFocus:B,loadingColor:C,textColor:K,[q("buttonHeight",v)]:E,[q("buttonWidth",v)]:Y,[q("buttonWidthPressed",v)]:se,[q("railHeight",v)]:X,[q("railWidth",v)]:te,[q("railBorderRadius",v)]:de,[q("buttonBorderRadius",v)]:ne},common:{cubicBezierEaseInOut:fe}}=n.value,Ce=Be((Z(X)-Z(E))/2),ke=Be(Math.max(Z(X),Z(E))),ze=Z(X)>Z(E)?te:Be(Z(te)+Z(E)-Z(X));return{"--bezier":fe,"--button-border-radius":ne,"--button-box-shadow":N,"--button-color":x,"--button-width":Y,"--button-width-pressed":se,"--button-height":E,"--height":ke,"--offset":Ce,"--opacity-disabled":p,"--rail-border-radius":de,"--rail-color":d,"--rail-color-active":z,"--rail-height":X,"--rail-width":te,"--width":ze,"--box-shadow-focus":B,"--loading-color":C,"--text-color":K}})}},render(){const{mergedClsPrefix:e,mergedValue:o,mergedDisabled:n,checkedValue:r,$slots:u}=this,i=o===r,{checked:c,unchecked:g}=u;return s("div",{role:"switch","aria-checked":i,class:[`${e}-switch`,i&&`${e}-switch--active`,n&&`${e}-switch--disabled`,this.round&&`${e}-switch--round`,this.pressed&&`${e}-switch--pressed`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},s("div",{class:`${e}-switch__rail`,"aria-hidden":"true"},(c||g)&&s("div",{"aria-hidden":!0,class:`${e}-switch__children-placeholder`},s("div",{class:`${e}-switch__rail-placeholder`},s("div",{class:`${e}-switch__button-placeholder`}),c==null?void 0:c()),s("div",{class:`${e}-switch__rail-placeholder`},s("div",{class:`${e}-switch__button-placeholder`}),g==null?void 0:g())),s("div",{class:`${e}-switch__button`},s(qo,{name:"fade-in-scale-up-transition"},{default:()=>this.loading?s(_o,{key:"loading",clsPrefix:e,strokeWidth:20}):null}),c&&s("div",{key:"checked",class:`${e}-switch__checked`},c()),g&&s("div",{key:"unchecked",class:`${e}-switch__unchecked`},g()))))}}),Ta=O({components:{NSpin:yo,NSwitch:Ea},props:{landmarks:Array,imgUrl:String},setup(e){const o=b(),n=b();let r,u=b(!1),i;const c=b(!0);xe(async function(){r=n.value.getContext("2d"),await g()}),_e([()=>e.landmarks,()=>e.imgUrl,c],g);async function g(){var _;const m=o.value.getBoundingClientRect(),h=m.width,y=m.height;if((n.value.width!==h||n.value.height!==y)&&(n.value.width=h,n.value.height=y),r.clearRect(0,0,h,y),e.imgUrl){if(!i||i.src!==e.imgUrl)try{u.value=!0,i=await Oe(e.imgUrl)}finally{u.value=!1}let $=1;i.width>h&&($=h/i.width),i.height>y&&($=Math.min($,y/i.height));const S=h/2,L=y/2,D=i.width*$,R=i.height*$,M=S-D/2,v=L-R/2;if(r.drawImage(i,M,v,D,R),((_=e.landmarks)==null?void 0:_.length)===Co&&c.value){let p=function(B){r.beginPath();const C=e.landmarks[B].point,K=C[0]*D+M,E=C[1]*R+v;r.moveTo(K,E),N+=1,x+=e.landmarks[B].visibility},d=function(B){const C=e.landmarks[B].point,K=C[0]*D+M,E=C[1]*R+v;r.lineTo(K,E),N+=1,x+=e.landmarks[B].visibility},z=function(){const B=x/N||0,C=Math.floor(255*B),K=0,E=Math.floor(255*(1-B));r.strokeStyle=`rgb(${C},${K},${E})`,r.stroke(),N=0,x=0};r.lineWidth=1.5;let N=0,x=0;p(8),d(6),d(5),d(4),d(0),d(1),d(2),d(3),d(7),z(),p(10),d(9),z(),p(12),d(24),d(23),d(11),d(12),z(),p(12),d(14),d(16),z(),p(11),d(13),d(15),z(),p(24),d(26),d(28),z(),p(23),d(25),d(27),z(),p(16),d(18),d(20),d(16),d(22),z(),p(15),d(17),d(19),d(15),d(21),z(),p(28),d(32),d(30),d(28),z(),p(27),d(29),d(31),d(27),z()}}}return{wrapper:o,canvas:n,imageLoading:u,drawLandmarks:c}}});const La={class:"normalized-landmarks-canvas",ref:"wrapper"},Na={ref:"canvas"};function Va(e,o,n,r,u,i){const c=W("n-spin"),g=W("n-switch");return G(),ue("div",La,[w(c,{show:e.imageLoading},{default:V(()=>[k("canvas",Na,null,512)]),_:1},8,["show"]),w(g,{value:e.drawLandmarks,"onUpdate:value":o[0]||(o[0]=m=>e.drawLandmarks=m),style:{position:"absolute",right:"4px",top:"4px","z-index":"2"}},null,8,["value"])],512)}var Da=Me(Ta,[["render",Va]]);const Ze=[0,1,0];class Ia{constructor(){ae(this,"_matrix",new Float32Array(16));ae(this,"_position",new Float32Array([0,0,0]));ae(this,"_quaternion",He(new Float32Array(4),0,0,0));ae(this,"_scale",new Float32Array([1,1,1]));ae(this,"matrixNeedsUpdate",!0)}updateMatrix(){ko(this._matrix,this._quaternion,this._position,this._scale),this.matrixNeedsUpdate=!1}get matrix(){return this.matrixNeedsUpdate&&this.updateMatrix(),this._matrix}set matrix(o){this._matrix.set(o),Fe(this._position,this._matrix),Ae(this._quaternion,this._matrix),Pe(this._scale,this._matrix),this.matrixNeedsUpdate=!1}get x(){return this._position[0]}set x(o){o!==this._position[0]&&(this._position[0]=o,this.matrixNeedsUpdate=!0)}get y(){return this._position[1]}set y(o){o!==this._position[1]&&(this._position[1]=o,this.matrixNeedsUpdate=!0)}get z(){return this._position[2]}set z(o){o!==this._position[2]&&(this._position[2]=o,this.matrixNeedsUpdate=!0)}get position(){return this._position}set position(o){Ke(o,this._position)||(this._position.set(o),this.matrixNeedsUpdate=!0)}get scaleX(){return this._scale[0]}set scaleX(o){o!==this._scale[0]&&(this._scale[0]=o,this.matrixNeedsUpdate=!0)}get scaleY(){return this._scale[1]}set scaleY(o){o!==this._scale[1]&&(this._scale[1]=o,this.matrixNeedsUpdate=!0)}get scaleZ(){return this._scale[2]}set scaleZ(o){o!==this._scale[2]&&(this._scale[2]=o,this.matrixNeedsUpdate=!0)}get scale(){return this._scale}set scale(o){Ke(o,this._scale)||(this._scale.set(o),this.matrixNeedsUpdate=!0)}get quaternion(){return this._quaternion}set quaternion(o){zo(o,this._quaternion)||(this._quaternion.set(o),this.matrixNeedsUpdate=!0)}setRotationDegrees(o,n,r){He(this._quaternion,o,n,r),this.matrixNeedsUpdate=!0}rotateX(o){$o(this._quaternion,this._quaternion,o),this.matrixNeedsUpdate=!0}rotateY(o){So(this._quaternion,this._quaternion,o),this.matrixNeedsUpdate=!0}rotateZ(o){Ro(this._quaternion,this._quaternion,o),this.matrixNeedsUpdate=!0}lookAt(o,n,r=Ze){Bo(this._matrix,o,n,r),Fe(this._position,this._matrix),Ae(this._quaternion,this._matrix),Pe(this._scale,this._matrix),this.matrixNeedsUpdate=!0}targetTo(o,n,r=Ze){Fo(this._matrix,o,n,r),Fe(this._position,this._matrix),Ae(this._quaternion,this._matrix),Pe(this._scale,this._matrix),this.matrixNeedsUpdate=!0}}function j(...e){const o=[];for(let n=0,r=e.length;n<r-1;++n)o.push(e[n]),o.push(e[n+1]);return o}class Ua extends Ia{constructor(){super(...arguments);ae(this,"geometry",new je(je.TYPE_LINES))}setLandmarks(o,n){this.dispose(o);const r=this.geometry,u=[];for(let c of n)u.push({a_position:[c.point[0],c.point[1],c.point[2]],a_color:[c.visibility,0,1-c.visibility,1]});const i=[...j(8,6,5,4,0,1,2,3,7),...j(10,9),...j(12,24,23,11,12),...j(12,14,16),...j(11,13,15),...j(24,26,28),...j(23,25,27),...j(16,18,20,16,22),...j(15,17,19,15,21),...j(28,32,30,28),...j(27,29,31,27)];r.setVertices(u),r.indices=i}dispose(o){o.disposeGeometry(this.geometry)}render(o){o.uniform("u_mMatrix",this.matrix),o.drawGeometry(this.geometry)}}var Wa=`#version 300 es\r
\r
precision highp float;\r
\r
in vec4 v_color;\r
\r
uniform vec4 u_color;\r
\r
out vec4 outColor;\r
\r
void main() {\r
    outColor = v_color * u_color;\r
}\r
`,Oa=`#version 300 es\r
\r
in vec3 a_position;\r
in vec4 a_color;\r
\r
uniform mat4 u_pvMatrix;\r
uniform mat4 u_mMatrix;\r
\r
out vec4 v_color;\r
\r
void main() {\r
    gl_Position = u_pvMatrix * u_mMatrix * vec4(a_position, 1.0);\r
    v_color = a_color;\r
}\r
`,Ha=O({props:{landmarks:Array},setup(e){const o=b(),n=b();let r,u;const i=new Po,c=new Mo;c.callback=function(h){i.onInput(h),m()};const g=new Ua;xe(function(){c.setup(n.value),r=new Ao(n.value),u=r.createShader(Oa,Wa),m()}),Go(function(){c.unload(n.value),r.deleteShader(u),g.dispose(r)}),_e(()=>e.landmarks,function(){i.zoom=1,i.rotateX=0,i.rotateY=0,Eo(i.target,0,0,0),i.update(),m()});function m(){var $;const h=o.value.getBoundingClientRect(),y=h.width,_=h.height;r.resizeCanvas(y,_),i.fitViewport(y,_),r.clearColor(242/255,242/255,242/255,1),r.clear(!0,!0,!1),r.blendMode(r.BLEND_MODE_PIGMENT),(($=e.landmarks)==null?void 0:$.length)&&(r.depthTest(!1),r.useShader(u),r.uniform("u_color",[1,1,1,1]),r.uniform("u_pvMatrix",i.pvMatrix),g.setLandmarks(r,e.landmarks),g.render(r))}return{container:o,canvas:n}}});const Ka={class:"world-landmarks-canvas",ref:"container"},ja={ref:"canvas"};function qa(e,o,n,r,u,i){return G(),ue("div",Ka,[k("canvas",ja,null,512)],512)}var Ga=Me(Ha,[["render",qa]]);async function Ya(e,o,n,r){const u=new URLSearchParams({client_id:e,query:o,page:n+"",per_page:r+""}),i=await fetch("https://api.unsplash.com/search/photos/?"+u.toString());if(!i.ok)throw new Error(i.statusText);const c=await i.json();return{total:c.total,pages:c.total_pages,photos:c.results}}async function Xa(e,o){const n=new URLSearchParams({client_id:e}),r=await fetch("https://api.unsplash.com/photos/"+o+"?"+n.toString());if(!r.ok)throw new Error(r.statusText);const u=await r.json();return{id:u.id,width:u.width,height:u.height,tags:u.tags.map(i=>i.title),link:u.links.html,urls:u.urls,author:{name:u.user.name,username:u.user.username}}}const Je="unsplash-access-key";var Za=O({components:{NButton:To,NIcon:Lo,NInput:Sa,NRadio:No,KeyOutlined:na,SearchOutlined:ma,LeftOutlined:sa,RightOutlined:ua,SaveFilled:fa,NormalizedLandmarksCanvas:Da,WorldLandmarksCanvas:Ga,SkeletonModelCanvas:Vo},setup:function(){const e=new Do,o=b(0),n=b(!1),r=b(localStorage.getItem(Je)||""),u=b(""),i=b(1),c=b(20),g=b(!1),m=b(),h=b(new qe),y=b(!1),_=b(!1),$=b(!1);xe(async function(){try{n.value=!0,await e.load(),o.value=e.data.length}finally{n.value=!1}}),_e(r,function(x){localStorage.setItem(Je,x)});async function S(){try{g.value=!0,m.value=await Ya(r.value,u.value,i.value,c.value)}finally{g.value=!1}}async function L(){i.value=1,await S()}async function D(){i.value=Math.max(i.value-1,1),await S()}async function R(){var x;i.value=Math.min(i.value+1,((x=m.value)==null?void 0:x.pages)||1),await S()}async function M(){var B;const x=Number(prompt("Jump to page",i.value+""));!x||(i.value=Math.max(Math.min(Number(x),((B=m.value)==null?void 0:B.pages)||1),1)||i.value,await S())}async function v(x){const B=e.findById(x);if(B)y.value=!0,h.value=B;else{y.value=!1,$.value=!1;const C=await Xa(r.value,x);h.value=new qe,h.value.id=C.id,h.value.width=C.width,h.value.height=C.height,h.value.full=C.urls.full,h.value.regular=C.urls.regular,h.value.authorName=C.author.name,h.value.authorUsername=C.author.username,h.value.gender=Io(C.tags)}}async function p(){try{_.value=!0;const x=await Uo(await Oe(h.value.regular));h.value.normalizedLandmarks=x.normalizedLandmarks,h.value.worldLandmarks=x.worldLandmarks}finally{$.value=!0,_.value=!1}}function d(){try{n.value=!0,e.add(h.value),y.value=!0,o.value+=1}finally{n.value=!1}}async function z(){try{n.value=!0,await e.writeToFile()}finally{n.value=!1}}function N(x){h.value.gender=Number(x.target.value)}return{numOfRecords:o,dbLoading:n,accessKey:r,keywords:u,page:i,perPage:c,searchLoading:g,searchResult:m,photo:h,recordInserted:y,modelRunning:_,modelHasBeenRun:$,onSearch:L,prevPage:D,nextPage:R,jumpToPage:M,selectPhoto:v,runModel:p,addRecord:d,saveDataJson:z,onPhotoGenderChange:N}}});const pe=e=>(Qo("data-v-e2606508"),e=e(),ea(),e),Ja={class:"container rows"},Qa={class:"cols"},er={class:"cols",style:{height:"56px"}},tr={class:"photos cols fill"},or=["onClick"],ar={class:"cols fill"},rr={class:"rows",style:{width:"280px"}},nr={class:"rows",style:{width:"280px",overflow:"auto"}},ir={class:"form"},lr={class:"form-item"},sr=pe(()=>k("label",null,"ID",-1)),dr={class:"form-item"},cr=pe(()=>k("label",null,"Author",-1)),ur={class:"form-item"},hr=pe(()=>k("label",null,"Size",-1)),pr={class:"value"},fr={class:"form-item"},vr=pe(()=>k("label",null,"Gender",-1)),gr={class:"value"},mr=le(" Unmarked "),br=le(" Male "),wr=le(" Female "),xr={class:"cols",style:{"justify-content":"flex-end"}},_r=le(" Run Model "),yr=le(" Add Record "),Cr={class:"cols",style:{"align-items":"center","font-size":"12px",color:"#999"}},kr=pe(()=>k("div",{class:"fill"},null,-1)),zr={style:{"margin-right":".5em"}},$r=le(" Save JSON ");function Sr(e,o,n,r,u,i){var v;const c=W("key-outlined"),g=W("n-icon"),m=W("n-input"),h=W("search-outlined"),y=W("left-outlined"),_=W("n-button"),$=W("right-outlined"),S=W("normalized-landmarks-canvas"),L=W("world-landmarks-canvas"),D=W("skeleton-model-canvas"),R=W("n-radio"),M=W("save-filled");return G(),ue("div",Ja,[k("div",Qa,[w(m,{placeholder:"Unsplash Access Key",title:"Unsplash Access Key",style:{width:"140px"},size:"small",value:e.accessKey,"onUpdate:value":o[0]||(o[0]=p=>e.accessKey=p)},{prefix:V(()=>[w(g,null,{default:V(()=>[w(c)]),_:1})]),_:1},8,["value"]),w(m,{placeholder:"Keywords",title:"Keywords",size:"small",value:e.keywords,"onUpdate:value":o[1]||(o[1]=p=>e.keywords=p),disabled:!e.accessKey,loading:e.searchLoading,onKeypress:Yo(e.onSearch,["enter"])},{prefix:V(()=>[w(g,null,{default:V(()=>[w(h)]),_:1})]),_:1},8,["value","disabled","loading","onKeypress"])]),k("div",er,[w(_,{title:"Prev Page",style:{height:"100%"},size:"tiny",disabled:!e.searchResult||e.page===1,loading:e.searchLoading,onClick:e.prevPage},{icon:V(()=>[w(g,null,{default:V(()=>[w(y)]),_:1})]),_:1},8,["disabled","loading","onClick"]),k("div",tr,[e.searchResult?(G(!0),ue(Xo,{key:0},Zo(e.searchResult.photos,p=>(G(),ue("div",{class:ta(["photo",{selected:p.id===e.photo.id}]),style:oa({"background-image":`url(${p.urls.thumb})`}),onClick:d=>e.selectPhoto(p.id)},null,14,or))),256)):Jo("",!0),k("div",{class:"pages",onDblclick:o[2]||(o[2]=(...p)=>e.jumpToPage&&e.jumpToPage(...p))},he(e.page)+"/"+he(((v=e.searchResult)==null?void 0:v.pages)||0),33)]),w(_,{title:"Next Page",style:{height:"100%"},size:"tiny",disabled:!e.searchResult||e.page>=e.searchResult.pages,loading:e.searchLoading,onClick:e.nextPage},{icon:V(()=>[w(g,null,{default:V(()=>[w($)]),_:1})]),_:1},8,["disabled","loading","onClick"])]),k("div",ar,[w(S,{class:"fill","img-url":e.photo.regular,landmarks:e.photo.normalizedLandmarks},null,8,["img-url","landmarks"]),k("div",rr,[w(L,{style:{width:"280px",height:"280px"},landmarks:e.photo.worldLandmarks},null,8,["landmarks"]),w(D,{style:{width:"280px",height:"280px"},landmarks:e.photo.worldLandmarks,readonly:""},null,8,["landmarks"])]),k("div",nr,[k("div",ir,[k("div",lr,[sr,w(m,{class:"value",placeholder:"",size:"small",readonly:"",value:e.photo.id,"onUpdate:value":o[3]||(o[3]=p=>e.photo.id=p)},null,8,["value"])]),k("div",dr,[cr,w(m,{class:"value",placeholder:"",size:"small",readonly:"",value:e.photo.authorName,"onUpdate:value":o[4]||(o[4]=p=>e.photo.authorName=p)},null,8,["value"])]),k("div",ur,[hr,k("div",pr,he(e.photo.width)+"\xD7"+he(e.photo.height),1)]),k("div",fr,[vr,k("div",gr,[w(R,{name:"gender",checked:!e.photo.gender,value:0,disabled:!e.photo.id,onChange:e.onPhotoGenderChange},{default:V(()=>[mr]),_:1},8,["checked","disabled","onChange"]),w(R,{name:"gender",checked:e.photo.gender===1,value:1,disabled:!e.photo.id,onChange:e.onPhotoGenderChange},{default:V(()=>[br]),_:1},8,["checked","disabled","onChange"]),w(R,{name:"gender",checked:e.photo.gender===2,value:2,disabled:!e.photo.id,onChange:e.onPhotoGenderChange},{default:V(()=>[wr]),_:1},8,["checked","disabled","onChange"])])])]),k("div",xr,[w(_,{disabled:!e.photo.id||!!e.photo.normalizedLandmarks.length||e.modelRunning||e.modelHasBeenRun,loading:e.modelRunning,onClick:e.runModel},{default:V(()=>[_r]),_:1},8,["disabled","loading","onClick"]),w(_,{disabled:!e.photo.id||!e.photo.normalizedLandmarks.length||e.recordInserted||e.dbLoading,onClick:e.addRecord},{default:V(()=>[yr]),_:1},8,["disabled","onClick"])])])]),k("div",Cr,[kr,k("div",zr,"Num of Records: "+he(e.numOfRecords),1),w(_,{size:"tiny",type:"primary",loading:e.dbLoading,onClick:e.saveDataJson},{icon:V(()=>[w(M)]),default:V(()=>[$r]),_:1},8,["loading","onClick"])])])}var Mr=Me(Za,[["render",Sr],["__scopeId","data-v-e2606508"]]);export{Mr as default};
//# sourceMappingURL=Editor.a2b51c0b.js.map
