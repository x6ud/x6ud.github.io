{"version":3,"file":"PhotoDataset.93f5684a.js","sources":["../../node_modules/@vicons/antd/es/InfoCircleOutlined.js","../../node_modules/@vicons/antd/es/UndoOutlined.js","../../node_modules/seemly/es/animation/next-frame-once.js","../../node_modules/seemly/es/css/index.js","../../node_modules/seemly/es/color/colors.js","../../node_modules/seemly/es/color/index.js","../../node_modules/naive-ui/es/_mixins/use-form-item.js","../../node_modules/lodash-es/_freeGlobal.js","../../node_modules/lodash-es/_root.js","../../node_modules/lodash-es/_Symbol.js","../../node_modules/lodash-es/_getRawTag.js","../../node_modules/lodash-es/_objectToString.js","../../node_modules/lodash-es/_baseGetTag.js","../../node_modules/lodash-es/isObjectLike.js","../../node_modules/lodash-es/isSymbol.js","../../node_modules/lodash-es/_arrayMap.js","../../node_modules/lodash-es/isArray.js","../../node_modules/lodash-es/_baseToString.js","../../node_modules/lodash-es/isObject.js","../../node_modules/lodash-es/identity.js","../../node_modules/lodash-es/isFunction.js","../../node_modules/lodash-es/_coreJsData.js","../../node_modules/lodash-es/_isMasked.js","../../node_modules/lodash-es/_toSource.js","../../node_modules/lodash-es/_baseIsNative.js","../../node_modules/lodash-es/_getValue.js","../../node_modules/lodash-es/_getNative.js","../../node_modules/lodash-es/_baseCreate.js","../../node_modules/lodash-es/_apply.js","../../node_modules/lodash-es/_copyArray.js","../../node_modules/lodash-es/_shortOut.js","../../node_modules/lodash-es/constant.js","../../node_modules/lodash-es/_defineProperty.js","../../node_modules/lodash-es/_baseSetToString.js","../../node_modules/lodash-es/_setToString.js","../../node_modules/lodash-es/_isIndex.js","../../node_modules/lodash-es/_baseAssignValue.js","../../node_modules/lodash-es/eq.js","../../node_modules/lodash-es/_assignValue.js","../../node_modules/lodash-es/_copyObject.js","../../node_modules/lodash-es/_overRest.js","../../node_modules/lodash-es/_baseRest.js","../../node_modules/lodash-es/isLength.js","../../node_modules/lodash-es/isArrayLike.js","../../node_modules/lodash-es/_isIterateeCall.js","../../node_modules/lodash-es/_createAssigner.js","../../node_modules/lodash-es/_isPrototype.js","../../node_modules/lodash-es/_baseTimes.js","../../node_modules/lodash-es/_baseIsArguments.js","../../node_modules/lodash-es/isArguments.js","../../node_modules/lodash-es/stubFalse.js","../../node_modules/lodash-es/isBuffer.js","../../node_modules/lodash-es/_baseIsTypedArray.js","../../node_modules/lodash-es/_baseUnary.js","../../node_modules/lodash-es/_nodeUtil.js","../../node_modules/lodash-es/isTypedArray.js","../../node_modules/lodash-es/_arrayLikeKeys.js","../../node_modules/lodash-es/_overArg.js","../../node_modules/lodash-es/_nativeKeysIn.js","../../node_modules/lodash-es/_baseKeysIn.js","../../node_modules/lodash-es/keysIn.js","../../node_modules/lodash-es/_nativeCreate.js","../../node_modules/lodash-es/_hashClear.js","../../node_modules/lodash-es/_hashDelete.js","../../node_modules/lodash-es/_hashGet.js","../../node_modules/lodash-es/_hashHas.js","../../node_modules/lodash-es/_hashSet.js","../../node_modules/lodash-es/_Hash.js","../../node_modules/lodash-es/_listCacheClear.js","../../node_modules/lodash-es/_assocIndexOf.js","../../node_modules/lodash-es/_listCacheDelete.js","../../node_modules/lodash-es/_listCacheGet.js","../../node_modules/lodash-es/_listCacheHas.js","../../node_modules/lodash-es/_listCacheSet.js","../../node_modules/lodash-es/_ListCache.js","../../node_modules/lodash-es/_Map.js","../../node_modules/lodash-es/_mapCacheClear.js","../../node_modules/lodash-es/_isKeyable.js","../../node_modules/lodash-es/_getMapData.js","../../node_modules/lodash-es/_mapCacheDelete.js","../../node_modules/lodash-es/_mapCacheGet.js","../../node_modules/lodash-es/_mapCacheHas.js","../../node_modules/lodash-es/_mapCacheSet.js","../../node_modules/lodash-es/_MapCache.js","../../node_modules/lodash-es/toString.js","../../node_modules/lodash-es/_getPrototype.js","../../node_modules/lodash-es/isPlainObject.js","../../node_modules/lodash-es/_baseSlice.js","../../node_modules/lodash-es/_castSlice.js","../../node_modules/lodash-es/_hasUnicode.js","../../node_modules/lodash-es/_asciiToArray.js","../../node_modules/lodash-es/_unicodeToArray.js","../../node_modules/lodash-es/_stringToArray.js","../../node_modules/lodash-es/_createCaseFirst.js","../../node_modules/lodash-es/upperFirst.js","../../node_modules/lodash-es/_stackClear.js","../../node_modules/lodash-es/_stackDelete.js","../../node_modules/lodash-es/_stackGet.js","../../node_modules/lodash-es/_stackHas.js","../../node_modules/lodash-es/_stackSet.js","../../node_modules/lodash-es/_Stack.js","../../node_modules/lodash-es/_cloneBuffer.js","../../node_modules/lodash-es/_Uint8Array.js","../../node_modules/lodash-es/_cloneArrayBuffer.js","../../node_modules/lodash-es/_cloneTypedArray.js","../../node_modules/lodash-es/_initCloneObject.js","../../node_modules/lodash-es/_createBaseFor.js","../../node_modules/lodash-es/_baseFor.js","../../node_modules/lodash-es/_assignMergeValue.js","../../node_modules/lodash-es/isArrayLikeObject.js","../../node_modules/lodash-es/_safeGet.js","../../node_modules/lodash-es/toPlainObject.js","../../node_modules/lodash-es/_baseMergeDeep.js","../../node_modules/lodash-es/_baseMerge.js","../../node_modules/lodash-es/merge.js","../../node_modules/@css-render/vue3-ssr/esm/index.js","../../node_modules/css-render/esm/parse.js","../../node_modules/css-render/esm/render.js","../../node_modules/@emotion/hash/dist/hash.browser.esm.js","../../node_modules/css-render/esm/utils.js","../../node_modules/css-render/esm/mount.js","../../node_modules/css-render/esm/c.js","../../node_modules/css-render/esm/CssRender.js","../../node_modules/css-render/esm/exists.js","../../node_modules/@css-render/plugin-bem/esm/index.js","../../node_modules/naive-ui/es/_utils/cssr/create-key.js","../../node_modules/naive-ui/es/_utils/cssr/index.js","../../node_modules/naive-ui/es/_styles/common/_common.js","../../node_modules/naive-ui/es/_styles/global/index.cssr.js","../../node_modules/vooks/es/use-false-until-truthy.js","../../node_modules/vooks/es/use-memo.js","../../node_modules/vooks/es/utils.js","../../node_modules/vooks/es/on-fonts-ready.js","../../node_modules/evtd/es/traps.js","../../node_modules/evtd/es/delegate.js","../../node_modules/vooks/es/use-merged-state.js","../../node_modules/vooks/es/life-cycle/use-is-mounted.js","../../node_modules/vooks/es/use-compitable.js","../../node_modules/naive-ui/es/_utils/vue/keep.js","../../node_modules/naive-ui/es/_utils/vue/omit.js","../../node_modules/naive-ui/es/_utils/vue/flatten.js","../../node_modules/naive-ui/es/_utils/vue/call.js","../../node_modules/naive-ui/es/_utils/vue/keysOf.js","../../node_modules/naive-ui/es/_utils/naive/warn.js","../../node_modules/naive-ui/es/_utils/vue/get-first-slot-vnode.js","../../node_modules/naive-ui/es/_utils/css/format-length.js","../../node_modules/naive-ui/es/modal/src/interface.js","../../node_modules/naive-ui/es/drawer/src/interface.js","../../node_modules/naive-ui/es/popover/src/interface.js","../../node_modules/naive-ui/es/_internal/select-menu/src/interface.js","../../node_modules/naive-ui/es/_utils/composable/use-adjusted-to.js","../../node_modules/naive-ui/es/config-provider/src/ConfigProvider.js","../../node_modules/naive-ui/es/_mixins/use-theme.js","../../node_modules/naive-ui/es/_mixins/use-config.js","../../node_modules/naive-ui/es/locales/common/enUS.js","../../node_modules/date-fns/esm/locale/_lib/buildFormatLongFn/index.js","../../node_modules/date-fns/esm/locale/_lib/buildLocalizeFn/index.js","../../node_modules/date-fns/esm/locale/_lib/buildMatchPatternFn/index.js","../../node_modules/date-fns/esm/locale/_lib/buildMatchFn/index.js","../../node_modules/date-fns/esm/locale/en-US/_lib/formatDistance/index.js","../../node_modules/date-fns/esm/locale/en-US/_lib/formatLong/index.js","../../node_modules/date-fns/esm/locale/en-US/_lib/formatRelative/index.js","../../node_modules/date-fns/esm/locale/en-US/_lib/localize/index.js","../../node_modules/date-fns/esm/locale/en-US/_lib/match/index.js","../../node_modules/date-fns/esm/locale/en-US/index.js","../../node_modules/naive-ui/es/locales/date/enUS.js","../../node_modules/naive-ui/es/_mixins/use-locale.js","../../node_modules/naive-ui/es/_mixins/use-style.js","../../node_modules/naive-ui/es/_internal/icons/replaceable.js","../../node_modules/naive-ui/es/_internal/icons/Warning.js","../../node_modules/naive-ui/es/_internal/icons/ChevronDown.js","../../node_modules/naive-ui/es/_internal/icons/Clear.js","../../node_modules/naive-ui/es/_internal/icon-switch-transition/src/IconSwitchTransition.js","../../node_modules/naive-ui/es/_internal/fade-in-expand-transition/src/FadeInExpandTransition.js","../../node_modules/naive-ui/es/_internal/icon/src/styles/index.cssr.js","../../node_modules/naive-ui/es/_internal/icon/src/Icon.js","../../node_modules/naive-ui/es/_styles/transitions/icon-switch.cssr.js","../../node_modules/naive-ui/es/_internal/loading/src/styles/index.cssr.js","../../node_modules/naive-ui/es/_internal/loading/src/Loading.js","../../node_modules/vueuc/es/shared/v-node.js","../../node_modules/vueuc/es/binder/src/utils.js","../../node_modules/vueuc/es/binder/src/Binder.js","../../node_modules/vueuc/es/binder/src/Target.js","../../node_modules/vdirs/es/mousemoveoutside.js","../../node_modules/vdirs/es/clickoutside.js","../../node_modules/vdirs/es/utils.js","../../node_modules/vdirs/es/zindexable/z-index-manager.js","../../node_modules/vdirs/es/zindexable/index.js","../../node_modules/vueuc/es/shared/warn.js","../../node_modules/vueuc/es/shared/cssr.js","../../node_modules/vueuc/es/lazy-teleport/src/index.js","../../node_modules/vueuc/es/binder/src/get-placement-style.js","../../node_modules/vueuc/es/binder/src/Follower.js","../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../../node_modules/vueuc/es/resize-observer/src/delegate.js","../../node_modules/vueuc/es/resize-observer/src/VResizeObserver.js","../../node_modules/naive-ui/es/_styles/common/light.js","../../node_modules/naive-ui/es/_styles/transitions/fade-in.cssr.js","../../node_modules/naive-ui/es/_styles/transitions/fade-in-scale-up.cssr.js","../../node_modules/naive-ui/es/_internal/wave/src/styles/index.cssr.js","../../node_modules/naive-ui/es/_internal/wave/src/Wave.js","../../node_modules/naive-ui/es/popover/styles/_common.js","../../node_modules/naive-ui/es/popover/styles/light.js","../../node_modules/naive-ui/es/popover/src/styles/index.cssr.js","../../node_modules/naive-ui/es/popover/src/PopoverBody.js","../../node_modules/naive-ui/es/popover/src/Popover.js","../../node_modules/naive-ui/es/_mixins/use-rtl.js","../../node_modules/naive-ui/es/_internal/clear/src/styles/index.cssr.js","../../node_modules/naive-ui/es/_internal/clear/src/Clear.js","../../node_modules/naive-ui/es/_internal/suffix/src/Suffix.js","../../node_modules/naive-ui/es/_styles/transitions/fade-in-width-expand.cssr.js","../../node_modules/naive-ui/es/_utils/color/index.js","../../node_modules/naive-ui/es/button/styles/_common.js","../../node_modules/naive-ui/es/button/styles/light.js","../../node_modules/naive-ui/es/button/src/styles/button-group.cssr.js","../../node_modules/naive-ui/es/button/src/ButtonGroup.js","../../node_modules/naive-ui/es/button/src/styles/button.cssr.js","../../node_modules/naive-ui/es/button/src/Button.js","../../node_modules/naive-ui/es/radio/styles/_common.js","../../node_modules/naive-ui/es/radio/styles/light.js","../../node_modules/naive-ui/es/radio/src/use-radio.js","../../node_modules/naive-ui/es/radio/src/styles/radio.cssr.js","../../node_modules/naive-ui/es/radio/src/Radio.js","../../node_modules/naive-ui/es/icon/styles/light.js","../../node_modules/naive-ui/es/icon/src/styles/index.cssr.js","../../node_modules/naive-ui/es/icon/src/Icon.js","../../node_modules/naive-ui/es/popconfirm/styles/_common.js","../../node_modules/naive-ui/es/popconfirm/styles/light.js","../../node_modules/naive-ui/es/popconfirm/src/interface.js","../../node_modules/naive-ui/es/popconfirm/src/PopconfirmPanel.js","../../node_modules/naive-ui/es/popconfirm/src/styles/index.cssr.js","../../node_modules/naive-ui/es/popconfirm/src/Popconfirm.js","../../node_modules/naive-ui/es/spin/styles/light.js","../../node_modules/naive-ui/es/spin/src/styles/index.cssr.js","../../node_modules/naive-ui/es/spin/src/Spin.js","../../src/config.ts","../../src/utils/image.ts","../../src/components/SkeletonModelCanvas/model/BodyPart.ts","../../node_modules/gl-matrix/esm/common.js","../../node_modules/gl-matrix/esm/mat3.js","../../node_modules/gl-matrix/esm/mat4.js","../../node_modules/gl-matrix/esm/vec3.js","../../node_modules/gl-matrix/esm/vec4.js","../../node_modules/gl-matrix/esm/quat.js","../../src/utils/math/math.ts","../../src/components/SkeletonModelCanvas/ObjLoader.ts","../../src/utils/render/Geometry.ts","../../src/components/SkeletonModelCanvas/model/SkeletonModelNode.ts","../../src/components/SkeletonModelCanvas/model/SkeletonModel.ts","../../src/utils/math/raycast.ts","../../src/utils/input/mouse-drag.ts","../../src/utils/render/camera/OrthographicCamera.ts","../../src/utils/render/camera/PerspectiveCamera.ts","../../src/utils/DraggableCamera.ts","../../src/utils/input/MouseButton.ts","../../src/utils/input/Input.ts","../../src/utils/math/intersect.ts","../../src/utils/render/constants.ts","../../src/utils/render/FrameBuffer.ts","../../src/utils/render/Texture.ts","../../src/utils/render/get-uniform-setter.ts","../../src/utils/render/Shader.ts","../../src/utils/render/Renderer.ts","../../src/components/SkeletonModelCanvas/draw-shape.ts","../../src/components/SkeletonModelCanvas/landmarks-to-transforms.ts","../../src/components/SkeletonModelCanvas/SkeletonModelCanvas.ts?vue&type=script&src&lang.ts","../../src/utils/Photo.ts","../../src/utils/file.ts","../../src/utils/PhotoDataset.ts"],"sourcesContent":["import { createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 1024 1024'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createVNode(\n  'path',\n  {\n    d: 'M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448s448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372s372 166.6 372 372s-166.6 372-372 372z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_3 = /*#__PURE__*/ _createVNode(\n  'path',\n  {\n    d: 'M464 336a48 48 0 1 0 96 0a48 48 0 1 0-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nexport default defineComponent({\n  name: 'InfoCircleOutlined',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createBlock('svg', _hoisted_1, [_hoisted_2, _hoisted_3])\n  }\n})\n","import { createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 1024 1024'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createVNode(\n  'path',\n  {\n    d: 'M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 0 0-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 0 1-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7c29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6c29.4 29.4 52.5 63.6 68.6 101.7c16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 0 1-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 0 0-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nexport default defineComponent({\n  name: 'UndoOutlined',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createBlock('svg', _hoisted_1, [_hoisted_2])\n  }\n})\n","let onceCbs = [];\nconst paramsMap = new WeakMap();\nfunction flushOnceCallbacks() {\n    onceCbs.forEach((cb) => cb(...paramsMap.get(cb)));\n    onceCbs = [];\n}\nfunction beforeNextFrameOnce(cb, ...params) {\n    paramsMap.set(cb, params);\n    if (onceCbs.includes(cb))\n        return;\n    onceCbs.push(cb) === 1 && requestAnimationFrame(flushOnceCallbacks);\n}\nexport { beforeNextFrameOnce };\n","export function depx(value) {\n    if (typeof value === 'string') {\n        if (value.endsWith('px')) {\n            return Number(value.slice(0, value.length - 2));\n        }\n        return Number(value);\n    }\n    return value;\n}\nfunction pxfy(value) {\n    if (value === undefined || value === null)\n        return undefined;\n    if (typeof value === 'number')\n        return `${value}px`;\n    if (value.endsWith('px'))\n        return value;\n    return `${value}px`;\n}\nexport { pxfy };\nfunction getMargin(value, position) {\n    const parts = value.trim().split(/\\s+/g);\n    const margin = {\n        top: parts[0]\n    };\n    switch (parts.length) {\n        case 1:\n            margin.right = parts[0];\n            margin.bottom = parts[0];\n            margin.left = parts[0];\n            break;\n        case 2:\n            margin.right = parts[1];\n            margin.left = parts[1];\n            margin.bottom = parts[0];\n            break;\n        case 3:\n            margin.right = parts[1];\n            margin.bottom = parts[2];\n            margin.left = parts[1];\n            break;\n        case 4:\n            margin.right = parts[1];\n            margin.bottom = parts[2];\n            margin.left = parts[3];\n            break;\n        default:\n            throw new Error('[seemly/getMargin]:' + value + ' is not a valid value.');\n    }\n    if (position === undefined)\n        return margin;\n    return margin[position];\n}\nfunction getGap(value, orient) {\n    const [rowGap, colGap] = value.split(' ');\n    if (!orient)\n        return {\n            row: rowGap,\n            col: colGap || rowGap\n        };\n    return orient === 'row' ? rowGap : colGap;\n}\nexport { getMargin, getMargin as getPadding, getGap };\nexport { parseResponsiveProp, parseResponsivePropValue } from './responsive';\n","export default {\n    black: '#000',\n    silver: '#C0C0C0',\n    gray: '#808080',\n    white: '#FFF',\n    maroon: '#800000',\n    red: '#F00',\n    purple: '#800080',\n    fuchsia: '#F0F',\n    green: '#008000',\n    lime: '#0F0',\n    olive: '#808000',\n    yellow: '#FF0',\n    navy: '#000080',\n    blue: '#00F',\n    teal: '#008080',\n    aqua: '#0FF',\n    transparent: '#0000'\n};\n","import colors from './colors';\nconst prefix = '^\\\\s*';\nconst suffix = '\\\\s*$';\nconst percent = '\\\\s*((\\\\.\\\\d+)|(\\\\d+(\\\\.\\\\d*)?))%\\\\s*'; // 4 offset\nconst float = '\\\\s*((\\\\.\\\\d+)|(\\\\d+(\\\\.\\\\d*)?))\\\\s*'; // 4 offset\nconst hex = '([0-9A-Fa-f])';\nconst dhex = '([0-9A-Fa-f]{2})';\nconst hslRegex = new RegExp(`${prefix}hsl\\\\s*\\\\(${float},${percent},${percent}\\\\)${suffix}`);\nconst hsvRegex = new RegExp(`${prefix}hsv\\\\s*\\\\(${float},${percent},${percent}\\\\)${suffix}`);\nconst hslaRegex = new RegExp(`${prefix}hsla\\\\s*\\\\(${float},${percent},${percent},${float}\\\\)${suffix}`);\nconst hsvaRegex = new RegExp(`${prefix}hsva\\\\s*\\\\(${float},${percent},${percent},${float}\\\\)${suffix}`);\nconst rgbRegex = new RegExp(`${prefix}rgb\\\\s*\\\\(${float},${float},${float}\\\\)${suffix}`);\nconst rgbaRegex = new RegExp(`${prefix}rgba\\\\s*\\\\(${float},${float},${float},${float}\\\\)${suffix}`);\nconst sHexRegex = new RegExp(`${prefix}#${hex}${hex}${hex}${suffix}`);\nconst hexRegex = new RegExp(`${prefix}#${dhex}${dhex}${dhex}${suffix}`);\nconst sHexaRegex = new RegExp(`${prefix}#${hex}${hex}${hex}${hex}${suffix}`);\nconst hexaRegex = new RegExp(`${prefix}#${dhex}${dhex}${dhex}${dhex}${suffix}`);\nfunction parseHex(value) {\n    return parseInt(value, 16);\n}\n/**\n * Convert color string to hsla array\n * @param color format like hsl(180, 100%, 100%), hsla(180, 100%, 100%, 1)\n * @returns\n */\nexport function hsla(color) {\n    try {\n        let i;\n        if ((i = hslaRegex.exec(color))) {\n            return [\n                roundDeg(i[1]),\n                roundPercent(i[5]),\n                roundPercent(i[9]),\n                roundAlpha(i[13])\n            ];\n        }\n        else if ((i = hslRegex.exec(color))) {\n            return [roundDeg(i[1]), roundPercent(i[5]), roundPercent(i[9]), 1];\n        }\n        throw new Error(`[seemly/hsla]: Invalid color value ${color}.`);\n    }\n    catch (e) {\n        throw e;\n    }\n}\n/**\n * Convert color string to hsva array\n * @param color format like hsv(180, 100%, 100%), hsva(180, 100%, 100%, 1)\n * @returns\n */\nexport function hsva(color) {\n    try {\n        let i;\n        if ((i = hsvaRegex.exec(color))) {\n            return [\n                roundDeg(i[1]),\n                roundPercent(i[5]),\n                roundPercent(i[9]),\n                roundAlpha(i[13])\n            ];\n        }\n        else if ((i = hsvRegex.exec(color))) {\n            return [roundDeg(i[1]), roundPercent(i[5]), roundPercent(i[9]), 1];\n        }\n        throw new Error(`[seemly/hsva]: Invalid color value ${color}.`);\n    }\n    catch (e) {\n        throw e;\n    }\n}\n/**\n * Convert color string to rgba array.\n * @param color format like #000[0], #000000[00], rgb(0, 0, 0), rgba(0, 0, 0, 0) and basic color keywords https://www.w3.org/TR/css-color-3/#html4 and transparent\n * @returns\n */\nexport function rgba(color) {\n    try {\n        let i;\n        if ((i = hexRegex.exec(color))) {\n            return [parseHex(i[1]), parseHex(i[2]), parseHex(i[3]), 1];\n        }\n        else if ((i = rgbRegex.exec(color))) {\n            return [roundChannel(i[1]), roundChannel(i[5]), roundChannel(i[9]), 1];\n        }\n        else if ((i = rgbaRegex.exec(color))) {\n            return [\n                roundChannel(i[1]),\n                roundChannel(i[5]),\n                roundChannel(i[9]),\n                roundAlpha(i[13])\n            ];\n        }\n        else if ((i = sHexRegex.exec(color))) {\n            return [\n                parseHex(i[1] + i[1]),\n                parseHex(i[2] + i[2]),\n                parseHex(i[3] + i[3]),\n                1\n            ];\n        }\n        else if ((i = hexaRegex.exec(color))) {\n            return [\n                parseHex(i[1]),\n                parseHex(i[2]),\n                parseHex(i[3]),\n                roundAlpha(parseHex(i[4]) / 255)\n            ];\n        }\n        else if ((i = sHexaRegex.exec(color))) {\n            return [\n                parseHex(i[1] + i[1]),\n                parseHex(i[2] + i[2]),\n                parseHex(i[3] + i[3]),\n                roundAlpha(parseHex(i[4] + i[4]) / 255)\n            ];\n        }\n        else if (color in colors) {\n            return rgba(colors[color]);\n        }\n        throw new Error(`[seemly/rgba]: Invalid color value ${color}.`);\n    }\n    catch (e) {\n        throw e;\n    }\n}\nfunction normalizeAlpha(alphaValue) {\n    return alphaValue > 1 ? 1 : alphaValue < 0 ? 0 : alphaValue;\n}\nfunction stringifyRgb(r, g, b) {\n    return `rgb(${roundChannel(r)}, ${roundChannel(g)}, ${roundChannel(b)})`;\n}\nfunction stringifyRgba(r, g, b, a) {\n    return `rgba(${roundChannel(r)}, ${roundChannel(g)}, ${roundChannel(b)}, ${normalizeAlpha(a)})`;\n}\nfunction compositeChannel(v1, a1, v2, a2, a) {\n    return roundChannel((v1 * a1 * (1 - a2) + v2 * a2) / a);\n}\nexport function composite(background, overlay) {\n    if (!Array.isArray(background))\n        background = rgba(background);\n    if (!Array.isArray(overlay))\n        overlay = rgba(overlay);\n    const a1 = background[3];\n    const a2 = overlay[3];\n    const alpha = roundAlpha(a1 + a2 - a1 * a2);\n    return stringifyRgba(compositeChannel(background[0], a1, overlay[0], a2, alpha), compositeChannel(background[1], a1, overlay[1], a2, alpha), compositeChannel(background[2], a1, overlay[2], a2, alpha), alpha);\n}\nexport function changeColor(base, options) {\n    const [r, g, b, a = 1] = Array.isArray(base) ? base : rgba(base);\n    if (options.alpha) {\n        return stringifyRgba(r, g, b, options.alpha);\n    }\n    return stringifyRgba(r, g, b, a);\n}\nexport function scaleColor(base, options) {\n    const [r, g, b, a = 1] = Array.isArray(base) ? base : rgba(base);\n    const { lightness = 1, alpha = 1 } = options;\n    return toRgbaString([r * lightness, g * lightness, b * lightness, a * alpha]);\n}\nexport function getAlpha(base) {\n    var _a;\n    const alpha = (_a = (Array.isArray(base) ? base : rgba(base))[3]) !== null && _a !== void 0 ? _a : 1;\n    return alpha;\n}\nexport function getAlphaString(base) {\n    return `${getAlpha(base)}`;\n}\nexport function roundAlpha(value) {\n    const v = Math.round(Number(value) * 100) / 100;\n    if (v > 1)\n        return 1;\n    if (v < 0)\n        return 0;\n    return v;\n}\nexport function roundDeg(value) {\n    const v = Math.round(Number(value));\n    if (v >= 360)\n        return 0;\n    if (v < 0)\n        return 0;\n    return v;\n}\nexport function roundChannel(value) {\n    const v = Math.round(Number(value));\n    if (v > 255)\n        return 255;\n    if (v < 0)\n        return 0;\n    return v;\n}\nexport function roundPercent(value) {\n    const v = Math.round(Number(value));\n    if (v > 100)\n        return 100;\n    if (v < 0)\n        return 0;\n    return v;\n}\nexport function toRgbString(base) {\n    const [r, g, b] = Array.isArray(base) ? base : rgba(base);\n    return stringifyRgb(r, g, b);\n}\nexport function toRgbaString(base) {\n    const [r, g, b] = base;\n    if (3 in base) {\n        return `rgba(${roundChannel(r)}, ${roundChannel(g)}, ${roundChannel(b)}, ${roundAlpha(base[3])})`;\n    }\n    return `rgba(${roundChannel(r)}, ${roundChannel(g)}, ${roundChannel(b)}, 1)`;\n}\nexport function toHsvString(base) {\n    return `hsv(${roundDeg(base[0])}, ${roundPercent(base[1])}%, ${roundPercent(base[2])}%)`;\n}\nexport function toHsvaString(base) {\n    const [h, s, v] = base;\n    if (3 in base) {\n        return `hsva(${roundDeg(h)}, ${roundPercent(s)}%, ${roundPercent(v)}%, ${roundAlpha(base[3])})`;\n    }\n    return `hsva(${roundDeg(h)}, ${roundPercent(s)}%, ${roundPercent(v)}%, 1)`;\n}\nexport function toHslString(base) {\n    return `hsl(${roundDeg(base[0])}, ${roundPercent(base[1])}%, ${roundPercent(base[2])}%)`;\n}\nexport function toHslaString(base) {\n    const [h, s, l] = base;\n    if (3 in base) {\n        return `hsla(${roundDeg(h)}, ${roundPercent(s)}%, ${roundPercent(l)}%, ${roundAlpha(base[3])})`;\n    }\n    return `hsla(${roundDeg(h)}, ${roundPercent(s)}%, ${roundPercent(l)}%, 1)`;\n}\n/**\n *\n * @param base [255, 255, 255, 255], [255, 255, 255], any hex string\n * @returns\n */\nexport function toHexaString(base) {\n    if (typeof base === 'string') {\n        let i;\n        if (i = hexRegex.exec(base)) {\n            return `${i[0]}FF`;\n        }\n        else if (i = hexaRegex.exec(base)) {\n            return i[0];\n        }\n        else if (i = sHexRegex.exec(base)) {\n            return `#${i[1]}${i[1]}${i[2]}${i[2]}${i[3]}${i[3]}FF`;\n        }\n        else if (i = sHexaRegex.exec(base)) {\n            return `#${i[1]}${i[1]}${i[2]}${i[2]}${i[3]}${i[3]}${i[4]}${i[4]}`;\n        }\n        throw new Error(`[seemly/toHexString]: Invalid hex value ${base}.`);\n    }\n    const hex = `#${base\n        .slice(0, 3)\n        .map((unit) => roundChannel(unit).toString(16).toUpperCase().padStart(2, '0'))\n        .join('')}`;\n    const a = base.length === 3\n        ? 'FF'\n        : roundChannel(base[3] * 255)\n            .toString(16)\n            .padStart(2, '0')\n            .toUpperCase();\n    return hex + a;\n}\n/**\n *\n * @param base [255, 255, 255, 255], [255, 255, 255], any hex string\n * @returns\n */\nexport function toHexString(base) {\n    if (typeof base === 'string') {\n        let i;\n        if (i = hexRegex.exec(base)) {\n            return i[0];\n        }\n        else if (i = hexaRegex.exec(base)) {\n            return i[0].slice(0, 7);\n        }\n        else if (i = (sHexRegex.exec(base) || sHexaRegex.exec(base))) {\n            return `#${i[1]}${i[1]}${i[2]}${i[2]}${i[3]}${i[3]}`;\n        }\n        throw new Error(`[seemly/toHexString]: Invalid hex value ${base}.`);\n    }\n    return `#${base\n        .slice(0, 3)\n        .map((unit) => roundChannel(unit).toString(16).toUpperCase().padStart(2, '0'))\n        .join('')}`;\n}\nexport { hsl2hsv, hsv2hsl, hsv2rgb, rgb2hsv, rgb2hsl, hsl2rgb } from './convert';\n","import { computed, inject, provide, onBeforeUnmount } from 'vue';\nexport const formItemInjectionKey = Symbol('formItem');\nexport default function useFormItem(props, { defaultSize = 'medium', mergedSize, mergedDisabled } = {}) {\n    const NFormItem = inject(formItemInjectionKey, null);\n    provide(formItemInjectionKey, null);\n    const mergedSizeRef = computed(mergedSize\n        ? () => mergedSize(NFormItem)\n        : () => {\n            const { size } = props;\n            if (size)\n                return size;\n            if (NFormItem) {\n                const { mergedSize } = NFormItem;\n                if (mergedSize.value !== undefined) {\n                    return mergedSize.value;\n                }\n            }\n            return defaultSize;\n        });\n    const mergedDisabledRef = computed(mergedDisabled\n        ? () => mergedDisabled(NFormItem)\n        : () => {\n            const { disabled } = props;\n            if (disabled !== undefined) {\n                return disabled;\n            }\n            if (NFormItem) {\n                return NFormItem.disabled.value;\n            }\n            return false;\n        });\n    onBeforeUnmount(() => {\n        if (NFormItem) {\n            NFormItem.restoreValidation();\n        }\n    });\n    return {\n        mergedSizeRef,\n        mergedDisabledRef,\n        nTriggerFormBlur() {\n            if (NFormItem) {\n                NFormItem.handleContentBlur();\n            }\n        },\n        nTriggerFormChange() {\n            if (NFormItem) {\n                NFormItem.handleContentChange();\n            }\n        },\n        nTriggerFormFocus() {\n            if (NFormItem) {\n                NFormItem.handleContentFocus();\n            }\n        },\n        nTriggerFormInput() {\n            if (NFormItem) {\n                NFormItem.handleContentInput();\n            }\n        }\n    };\n}\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","import isObject from './isObject.js';\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nexport default baseCreate;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n","import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n","import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n","import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nexport default setToString;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n","import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignValue;\n","import assignValue from './_assignValue.js';\nimport baseAssignValue from './_baseAssignValue.js';\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nexport default copyObject;\n","import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n","import identity from './identity.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nexport default baseRest;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","import eq from './eq.js';\nimport isArrayLike from './isArrayLike.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nexport default isIterateeCall;\n","import baseRest from './_baseRest.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nexport default createAssigner;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n","import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default nativeKeysIn;\n","import isObject from './isObject.js';\nimport isPrototype from './_isPrototype.js';\nimport nativeKeysIn from './_nativeKeysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeysIn;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeysIn from './_baseKeysIn.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nexport default keysIn;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nexport default baseSlice;\n","import baseSlice from './_baseSlice.js';\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\nexport default castSlice;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nexport default hasUnicode;\n","/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\nexport default asciiToArray;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\nexport default unicodeToArray;\n","import asciiToArray from './_asciiToArray.js';\nimport hasUnicode from './_hasUnicode.js';\nimport unicodeToArray from './_unicodeToArray.js';\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\nexport default stringToArray;\n","import castSlice from './_castSlice.js';\nimport hasUnicode from './_hasUnicode.js';\nimport stringToArray from './_stringToArray.js';\nimport toString from './toString.js';\n\n/**\n * Creates a function like `_.lowerFirst`.\n *\n * @private\n * @param {string} methodName The name of the `String` case method to use.\n * @returns {Function} Returns the new case function.\n */\nfunction createCaseFirst(methodName) {\n  return function(string) {\n    string = toString(string);\n\n    var strSymbols = hasUnicode(string)\n      ? stringToArray(string)\n      : undefined;\n\n    var chr = strSymbols\n      ? strSymbols[0]\n      : string.charAt(0);\n\n    var trailing = strSymbols\n      ? castSlice(strSymbols, 1).join('')\n      : string.slice(1);\n\n    return chr[methodName]() + trailing;\n  };\n}\n\nexport default createCaseFirst;\n","import createCaseFirst from './_createCaseFirst.js';\n\n/**\n * Converts the first character of `string` to upper case.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.upperFirst('fred');\n * // => 'Fred'\n *\n * _.upperFirst('FRED');\n * // => 'FRED'\n */\nvar upperFirst = createCaseFirst('toUpperCase');\n\nexport default upperFirst;\n","import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n","import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n","import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n","import root from './_root.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nexport default cloneBuffer;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n","import Uint8Array from './_Uint8Array.js';\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nexport default cloneArrayBuffer;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nexport default cloneTypedArray;\n","import baseCreate from './_baseCreate.js';\nimport getPrototype from './_getPrototype.js';\nimport isPrototype from './_isPrototype.js';\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nexport default initCloneObject;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nexport default createBaseFor;\n","import createBaseFor from './_createBaseFor.js';\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nexport default baseFor;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignMergeValue;\n","import isArrayLike from './isArrayLike.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nexport default isArrayLikeObject;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nexport default safeGet;\n","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nexport default toPlainObject;\n","import assignMergeValue from './_assignMergeValue.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\nimport copyArray from './_copyArray.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport isBuffer from './isBuffer.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isPlainObject from './isPlainObject.js';\nimport isTypedArray from './isTypedArray.js';\nimport safeGet from './_safeGet.js';\nimport toPlainObject from './toPlainObject.js';\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nexport default baseMergeDeep;\n","import Stack from './_Stack.js';\nimport assignMergeValue from './_assignMergeValue.js';\nimport baseFor from './_baseFor.js';\nimport baseMergeDeep from './_baseMergeDeep.js';\nimport isObject from './isObject.js';\nimport keysIn from './keysIn.js';\nimport safeGet from './_safeGet.js';\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nexport default baseMerge;\n","import baseMerge from './_baseMerge.js';\nimport createAssigner from './_createAssigner.js';\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nexport default merge;\n","import { inject } from 'vue';\nconst ssrContextKey = Symbol('@css-render/vue3-ssr');\nfunction createStyleString(id, style) {\n    return `<style cssr-id=\"${id}\">\\n${style}\\n</style>`;\n}\nfunction ssrAdapter(id, style) {\n    const ssrContext = inject(ssrContextKey, null);\n    if (ssrContext === null) {\n        console.error('[css-render/vue3-ssr]: no ssr context found.');\n        return;\n    }\n    const { styles, ids } = ssrContext;\n    // we need to impl other options to make it behaves the same as the client side\n    if (ids.has(id))\n        return;\n    if (styles !== null) {\n        ids.add(id);\n        styles.push(createStyleString(id, style));\n    }\n}\nexport function useSsrAdapter() {\n    const context = inject(ssrContextKey, null);\n    if (context === null)\n        return undefined;\n    return {\n        adapter: ssrAdapter,\n        context\n    };\n}\nexport function setup(app) {\n    const styles = [];\n    const ssrContext = {\n        styles,\n        ids: new Set()\n    };\n    app.provide(ssrContextKey, ssrContext);\n    return {\n        collect() {\n            const res = styles.join('\\n');\n            styles.length = 0;\n            return res;\n        }\n    };\n}\n","function ampCount(selector) {\n    let cnt = 0;\n    for (let i = 0; i < selector.length; ++i) {\n        if (selector[i] === '&')\n            ++cnt;\n    }\n    return cnt;\n}\n/**\n * Don't just use ',' to separate css selector. For example:\n * x:(a, b) {} will be split into 'x:(a' and 'b)', which is not expected.\n * Make sure comma doesn't exist inside parentheses.\n */\nconst seperatorRegex = /\\s*,(?![^(]*\\))\\s*/g;\nconst extraSpaceRegex = /\\s+/g;\n/**\n * selector must includes '&'\n * selector is trimmed\n * every part of amp is trimmed\n */\nfunction resolveSelectorWithAmp(amp, selector) {\n    const nextAmp = [];\n    selector.split(seperatorRegex).forEach(partialSelector => {\n        let round = ampCount(partialSelector);\n        // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n        if (!round) {\n            amp.forEach(partialAmp => {\n                nextAmp.push(\n                // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n                (partialAmp && partialAmp + ' ') + partialSelector);\n            });\n            return;\n        }\n        else if (round === 1) {\n            amp.forEach(partialAmp => {\n                nextAmp.push(partialSelector.replace('&', partialAmp));\n            });\n            return;\n        }\n        let partialNextAmp = [\n            partialSelector\n        ];\n        // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n        while (round--) {\n            const nextPartialNextAmp = [];\n            partialNextAmp.forEach(selectorItr => {\n                amp.forEach(partialAmp => {\n                    nextPartialNextAmp.push(selectorItr.replace('&', partialAmp));\n                });\n            });\n            partialNextAmp = nextPartialNextAmp;\n        }\n        partialNextAmp.forEach(part => nextAmp.push(part));\n    });\n    return nextAmp;\n}\n/**\n * selector mustn't includes '&'\n * selector is trimmed\n */\nfunction resolveSelector(amp, selector) {\n    const nextAmp = [];\n    selector.split(seperatorRegex).forEach(partialSelector => {\n        amp.forEach(partialAmp => {\n            // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n            nextAmp.push(((partialAmp && partialAmp + ' ') + partialSelector));\n        });\n    });\n    return nextAmp;\n}\nexport function parseSelectorPath(selectorPaths) {\n    let amp = [''];\n    selectorPaths.forEach(selector => {\n        // eslint-disable-next-line\n        selector = selector && selector.trim();\n        if (\n        // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n        !selector) {\n            /**\n             * if it's a empty selector, do nothing\n             */\n            return;\n        }\n        // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n        if (selector.includes('&')) {\n            amp = resolveSelectorWithAmp(amp, selector);\n        }\n        else {\n            amp = resolveSelector(amp, selector);\n        }\n    });\n    return amp.join(', ').replace(extraSpaceRegex, ' ');\n}\n","import { parseSelectorPath } from './parse';\nconst kebabRegex = /[A-Z]/g;\nfunction kebabCase(pattern) {\n    return pattern.replace(kebabRegex, match => '-' + match.toLowerCase());\n}\n/** TODO: refine it to solve nested object */\nfunction upwrapProperty(prop, indent = '  ') {\n    if (typeof prop === 'object' && prop !== null) {\n        return (' {\\n' +\n            Object.entries(prop).map(v => {\n                return indent + `  ${kebabCase(v[0])}: ${v[1]};`;\n            }).join('\\n') +\n            '\\n' + indent + '}');\n    }\n    return `: ${prop};`;\n}\n/** unwrap properties */\nfunction upwrapProperties(props, instance, params) {\n    if (typeof props === 'function') {\n        return props({\n            context: instance.context,\n            props: params\n        });\n    }\n    return props;\n}\nfunction createStyle(selector, props, instance, params) {\n    if (!props)\n        return '';\n    // eslint-disable-next-line\n    const unwrappedProps = upwrapProperties(props, instance, params);\n    if (!unwrappedProps)\n        return '';\n    if (typeof unwrappedProps === 'string') {\n        return `${selector} {\\n${unwrappedProps}\\n}`;\n    }\n    const propertyNames = Object.keys(unwrappedProps);\n    if (propertyNames.length === 0) {\n        if (instance.config.keepEmptyBlock)\n            return selector + ' {\\n}';\n        return '';\n    }\n    const statements = selector\n        ? [\n            selector + ' {'\n        ]\n        : [];\n    propertyNames.forEach(propertyName => {\n        const property = unwrappedProps[propertyName];\n        if (propertyName === 'raw') {\n            statements.push('\\n' + property + '\\n');\n            return;\n        }\n        propertyName = kebabCase(propertyName);\n        if (property !== null && property !== undefined) {\n            statements.push(`  ${propertyName}${upwrapProperty(property)}`);\n        }\n    });\n    if (selector) {\n        statements.push('}');\n    }\n    return statements.join('\\n');\n}\nfunction loopCNodeListWithCallback(children, options, callback) {\n    /* istanbul ignore if */\n    if (!children)\n        return;\n    children.forEach(child => {\n        if (Array.isArray(child)) {\n            loopCNodeListWithCallback(child, options, callback);\n        }\n        else if (typeof child === 'function') {\n            const grandChildren = child(options);\n            if (Array.isArray(grandChildren)) {\n                loopCNodeListWithCallback(grandChildren, options, callback);\n            }\n            else if (grandChildren) {\n                callback(grandChildren);\n            }\n        }\n        else if (child) {\n            callback(child);\n        }\n    });\n}\nfunction traverseCNode(node, selectorPaths, styles, instance, params, styleSheet) {\n    const $ = node.$;\n    if (!$ || typeof $ === 'string') {\n        // as a string selector\n        selectorPaths.push($);\n    }\n    else if (typeof $ === 'function') {\n        // as a lazy selector\n        selectorPaths.push($({\n            context: instance.context,\n            props: params\n        }));\n    }\n    else { // as a option selector\n        if ($.before)\n            $.before(instance.context);\n        if (!$.$ || typeof $.$ === 'string') {\n            selectorPaths.push($.$);\n        }\n        else /* istanbul ignore else */ if ($.$) {\n            selectorPaths.push($.$({\n                context: instance.context,\n                props: params\n            }));\n        }\n    }\n    const selector = parseSelectorPath(selectorPaths);\n    const style = createStyle(selector, node.props, instance, params);\n    if (styleSheet && style) {\n        styleSheet.insertRule(style);\n    }\n    if (!styleSheet && style.length)\n        styles.push(style);\n    if (node.children) {\n        loopCNodeListWithCallback(node.children, {\n            context: instance.context,\n            props: params\n        }, childNode => {\n            if (typeof childNode === 'string') {\n                const style = createStyle(selector, { raw: childNode }, instance, params);\n                if (styleSheet) {\n                    styleSheet.insertRule(style);\n                }\n                else {\n                    styles.push(style);\n                }\n            }\n            else {\n                traverseCNode(childNode, selectorPaths, styles, instance, params, styleSheet);\n            }\n        });\n    }\n    selectorPaths.pop();\n    if ($ && $.after)\n        $.after(instance.context);\n}\nexport function render(node, instance, props, insertRule = false) {\n    const styles = [];\n    traverseCNode(node, [], styles, instance, props, insertRule\n        ? node.instance.__styleSheet\n        : undefined);\n    if (insertRule)\n        return '';\n    return styles.join('\\n\\n');\n}\n","/* eslint-disable */\n// Inspired by https://github.com/garycourt/murmurhash-js\n// Ported from https://github.com/aappleby/smhasher/blob/61a0530f28277f2e850bfc39600ce61d02b518de/src/MurmurHash2.cpp#L37-L86\nfunction murmur2(str) {\n  // 'm' and 'r' are mixing constants generated offline.\n  // They're not really 'magic', they just happen to work well.\n  // const m = 0x5bd1e995;\n  // const r = 24;\n  // Initialize the hash\n  var h = 0; // Mix 4 bytes at a time into the hash\n\n  var k,\n      i = 0,\n      len = str.length;\n\n  for (; len >= 4; ++i, len -= 4) {\n    k = str.charCodeAt(i) & 0xff | (str.charCodeAt(++i) & 0xff) << 8 | (str.charCodeAt(++i) & 0xff) << 16 | (str.charCodeAt(++i) & 0xff) << 24;\n    k =\n    /* Math.imul(k, m): */\n    (k & 0xffff) * 0x5bd1e995 + ((k >>> 16) * 0xe995 << 16);\n    k ^=\n    /* k >>> r: */\n    k >>> 24;\n    h =\n    /* Math.imul(k, m): */\n    (k & 0xffff) * 0x5bd1e995 + ((k >>> 16) * 0xe995 << 16) ^\n    /* Math.imul(h, m): */\n    (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  } // Handle the last few bytes of the input array\n\n\n  switch (len) {\n    case 3:\n      h ^= (str.charCodeAt(i + 2) & 0xff) << 16;\n\n    case 2:\n      h ^= (str.charCodeAt(i + 1) & 0xff) << 8;\n\n    case 1:\n      h ^= str.charCodeAt(i) & 0xff;\n      h =\n      /* Math.imul(h, m): */\n      (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  } // Do a few final mixes of the hash to ensure the last few\n  // bytes are well-incorporated.\n\n\n  h ^= h >>> 13;\n  h =\n  /* Math.imul(h, m): */\n  (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  return ((h ^ h >>> 15) >>> 0).toString(36);\n}\n\nexport default murmur2;\n","export function removeElement(el) {\n    /* istanbul ignore if */\n    // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n    if (!el)\n        return;\n    const parentElement = el.parentElement;\n    /* istanbul ignore else */\n    // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n    if (parentElement)\n        parentElement.removeChild(el);\n}\nexport function queryElement(id) {\n    return document.querySelector(`style[cssr-id=\"${id}\"]`);\n}\nexport function createElement(id) {\n    const el = document.createElement('style');\n    el.setAttribute('cssr-id', id);\n    return el;\n}\n","/* eslint-disable @typescript-eslint/strict-boolean-expressions */\nimport hash from './hash';\nimport { render } from './render';\nimport { createElement, queryElement, removeElement } from './utils';\nif (typeof window !== 'undefined') {\n    window.__cssrContext = {};\n}\nexport function unmount(intance, node, id) {\n    const { els } = node;\n    // If id is undefined, unmount all styles\n    if (id === undefined) {\n        els.forEach(removeElement);\n        node.els = [];\n    }\n    else {\n        const target = queryElement(id);\n        // eslint-disable-next-line\n        if (target && els.includes(target)) {\n            removeElement(target);\n            node.els = els.filter((el) => el !== target);\n        }\n    }\n}\nfunction addElementToList(els, target) {\n    els.push(target);\n}\nfunction mount(instance, node, id, props, head, slient, force, ssrAdapter\n// eslint-disable-next-line @typescript-eslint/no-invalid-void-type\n) {\n    var _a;\n    if (slient && !ssrAdapter) {\n        if (id === undefined) {\n            // it is possible to use hash to get rid of the requirements of id\n            // if you are interested in it, please create a pr\n            // i have no time to impl it\n            console.error('[css-render/mount]: `id` is required in `slient` mode.');\n            // @ts-expect-error\n            return;\n        }\n        const cssrContext = window.__cssrContext;\n        if (!cssrContext[id]) {\n            cssrContext[id] = true;\n            render(node, instance, props, slient);\n        }\n        // @ts-expect-error\n        return;\n    }\n    let style;\n    if (id === undefined) {\n        style = node.render(props);\n        id = hash(style);\n    }\n    if (ssrAdapter) {\n        ssrAdapter.adapter(id, style !== null && style !== void 0 ? style : node.render(props));\n        // @ts-expect-error\n        return;\n    }\n    const queriedTarget = queryElement(id);\n    if (queriedTarget !== null && !force) {\n        // @ts-expect-error\n        return queriedTarget;\n    }\n    const target = queriedTarget !== null && queriedTarget !== void 0 ? queriedTarget : createElement(id);\n    if (style === undefined)\n        style = node.render(props);\n    target.textContent = style;\n    // @ts-expect-error\n    if (queriedTarget !== null)\n        return queriedTarget;\n    if (head) {\n        const firstStyleEl = (_a = document.head.querySelector('style, link')) !== null && _a !== void 0 ? _a : null;\n        document.head.insertBefore(target, firstStyleEl);\n    }\n    else {\n        document.head.appendChild(target);\n    }\n    addElementToList(node.els, target);\n    // @ts-expect-error\n    return queriedTarget !== null && queriedTarget !== void 0 ? queriedTarget : target;\n}\nexport { mount };\n","import { render } from './render';\nimport { mount, unmount } from './mount';\nfunction wrappedRender(props) {\n    return render(this, this.instance, props);\n}\n// do not guard node calling, it should throw an error.\nfunction wrappedMount(options = {}\n// eslint-disable-next-line @typescript-eslint/no-invalid-void-type\n) {\n    const { id, ssr, props, head = false, slient = false, force = false } = options;\n    const targetElement = mount(this.instance, this, id, props, head, slient, force, ssr);\n    return targetElement;\n}\nfunction wrappedUnmount(options = {}) {\n    /* istanbul ignore next */\n    // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n    const { id } = options;\n    unmount(this.instance, this, id);\n}\nconst createCNode = function (instance, $, props, children) {\n    return {\n        instance,\n        $,\n        props,\n        children,\n        els: [],\n        render: wrappedRender,\n        mount: wrappedMount,\n        unmount: wrappedUnmount\n    };\n};\nexport const c = function (instance, $, props, children) {\n    if (Array.isArray($)) {\n        return createCNode(instance, { $: null }, null, $);\n    }\n    if (Array.isArray(props)) {\n        return createCNode(instance, $, null, props);\n    }\n    else if (Array.isArray(children)) {\n        return createCNode(instance, $, props, children);\n    }\n    else {\n        return createCNode(instance, $, props, null);\n    }\n};\n","import { c } from './c';\nimport { queryElement } from './utils';\nexport function CssRender(config = {}) {\n    let styleSheet = null;\n    const cssr = {\n        c: ((...args) => c(cssr, ...args)),\n        use: (plugin, ...args) => plugin.install(cssr, ...args),\n        find: queryElement,\n        context: {},\n        config,\n        get __styleSheet() {\n            // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n            if (!styleSheet) {\n                const style = document.createElement('style');\n                document.head.appendChild(style);\n                styleSheet = document.styleSheets[document.styleSheets.length - 1];\n                return styleSheet;\n            }\n            return styleSheet;\n        }\n    };\n    return cssr;\n}\n","import { queryElement } from './utils';\nexport function exists(id, ssr) {\n    if (id === undefined)\n        return false;\n    if (ssr) {\n        const { context: { ids } } = ssr;\n        return ids.has(id);\n    }\n    return queryElement(id) !== null;\n}\n","/* eslint-disable @typescript-eslint/restrict-template-expressions */\n/* eslint-disable @typescript-eslint/strict-boolean-expressions */\nfunction plugin(options) {\n    let _bPrefix = '.';\n    let _ePrefix = '__';\n    let _mPrefix = '--';\n    let c;\n    if (options) {\n        let t = options.blockPrefix;\n        if (t) {\n            _bPrefix = t;\n        }\n        t = options.elementPrefix;\n        if (t) {\n            _ePrefix = t;\n        }\n        t = options.modifierPrefix;\n        if (t) {\n            _mPrefix = t;\n        }\n    }\n    const _plugin = {\n        install(instance) {\n            c = instance.c;\n            const ctx = instance.context;\n            ctx.bem = {};\n            ctx.bem.b = null;\n            ctx.bem.els = null;\n        }\n    };\n    function b(arg) {\n        let memorizedB;\n        let memorizedE;\n        return {\n            before(ctx) {\n                memorizedB = ctx.bem.b;\n                memorizedE = ctx.bem.els;\n                ctx.bem.els = null;\n            },\n            after(ctx) {\n                ctx.bem.b = memorizedB;\n                ctx.bem.els = memorizedE;\n            },\n            $({ context, props }) {\n                arg = typeof arg === 'string' ? arg : arg({ context, props });\n                context.bem.b = arg;\n                return `${(props === null || props === void 0 ? void 0 : props.bPrefix) || _bPrefix}${context.bem.b}`;\n            }\n        };\n    }\n    function e(arg) {\n        let memorizedE;\n        return {\n            before(ctx) {\n                memorizedE = ctx.bem.els;\n            },\n            after(ctx) {\n                ctx.bem.els = memorizedE;\n            },\n            $({ context, props }) {\n                arg = typeof arg === 'string' ? arg : arg({ context, props });\n                context.bem.els = arg.split(',').map(v => v.trim());\n                return context.bem.els\n                    .map(el => `${(props === null || props === void 0 ? void 0 : props.bPrefix) || _bPrefix}${context.bem.b}__${el}`).join(', ');\n            }\n        };\n    }\n    function m(arg) {\n        return {\n            $({ context, props }) {\n                arg = typeof arg === 'string' ? arg : arg({ context, props });\n                const modifiers = arg.split(',').map(v => v.trim());\n                function elementToSelector(el) {\n                    return modifiers.map(modifier => `&${(props === null || props === void 0 ? void 0 : props.bPrefix) || _bPrefix}${context.bem.b}${el !== undefined ? `${_ePrefix}${el}` : ''}${_mPrefix}${modifier}`).join(', ');\n                }\n                const els = context.bem.els;\n                if (els !== null) {\n                    if (process.env.NODE_ENV !== 'production' && els.length >= 2) {\n                        throw Error(`[css-render/plugin-bem]: m(${arg}) is invalid, using modifier inside multiple elements is not allowed`);\n                    }\n                    return elementToSelector(els[0]);\n                }\n                else {\n                    return elementToSelector();\n                }\n            }\n        };\n    }\n    function notM(arg) {\n        return {\n            $({ context, props }) {\n                arg = typeof arg === 'string' ? arg : arg({ context, props });\n                const els = context.bem.els;\n                if (process.env.NODE_ENV !== 'production' && els !== null && els.length >= 2) {\n                    throw Error(`[css-render/plugin-bem]: notM(${arg}) is invalid, using modifier inside multiple elements is not allowed`);\n                }\n                return `&:not(${(props === null || props === void 0 ? void 0 : props.bPrefix) || _bPrefix}${context.bem.b}${(els !== null && els.length > 0) ? `${_ePrefix}${els[0]}` : ''}${_mPrefix}${arg})`;\n            }\n        };\n    }\n    const cB = ((...args) => c(b(args[0]), args[1], args[2]));\n    const cE = ((...args) => c(e(args[0]), args[1], args[2]));\n    const cM = ((...args) => c(m(args[0]), args[1], args[2]));\n    const cNotM = ((...args) => c(notM(args[0]), args[1], args[2]));\n    Object.assign(_plugin, {\n        cB, cE, cM, cNotM\n    });\n    return _plugin;\n}\nexport { plugin };\nexport default plugin;\n","export function createKey(prefix, suffix) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return (prefix +\n        (suffix === 'default'\n            ? ''\n            : suffix.replace(/^[a-z]/, (startChar) => startChar.toUpperCase())));\n}\ncreateKey('abc', 'def');\n","/* eslint-disable @typescript-eslint/restrict-template-expressions */\nimport CSSRender from 'css-render';\nimport BEMPlugin from '@css-render/plugin-bem';\nconst namespace = 'n';\nconst prefix = `.${namespace}-`;\nconst elementPrefix = '__';\nconst modifierPrefix = '--';\nconst cssr = CSSRender();\nconst plugin = BEMPlugin({\n    blockPrefix: prefix,\n    elementPrefix,\n    modifierPrefix\n});\ncssr.use(plugin);\nconst { c, find } = cssr;\nconst { cB, cE, cM, cNotM } = plugin;\nfunction insideFormItem(status, style) {\n    if (status === null)\n        return style;\n    return c([\n        ({ props: { bPrefix } }) => c(`${bPrefix || prefix}form-item`, [\n            c(`${bPrefix || prefix}form-item-blank`, [\n                c(`&${bPrefix || prefix}form-item-blank${modifierPrefix}${status}`, [\n                    style\n                ])\n            ])\n        ])\n    ]);\n}\nfunction insideModal(style) {\n    return c(({ props: { bPrefix } }) => `${bPrefix || prefix}modal, ${bPrefix || prefix}drawer`, [style]);\n}\nfunction insidePopover(style) {\n    return c(({ props: { bPrefix } }) => `${bPrefix || prefix}popover:not(${bPrefix || prefix}tooltip)`, [style]);\n}\nfunction asModal(style) {\n    return c(({ props: { bPrefix } }) => `&${bPrefix || prefix}modal`, style);\n}\n// child block\nconst cCB = ((...args) => {\n    return c('>', [cB(...args)]);\n});\nexport { c, cB, cE, cM, cNotM, cCB, insideFormItem, insideModal, insidePopover, asModal, prefix, namespace, find };\nexport { createKey } from './create-key';\n","export default {\n    fontFamily: 'v-sans, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"',\n    fontFamilyMono: 'v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace',\n    fontWeight: '400',\n    fontWeightStrong: '500',\n    cubicBezierEaseInOut: 'cubic-bezier(.4, 0, .2, 1)',\n    cubicBezierEaseOut: 'cubic-bezier(0, 0, .2, 1)',\n    cubicBezierEaseIn: 'cubic-bezier(.4, 0, 1, 1)',\n    borderRadius: '3px',\n    borderRadiusSmall: '2px',\n    fontSize: '14px',\n    fontSizeTiny: '12px',\n    fontSizeSmall: '14px',\n    fontSizeMedium: '14px',\n    fontSizeLarge: '15px',\n    fontSizeHuge: '16px',\n    lineHeight: '1.6',\n    heightTiny: '22px',\n    heightSmall: '28px',\n    heightMedium: '34px',\n    heightLarge: '40px',\n    heightHuge: '46px',\n    transformDebounceScale: 'scale(1)'\n};\n","import { c } from '../../_utils/cssr';\nimport commonVariables from '../common/_common'; // All the components need the style\n// It is static and won't be changed in the app's lifetime\n// If user want to overrides it they need to use `n-global-style` is provided\n//\n// Technically we can remove font-size & font-family & line-height to make\n// it pure. However the coding cost doesn't worth it.\n//\n// -webkit-tap-hilight-color:\n// https://developer.mozilla.org/en-US/docs/Web/CSS/-webkit-tap-highlight-color\n// In some android devices, there will be the style.\n\nexport default c('body', `\n margin: 0;\n font-size: ${commonVariables.fontSize};\n font-family: ${commonVariables.fontFamily};\n line-height: ${commonVariables.lineHeight};\n -webkit-text-size-adjust: 100%;\n -webkit-tap-highlight-color: transparent;\n`, [c('input', `\n font-family: inherit;\n font-size: inherit;\n `)]);","import { ref, readonly, watch } from 'vue';\nexport default function useFalseUntilTruthy(originalRef) {\n    const currentRef = ref(!!originalRef.value);\n    if (currentRef.value)\n        return readonly(currentRef);\n    const stop = watch(originalRef, (value) => {\n        if (value) {\n            currentRef.value = true;\n            stop();\n        }\n    });\n    return readonly(currentRef);\n}\n","import { computed, ref, watch } from 'vue';\nfunction useMemo(getterOrOptions) {\n    const computedValueRef = computed(getterOrOptions);\n    // Maybe it's not possible to lazy evaluate the value, since we can't make\n    // render phase capture the deps behind useMemo\n    const valueRef = ref(computedValueRef.value);\n    watch(computedValueRef, (value) => {\n        valueRef.value = value;\n    });\n    if (typeof getterOrOptions === 'function') {\n        return valueRef;\n    }\n    else {\n        return {\n            __v_isRef: true,\n            get value() {\n                return valueRef.value;\n            },\n            set value(v) {\n                getterOrOptions.set(v);\n            }\n        };\n    }\n}\nexport default useMemo;\n","import { getCurrentInstance } from 'vue';\nexport function hasInstance() {\n    return getCurrentInstance() !== null;\n}\nexport const isBrowser = typeof window !== 'undefined';\n","import { onMounted, onBeforeUnmount } from 'vue';\nimport { isBrowser } from './utils';\nlet fontsReady;\nlet isFontReady;\nconst init = () => {\n    var _a, _b;\n    fontsReady = isBrowser ? (_b = (_a = document) === null || _a === void 0 ? void 0 : _a.fonts) === null || _b === void 0 ? void 0 : _b.ready : undefined;\n    isFontReady = false;\n    /* istanbul ignore if */\n    if (fontsReady !== undefined) {\n        void fontsReady.then(() => {\n            isFontReady = true;\n        });\n    }\n    else {\n        isFontReady = true;\n    }\n};\ninit();\n// For testing\nexport { init };\n/**\n * Call callback on fontsReady is resolved. If fontsReady is already resolved,\n * callback won't be called.\n */\nexport default function onFontsReady(cb) {\n    /* istanbul ignore next */\n    if (isFontReady)\n        return;\n    let deactivated = false;\n    onMounted(() => {\n        /* istanbul ignore next */\n        if (!isFontReady) {\n            fontsReady === null || fontsReady === void 0 ? void 0 : fontsReady.then(() => {\n                if (deactivated)\n                    return;\n                cb();\n            });\n        }\n    });\n    onBeforeUnmount(() => {\n        deactivated = true;\n    });\n}\n","import { on, off } from './delegate';\nconst traps = {\n    mousemoveoutside: new WeakMap(),\n    clickoutside: new WeakMap()\n};\nfunction createTrapHandler(name, el, originalHandler) {\n    if (name === 'mousemoveoutside') {\n        const moveHandler = (e) => {\n            if (el.contains(e.target))\n                return;\n            originalHandler(e);\n        };\n        return {\n            mousemove: moveHandler,\n            touchstart: moveHandler\n        };\n    }\n    else if (name === 'clickoutside') {\n        let mouseDownOutside = false;\n        const downHandler = (e) => {\n            mouseDownOutside = !el.contains(e.target);\n        };\n        const upHanlder = (e) => {\n            if (!mouseDownOutside)\n                return;\n            if (el.contains(e.target))\n                return;\n            originalHandler(e);\n        };\n        return {\n            mousedown: downHandler,\n            mouseup: upHanlder,\n            touchstart: downHandler,\n            touchend: upHanlder\n        };\n    }\n    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n    console.error(`[evtd/create-trap-handler]: name \\`${name}\\` is invalid. This could be a bug of evtd.`);\n    return {};\n}\nfunction ensureTrapHandlers(name, el, handler) {\n    const handlers = traps[name];\n    let elHandlers = handlers.get(el);\n    if (elHandlers === undefined) {\n        handlers.set(el, elHandlers = new WeakMap());\n    }\n    let trapHandler = elHandlers.get(handler);\n    if (trapHandler === undefined) {\n        elHandlers.set(handler, trapHandler = createTrapHandler(name, el, handler));\n    }\n    return trapHandler;\n}\nfunction trapOn(name, el, handler, options) {\n    if (name === 'mousemoveoutside' ||\n        name === 'clickoutside') {\n        const trapHandlers = ensureTrapHandlers(name, el, handler);\n        Object.keys(trapHandlers).forEach(key => {\n            on(key, document, trapHandlers[key], options);\n        });\n        return true;\n    }\n    return false;\n}\nfunction trapOff(name, el, handler, options) {\n    if (name === 'mousemoveoutside' ||\n        name === 'clickoutside') {\n        const trapHandlers = ensureTrapHandlers(name, el, handler);\n        Object.keys(trapHandlers).forEach(key => {\n            off(key, document, trapHandlers[key], options);\n        });\n        return true;\n    }\n    return false;\n}\nexport { trapOff, trapOn };\n","import { trapOn, trapOff } from './traps';\n// currently `once` and `passive` is not supported\nfunction createDelegate() {\n    if (typeof window === 'undefined') {\n        return {\n            on: () => { },\n            off: () => { }\n        };\n    }\n    const propagationStopped = new WeakMap();\n    const immediatePropagationStopped = new WeakMap();\n    function trackPropagation() {\n        propagationStopped.set(this, true);\n    }\n    function trackImmediate() {\n        propagationStopped.set(this, true);\n        immediatePropagationStopped.set(this, true);\n    }\n    function spy(event, propName, fn) {\n        const source = event[propName];\n        event[propName] = function () {\n            fn.apply(event, arguments);\n            return source.apply(event, arguments);\n        };\n        return event;\n    }\n    function unspy(event, propName) {\n        event[propName] = Event.prototype[propName];\n    }\n    const currentTargets = new WeakMap();\n    const currentTargetDescriptor = Object.getOwnPropertyDescriptor(Event.prototype, 'currentTarget');\n    function getCurrentTarget() {\n        var _a;\n        return (_a = currentTargets.get(this)) !== null && _a !== void 0 ? _a : null;\n    }\n    function defineCurrentTarget(event, getter) {\n        if (currentTargetDescriptor === undefined)\n            return;\n        Object.defineProperty(event, 'currentTarget', {\n            configurable: true,\n            enumerable: true,\n            get: getter !== null && getter !== void 0 ? getter : currentTargetDescriptor.get\n        });\n    }\n    const phaseToTypeToElToHandlers = {\n        bubble: {},\n        capture: {}\n    };\n    const typeToWindowEventHandlers = {};\n    function createUnifiedHandler() {\n        const delegeteHandler = function (e) {\n            const { type, eventPhase, target, bubbles } = e;\n            if (eventPhase === 2)\n                return;\n            const phase = eventPhase === 1 ? 'capture' : 'bubble';\n            let cursor = target;\n            const path = [];\n            // collecting bubble path\n            while (true) {\n                if (cursor === null)\n                    cursor = window;\n                path.push(cursor);\n                if (cursor === window) {\n                    break;\n                }\n                // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n                cursor = (cursor.parentNode || null);\n            }\n            const captureElToHandlers = phaseToTypeToElToHandlers.capture[type];\n            const bubbleElToHandlers = phaseToTypeToElToHandlers.bubble[type];\n            spy(e, 'stopPropagation', trackPropagation);\n            spy(e, 'stopImmediatePropagation', trackImmediate);\n            defineCurrentTarget(e, getCurrentTarget);\n            if (phase === 'capture') {\n                if (captureElToHandlers === undefined)\n                    return;\n                // capture\n                for (let i = path.length - 1; i >= 0; --i) {\n                    if (propagationStopped.has(e))\n                        break;\n                    const target = path[i];\n                    const handlers = captureElToHandlers.get(target);\n                    if (handlers !== undefined) {\n                        currentTargets.set(e, target);\n                        for (const handler of handlers) {\n                            if (immediatePropagationStopped.has(e))\n                                break;\n                            handler(e);\n                        }\n                    }\n                    if (i === 0 && !bubbles && bubbleElToHandlers !== undefined) {\n                        const bubbleHandlers = bubbleElToHandlers.get(target);\n                        if (bubbleHandlers !== undefined) {\n                            for (const handler of bubbleHandlers) {\n                                if (immediatePropagationStopped.has(e))\n                                    break;\n                                handler(e);\n                            }\n                        }\n                    }\n                }\n            }\n            else if (phase === 'bubble') {\n                if (bubbleElToHandlers === undefined)\n                    return;\n                // bubble\n                for (let i = 0; i < path.length; ++i) {\n                    if (propagationStopped.has(e))\n                        break;\n                    const target = path[i];\n                    const handlers = bubbleElToHandlers.get(target);\n                    if (handlers !== undefined) {\n                        currentTargets.set(e, target);\n                        for (const handler of handlers) {\n                            if (immediatePropagationStopped.has(e))\n                                break;\n                            handler(e);\n                        }\n                    }\n                }\n            }\n            unspy(e, 'stopPropagation');\n            unspy(e, 'stopImmediatePropagation');\n            defineCurrentTarget(e);\n        };\n        delegeteHandler.displayName = 'evtdUnifiedHandler';\n        return delegeteHandler;\n    }\n    function createUnifiedWindowEventHandler() {\n        const delegateHandler = function (e) {\n            const { type, eventPhase } = e;\n            if (eventPhase !== 2)\n                return;\n            const handlers = typeToWindowEventHandlers[type];\n            if (handlers === undefined)\n                return;\n            handlers.forEach((handler) => handler(e));\n        };\n        delegateHandler.displayName = 'evtdUnifiedWindowEventHandler';\n        return delegateHandler;\n    }\n    const unifiedHandler = createUnifiedHandler();\n    const unfiendWindowEventHandler = createUnifiedWindowEventHandler();\n    function ensureElToHandlers(phase, type) {\n        const phaseHandlers = phaseToTypeToElToHandlers[phase];\n        if (phaseHandlers[type] === undefined) {\n            phaseHandlers[type] = new Map();\n            window.addEventListener(type, unifiedHandler, phase === 'capture');\n        }\n        return phaseHandlers[type];\n    }\n    function ensureWindowEventHandlers(type) {\n        const windowEventHandlers = typeToWindowEventHandlers[type];\n        if (windowEventHandlers === undefined) {\n            typeToWindowEventHandlers[type] = new Set();\n            window.addEventListener(type, unfiendWindowEventHandler);\n        }\n        return typeToWindowEventHandlers[type];\n    }\n    function ensureHandlers(elToHandlers, el) {\n        let elHandlers = elToHandlers.get(el);\n        if (elHandlers === undefined) {\n            elToHandlers.set(el, (elHandlers = new Set()));\n        }\n        return elHandlers;\n    }\n    function handlerExist(el, phase, type, handler) {\n        const elToHandlers = phaseToTypeToElToHandlers[phase][type];\n        // phase ${type} event has handlers\n        if (elToHandlers !== undefined) {\n            const handlers = elToHandlers.get(el);\n            // phase using el with ${type} event has handlers\n            if (handlers !== undefined) {\n                if (handlers.has(handler))\n                    return true;\n            }\n        }\n        return false;\n    }\n    function windowEventHandlerExist(type, handler) {\n        const handlers = typeToWindowEventHandlers[type];\n        if (handlers !== undefined) {\n            if (handlers.has(handler)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    function on(type, el, handler, options) {\n        const trapped = trapOn(type, el, handler, options);\n        if (trapped)\n            return;\n        const phase = options === true ||\n            (typeof options === 'object' && options.capture === true)\n            ? 'capture'\n            : 'bubble';\n        const elToHandlers = ensureElToHandlers(phase, type);\n        const handlers = ensureHandlers(elToHandlers, el);\n        if (!handlers.has(handler))\n            handlers.add(handler);\n        if (el === window) {\n            const windowEventHandlers = ensureWindowEventHandlers(type);\n            if (!windowEventHandlers.has(handler)) {\n                windowEventHandlers.add(handler);\n            }\n        }\n    }\n    function off(type, el, handler, options) {\n        const trapped = trapOff(type, el, handler, options);\n        if (trapped)\n            return;\n        const capture = options === true ||\n            (typeof options === 'object' && options.capture === true);\n        const phase = capture ? 'capture' : 'bubble';\n        const elToHandlers = ensureElToHandlers(phase, type);\n        const handlers = ensureHandlers(elToHandlers, el);\n        if (el === window) {\n            const mirrorPhase = capture ? 'bubble' : 'capture';\n            if (!handlerExist(el, mirrorPhase, type, handler) &&\n                windowEventHandlerExist(type, handler)) {\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                const windowEventHandlers = typeToWindowEventHandlers[type];\n                windowEventHandlers.delete(handler);\n                if (windowEventHandlers.size === 0) {\n                    window.removeEventListener(type, unfiendWindowEventHandler);\n                    typeToWindowEventHandlers[type] = undefined;\n                }\n            }\n        }\n        if (handlers.has(handler))\n            handlers.delete(handler);\n        if (handlers.size === 0) {\n            elToHandlers.delete(el);\n        }\n        if (elToHandlers.size === 0) {\n            window.removeEventListener(type, unifiedHandler, phase === 'capture');\n            phaseToTypeToElToHandlers[phase][type] = undefined;\n        }\n    }\n    return {\n        on: on,\n        off: off\n    };\n}\nconst { on, off } = createDelegate();\nexport { on, off };\n","import { watch, computed } from 'vue';\nexport default function useMergedState(controlledStateRef, uncontrolledStateRef) {\n    watch(controlledStateRef, value => {\n        if (value !== undefined) {\n            uncontrolledStateRef.value = value;\n        }\n    });\n    return computed(() => {\n        if (controlledStateRef.value === undefined) {\n            return uncontrolledStateRef.value;\n        }\n        return controlledStateRef.value;\n    });\n}\n","import { ref, onMounted, readonly } from 'vue';\nexport default function isMounted() {\n    const isMounted = ref(false);\n    onMounted(() => { isMounted.value = true; });\n    return readonly(isMounted);\n}\n","import { computed } from 'vue';\nexport default function useCompitable(reactive, keys) {\n    // @ts-expect-error\n    return computed(() => {\n        for (const key of keys) {\n            if (reactive[key] !== undefined)\n                return reactive[key];\n        }\n        return reactive[keys[keys.length - 1]];\n    });\n}\n","export function keep(object, keys = [], rest) {\n    const keepedObject = {};\n    keys.forEach((key) => {\n        keepedObject[key] = object[key];\n    });\n    return Object.assign(keepedObject, rest);\n}\n","export function omit(object, keys = [], rest) {\n    const omitedObject = {};\n    const originalKeys = Object.getOwnPropertyNames(object);\n    originalKeys.forEach((originalKey) => {\n        if (!keys.includes(originalKey)) {\n            omitedObject[originalKey] = object[originalKey];\n        }\n    });\n    return Object.assign(omitedObject, rest);\n}\n","import { Fragment, createTextVNode, Comment } from 'vue';\n// o(n) flatten\nexport function flatten(vNodes, filterCommentNode = true, result = []) {\n    vNodes.forEach((vNode) => {\n        if (vNode === null)\n            return;\n        if (typeof vNode !== 'object') {\n            if (typeof vNode === 'string' || typeof vNode === 'number') {\n                result.push(createTextVNode(String(vNode)));\n            }\n            return;\n        }\n        if (Array.isArray(vNode)) {\n            flatten(vNode, filterCommentNode, result);\n            return;\n        }\n        if (vNode.type === Fragment) {\n            if (vNode.children === null)\n                return;\n            if (Array.isArray(vNode.children)) {\n                flatten(vNode.children, filterCommentNode, result);\n            }\n            // rawSlot\n        }\n        else if (vNode.type !== Comment) {\n            result.push(vNode);\n        }\n    });\n    return result;\n}\n","function call(funcs, ...args) {\n    if (Array.isArray(funcs)) {\n        funcs.forEach((func) => call(func, ...args));\n    }\n    else\n        return funcs(...args);\n}\nexport { call };\n","export function keysOf(obj) {\n    return Object.keys(obj);\n}\n","const warnedMessages = new Set();\nexport function warnOnce(location, message) {\n    const mergedMessage = `[naive/${location}]: ${message}`;\n    if (warnedMessages.has(mergedMessage))\n        return;\n    warnedMessages.add(mergedMessage);\n    console.error(mergedMessage);\n}\nexport function warn(location, message) {\n    console.error(`[naive/${location}]: ${message}`);\n}\nexport function throwError(location, message) {\n    throw new Error(`[naive/${location}]: ${message}`);\n}\n","import { flatten } from './flatten';\nimport { warn } from '../naive';\nexport function getFirstSlotVNode(slots, slotName = 'default', props = undefined) {\n    const slot = slots[slotName];\n    if (!slot) {\n        warn('getFirstSlotVNode', `slot[${slotName}] is empty`);\n        return null;\n    }\n    const slotContent = flatten(slot(props));\n    // vue will normalize the slot, so slot must be an array\n    if (slotContent.length === 1) {\n        return slotContent[0];\n    }\n    else {\n        warn('getFirstSlotVNode', `slot[${slotName}] should have exactly one child`);\n        return null;\n    }\n}\n","const pureNumberRegex = /^(\\d|\\.)+$/;\nconst numberRegex = /(\\d|\\.)+/;\nfunction formatLength(length, { c = 1, offset = 0, attachPx = true } = {}) {\n    if (typeof length === 'number') {\n        const result = (length + offset) * c;\n        if (result === 0)\n            return '0';\n        return `${result}px`;\n    }\n    else if (typeof length === 'string') {\n        if (pureNumberRegex.test(length)) {\n            const result = (Number(length) + offset) * c;\n            if (attachPx) {\n                if (result === 0)\n                    return '0';\n                return `${result}px`;\n            }\n            else {\n                return `${result}`;\n            }\n        }\n        else {\n            const result = numberRegex.exec(length);\n            if (!result)\n                return length;\n            return length.replace(numberRegex, String((Number(result[0]) + offset) * c));\n        }\n    }\n    return length;\n}\nexport default formatLength;\n","export const modalBodyInjectionKey = Symbol('modalBody');\nexport const modalInjectionKey = Symbol('modal');\n","export const drawerBodyInjectionKey = Symbol('drawerBody');\nexport const drawerInjectionKey = Symbol('drawer');\n","export const popoverBodyInjectionKey = Symbol('popoverBodyInjection');\n","export const internalSelectionMenuInjectionKey = Symbol('internal-select-menu');\nexport const internalSelectionMenuBodyInjectionKey = Symbol('internal-select-menu-body');\n","import { useMemo } from 'vooks';\nimport { inject } from 'vue';\nimport { modalBodyInjectionKey } from '../../modal/src/interface';\nimport { drawerBodyInjectionKey } from '../../drawer/src/interface';\nimport { popoverBodyInjectionKey } from '../../popover/src/interface';\nimport { internalSelectionMenuBodyInjectionKey } from '../../_internal/select-menu/src/interface';\nconst teleportDisabled = '__disabled__';\nfunction useAdjustedTo(props) {\n    const modal = inject(modalBodyInjectionKey, null);\n    const drawer = inject(drawerBodyInjectionKey, null);\n    const popover = inject(popoverBodyInjectionKey, null);\n    const selectMenu = inject(internalSelectionMenuBodyInjectionKey, null);\n    return useMemo(() => {\n        var _a;\n        const { to } = props;\n        if (to !== undefined) {\n            if (to === false)\n                return teleportDisabled;\n            if (to === true)\n                return 'body';\n            return to;\n        }\n        if (modal === null || modal === void 0 ? void 0 : modal.value) {\n            return (_a = modal.value.$el) !== null && _a !== void 0 ? _a : modal.value;\n        }\n        if (drawer === null || drawer === void 0 ? void 0 : drawer.value)\n            return drawer.value;\n        if (popover === null || popover === void 0 ? void 0 : popover.value)\n            return popover.value;\n        if (selectMenu === null || selectMenu === void 0 ? void 0 : selectMenu.value)\n            return selectMenu.value;\n        return to !== null && to !== void 0 ? to : 'body';\n    });\n}\n// teleport disabled key\nuseAdjustedTo.tdkey = teleportDisabled;\nuseAdjustedTo.propTo = {\n    type: [String, Object, Boolean],\n    default: undefined\n};\nexport { useAdjustedTo };\n","import { h, inject, computed, defineComponent, provide, renderSlot, markRaw } from 'vue';\nimport { useMemo } from 'vooks';\nimport { merge } from 'lodash-es';\nimport { warn } from '../../_utils';\nimport { defaultClsPrefix } from '../../_mixins';\nexport const configProviderInjectionKey = Symbol('configProviderInjection');\nexport const configProviderProps = {\n    abstract: Boolean,\n    bordered: {\n        type: Boolean,\n        default: undefined\n    },\n    clsPrefix: String,\n    locale: Object,\n    dateLocale: Object,\n    namespace: String,\n    rtl: Array,\n    tag: {\n        type: String,\n        default: 'div'\n    },\n    hljs: Object,\n    theme: Object,\n    themeOverrides: Object,\n    componentOptions: Object,\n    icons: Object,\n    breakpoints: Object,\n    // deprecated\n    as: {\n        type: String,\n        validator: () => {\n            warn('config-provider', '`as` is deprecated, please use `tag` instead.');\n            return true;\n        },\n        default: undefined\n    }\n};\nexport default defineComponent({\n    name: 'ConfigProvider',\n    alias: ['App'],\n    props: configProviderProps,\n    setup(props) {\n        const NConfigProvider = inject(configProviderInjectionKey, null);\n        const mergedThemeRef = computed(() => {\n            const { theme } = props;\n            if (theme === null)\n                return undefined;\n            const inheritedTheme = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedThemeRef.value;\n            return theme === undefined\n                ? inheritedTheme\n                : inheritedTheme === undefined\n                    ? theme\n                    : Object.assign({}, inheritedTheme, theme);\n        });\n        const mergedThemeOverridesRef = computed(() => {\n            const { themeOverrides } = props;\n            // stop inheriting themeOverrides\n            if (themeOverrides === null)\n                return undefined;\n            // use inherited themeOverrides\n            if (themeOverrides === undefined) {\n                return NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedThemeOverridesRef.value;\n            }\n            else {\n                const inheritedThemeOverrides = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedThemeOverridesRef.value;\n                if (inheritedThemeOverrides === undefined) {\n                    // no inherited, use self overrides\n                    return themeOverrides;\n                }\n                else {\n                    // merge overrides\n                    return merge({}, inheritedThemeOverrides, themeOverrides);\n                }\n            }\n        });\n        const mergedNamespaceRef = useMemo(() => {\n            const { namespace } = props;\n            return namespace === undefined\n                ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedNamespaceRef.value\n                : namespace;\n        });\n        const mergedBorderedRef = useMemo(() => {\n            const { bordered } = props;\n            return bordered === undefined\n                ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedBorderedRef.value\n                : bordered;\n        });\n        const mergedIconsRef = computed(() => {\n            const { icons } = props;\n            return icons === undefined ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedIconsRef.value : icons;\n        });\n        const mergedComponentPropsRef = computed(() => {\n            const { componentOptions } = props;\n            if (componentOptions !== undefined)\n                return componentOptions;\n            return NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedComponentPropsRef.value;\n        });\n        const mergedClsPrefixRef = computed(() => {\n            const { clsPrefix } = props;\n            if (clsPrefix !== undefined)\n                return clsPrefix;\n            return NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedClsPrefixRef.value;\n        });\n        const mergedRtlRef = computed(() => {\n            const { rtl } = props;\n            if (rtl === undefined) {\n                return NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedRtlRef.value;\n            }\n            const rtlEnabledState = {};\n            for (const rtlInfo of rtl) {\n                rtlEnabledState[rtlInfo.name] = markRaw(rtlInfo);\n            }\n            return rtlEnabledState;\n        });\n        const mergedBreakpointsRef = computed(() => {\n            return props.breakpoints || (NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedBreakpointsRef.value);\n        });\n        provide(configProviderInjectionKey, {\n            mergedBreakpointsRef,\n            mergedRtlRef,\n            mergedIconsRef,\n            mergedComponentPropsRef,\n            mergedBorderedRef,\n            mergedNamespaceRef,\n            mergedClsPrefixRef,\n            mergedLocaleRef: computed(() => {\n                const { locale } = props;\n                if (locale === null)\n                    return undefined;\n                return locale === undefined\n                    ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedLocaleRef.value\n                    : locale;\n            }),\n            mergedDateLocaleRef: computed(() => {\n                const { dateLocale } = props;\n                if (dateLocale === null)\n                    return undefined;\n                return dateLocale === undefined\n                    ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedDateLocaleRef.value\n                    : dateLocale;\n            }),\n            mergedHljsRef: computed(() => {\n                const { hljs } = props;\n                return hljs === undefined ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedHljsRef.value : hljs;\n            }),\n            mergedThemeRef,\n            mergedThemeOverridesRef\n        });\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            mergedBordered: mergedBorderedRef,\n            mergedNamespace: mergedNamespaceRef,\n            mergedTheme: mergedThemeRef,\n            mergedThemeOverrides: mergedThemeOverridesRef\n        };\n    },\n    render() {\n        return !this.abstract\n            ? h(this.as || this.tag, {\n                class: `${this.mergedClsPrefix || defaultClsPrefix}-config-provider`\n            }, renderSlot(this.$slots, 'default'))\n            : renderSlot(this.$slots, 'default');\n    }\n});\n","/* eslint-disable @typescript-eslint/consistent-type-assertions */\nimport { inject, computed, onBeforeMount } from 'vue';\nimport { merge } from 'lodash-es';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport globalStyle from '../_styles/global/index.cssr';\nimport { configProviderInjectionKey } from '../config-provider/src/ConfigProvider';\nexport function createTheme(theme) {\n    return theme;\n}\nfunction useTheme(resolveId, mountId, style, defaultTheme, props, clsPrefixRef) {\n    const ssrAdapter = useSsrAdapter();\n    if (style) {\n        const mountStyle = () => {\n            const clsPrefix = clsPrefixRef === null || clsPrefixRef === void 0 ? void 0 : clsPrefixRef.value;\n            style.mount({\n                id: clsPrefix === undefined ? mountId : clsPrefix + mountId,\n                head: true,\n                props: {\n                    bPrefix: clsPrefix ? `.${clsPrefix}-` : undefined\n                },\n                ssr: ssrAdapter\n            });\n            globalStyle.mount({\n                id: 'naive-ui/global',\n                head: true,\n                ssr: ssrAdapter\n            });\n        };\n        if (ssrAdapter) {\n            mountStyle();\n        }\n        else {\n            onBeforeMount(mountStyle);\n        }\n    }\n    const NConfigProvider = inject(configProviderInjectionKey, null);\n    const mergedThemeRef = computed(() => {\n        var _a;\n        // keep props to make theme overrideable\n        const { theme: { common: selfCommon, self, peers = {} } = {}, themeOverrides: selfOverrides = {}, builtinThemeOverrides: builtinOverrides = {} } = props;\n        const { common: selfCommonOverrides, peers: peersOverrides } = selfOverrides;\n        const { common: globalCommon = undefined, [resolveId]: { common: globalSelfCommon = undefined, self: globalSelf = undefined, peers: globalPeers = {} } = {} } = (NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedThemeRef.value) || {};\n        const { common: globalCommonOverrides = undefined, [resolveId]: globalSelfOverrides = {} } = (NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedThemeOverridesRef.value) || {};\n        const { common: globalSelfCommonOverrides, peers: globalPeersOverrides = {} } = globalSelfOverrides;\n        const mergedCommon = merge({}, selfCommon || globalSelfCommon || globalCommon || defaultTheme.common, globalCommonOverrides, globalSelfCommonOverrides, selfCommonOverrides);\n        const mergedSelf = merge(\n        // {}, executed every time, no need for empty obj\n        (_a = (self || globalSelf || defaultTheme.self)) === null || _a === void 0 ? void 0 : _a(mergedCommon), builtinOverrides, globalSelfOverrides, selfOverrides);\n        return {\n            common: mergedCommon,\n            self: mergedSelf,\n            peers: merge({}, defaultTheme.peers, globalPeers, peers),\n            peerOverrides: merge({}, globalPeersOverrides, peersOverrides)\n        };\n    });\n    return mergedThemeRef;\n}\nuseTheme.props = {\n    theme: Object,\n    themeOverrides: Object,\n    builtinThemeOverrides: Object\n};\n/**\n * props.theme (Theme):\n * {\n *   common: CommonThemeVars,\n *   self(): ThemeVars,\n *   peers: { Component: Theme }\n * }\n * provider.theme:\n * {\n *   common: CommonThemeVars,\n *   Button: Theme\n *   ...\n * }\n * defaultTheme:\n * {\n *   common: CommonThemeVars,\n *   self(): ThemeVars,\n *   peers: { Component: Theme }\n * }\n *\n * props.themeOverrides (ThemeOverrides):\n * {\n *   common: CommonThemeVars,\n *   peers: { Component: ThemeOverrides },\n *   ...ThemeVars\n * }\n * provider.themeOverrides:\n * {\n *   common: CommonThemeVars,\n *   Component: ThemeOverrides\n *   ...\n * }\n *\n * mergedTheme:\n * {\n *   common: CommonThemeVars,\n *   self: ThemeVars,\n *   peers: { Component: Theme },\n *   overrides: { Component: ThemeOverrides }\n * }\n */\nexport default useTheme;\n","import { inject, computed } from 'vue';\nimport { configProviderInjectionKey } from '../config-provider/src/ConfigProvider';\nexport const defaultClsPrefix = 'n';\nexport default function useConfig(props = {}, options = {\n    defaultBordered: true\n}) {\n    const NConfigProvider = inject(configProviderInjectionKey, null);\n    return {\n        NConfigProvider,\n        mergedBorderedRef: computed(() => {\n            var _a, _b;\n            const { bordered } = props;\n            if (bordered !== undefined)\n                return bordered;\n            return ((_b = (_a = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedBorderedRef.value) !== null && _a !== void 0 ? _a : options.defaultBordered) !== null && _b !== void 0 ? _b : true);\n        }),\n        mergedClsPrefixRef: computed(() => {\n            const clsPrefix = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedClsPrefixRef.value;\n            return clsPrefix || defaultClsPrefix;\n        }),\n        namespaceRef: computed(() => NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedNamespaceRef.value)\n    };\n}\n","const enUS = {\n    name: 'en-US',\n    global: {\n        undo: 'Undo',\n        redo: 'Redo',\n        confirm: 'Confirm'\n    },\n    Popconfirm: {\n        positiveText: 'Confirm',\n        negativeText: 'Cancel'\n    },\n    Cascader: {\n        placeholder: 'Please Select',\n        loading: 'Loading',\n        loadingRequiredMessage: (label) => `Please load all ${label}'s descedants before checking it.`\n    },\n    Time: {\n        dateFormat: 'yyyy-MM-dd',\n        dateTimeFormat: 'yyyy-MM-dd HH:mm:ss'\n    },\n    DatePicker: {\n        yearFormat: 'yyyy',\n        monthFormat: 'MMM',\n        dayFormat: 'eeeeee',\n        clear: 'Clear',\n        now: 'Now',\n        confirm: 'Confirm',\n        selectTime: 'Select Time',\n        selectDate: 'Select Date',\n        datePlaceholder: 'Select Date',\n        datetimePlaceholder: 'Select Date and Time',\n        monthPlaceholder: 'Select Month',\n        startDatePlaceholder: 'Start Date',\n        endDatePlaceholder: 'End Date',\n        startDatetimePlaceholder: 'Start Date and Time',\n        endDatetimePlaceholder: 'End Date and Time',\n        monthBeforeYear: true,\n        firstDayOfWeek: 6,\n        today: 'Today'\n    },\n    DataTable: {\n        checkTableAll: 'Select all in the table',\n        uncheckTableAll: 'Unselect all in the table',\n        confirm: 'Confirm',\n        clear: 'Clear'\n    },\n    Transfer: {\n        sourceTitle: 'Source',\n        targetTitle: 'Target'\n    },\n    Empty: {\n        description: 'No Data'\n    },\n    Select: {\n        placeholder: 'Please Select'\n    },\n    TimePicker: {\n        placeholder: 'Select Time',\n        positiveText: 'OK',\n        negativeText: 'Cancel',\n        now: 'Now'\n    },\n    Pagination: {\n        goto: 'Goto',\n        selectionSuffix: 'page'\n    },\n    DynamicTags: {\n        add: 'Add'\n    },\n    Log: {\n        loading: 'Loading'\n    },\n    Input: {\n        placeholder: 'Please Input'\n    },\n    InputNumber: {\n        placeholder: 'Please Input'\n    },\n    DynamicInput: {\n        create: 'Create'\n    },\n    ThemeEditor: {\n        title: 'Theme Editor',\n        clearAllVars: 'Clear All Variables',\n        clearSearch: 'Clear Search',\n        filterCompName: 'Filter Component Name',\n        filterVarName: 'Filter Variable Name',\n        import: 'Import',\n        export: 'Export',\n        restore: 'Reset to Default'\n    }\n};\nexport default enUS;\n","export default function buildFormatLongFn(args) {\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // TODO: Remove String()\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}","export default function buildLocalizeFn(args) {\n  return function (dirtyIndex, dirtyOptions) {\n    var options = dirtyOptions || {};\n    var context = options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n\n      var _width = options.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex; // @ts-ignore: For some reason TypeScript just don't want to match it, no matter how hard we try. I challange you to try to remove it!\n\n    return valuesArray[index];\n  };\n}","export default function buildMatchPatternFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}","export default function buildMatchFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    }) : findKey(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    });\n    var value;\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n\n  return undefined;\n}","var formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: 'less than a second',\n    other: 'less than {{count}} seconds'\n  },\n  xSeconds: {\n    one: '1 second',\n    other: '{{count}} seconds'\n  },\n  halfAMinute: 'half a minute',\n  lessThanXMinutes: {\n    one: 'less than a minute',\n    other: 'less than {{count}} minutes'\n  },\n  xMinutes: {\n    one: '1 minute',\n    other: '{{count}} minutes'\n  },\n  aboutXHours: {\n    one: 'about 1 hour',\n    other: 'about {{count}} hours'\n  },\n  xHours: {\n    one: '1 hour',\n    other: '{{count}} hours'\n  },\n  xDays: {\n    one: '1 day',\n    other: '{{count}} days'\n  },\n  aboutXWeeks: {\n    one: 'about 1 week',\n    other: 'about {{count}} weeks'\n  },\n  xWeeks: {\n    one: '1 week',\n    other: '{{count}} weeks'\n  },\n  aboutXMonths: {\n    one: 'about 1 month',\n    other: 'about {{count}} months'\n  },\n  xMonths: {\n    one: '1 month',\n    other: '{{count}} months'\n  },\n  aboutXYears: {\n    one: 'about 1 year',\n    other: 'about {{count}} years'\n  },\n  xYears: {\n    one: '1 year',\n    other: '{{count}} years'\n  },\n  overXYears: {\n    one: 'over 1 year',\n    other: 'over {{count}} years'\n  },\n  almostXYears: {\n    one: 'almost 1 year',\n    other: 'almost {{count}} years'\n  }\n};\n\nvar formatDistance = function (token, count, options) {\n  var result;\n  var tokenValue = formatDistanceLocale[token];\n\n  if (typeof tokenValue === 'string') {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace('{{count}}', count.toString());\n  }\n\n  if (options !== null && options !== void 0 && options.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return 'in ' + result;\n    } else {\n      return result + ' ago';\n    }\n  }\n\n  return result;\n};\n\nexport default formatDistance;","import buildFormatLongFn from \"../../../_lib/buildFormatLongFn/index.js\";\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nexport default formatLong;","var formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: 'P'\n};\n\nvar formatRelative = function (token, _date, _baseDate, _options) {\n  return formatRelativeLocale[token];\n};\n\nexport default formatRelative;","import buildLocalizeFn from \"../../../_lib/buildLocalizeFn/index.js\";\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter']\n}; // Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\n\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\n\nvar ordinalNumber = function (dirtyNumber, _options) {\n  var number = Number(dirtyNumber); // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  var rem100 = number % 100;\n\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n\n      case 2:\n        return number + 'nd';\n\n      case 3:\n        return number + 'rd';\n    }\n  }\n\n  return number + 'th';\n};\n\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function (quarter) {\n      return quarter - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nexport default localize;","import buildMatchFn from \"../../../_lib/buildMatchFn/index.js\";\nimport buildMatchPatternFn from \"../../../_lib/buildMatchPatternFn/index.js\";\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function (value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function (index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nexport default match;","import formatDistance from \"./_lib/formatDistance/index.js\";\nimport formatLong from \"./_lib/formatLong/index.js\";\nimport formatRelative from \"./_lib/formatRelative/index.js\";\nimport localize from \"./_lib/localize/index.js\";\nimport match from \"./_lib/match/index.js\";\n\n/**\n * @type {Locale}\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}\n * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}\n */\nvar locale = {\n  code: 'en-US',\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0\n    /* Sunday */\n    ,\n    firstWeekContainsDate: 1\n  }\n};\nexport default locale;","import enUS from 'date-fns/locale/en-US';\nconst dateEnUs = {\n    name: 'en-US',\n    locale: enUS\n};\nexport default dateEnUs;\n","import { inject, computed } from 'vue';\nimport { enUS, dateEnUS } from '../locales';\nimport { configProviderInjectionKey } from '../config-provider/src/ConfigProvider';\nexport default function createLocaleMixin(ns) {\n    const { mergedLocaleRef, mergedDateLocaleRef } = inject(configProviderInjectionKey, null) || {};\n    const localeRef = computed(() => {\n        var _a, _b;\n        return (_b = (_a = mergedLocaleRef === null || mergedLocaleRef === void 0 ? void 0 : mergedLocaleRef.value) === null || _a === void 0 ? void 0 : _a[ns]) !== null && _b !== void 0 ? _b : enUS[ns];\n    });\n    const dateLocaleRef = computed(() => {\n        var _a;\n        return (_a = mergedDateLocaleRef === null || mergedDateLocaleRef === void 0 ? void 0 : mergedDateLocaleRef.value) !== null && _a !== void 0 ? _a : dateEnUS;\n    });\n    return {\n        dateLocaleRef,\n        localeRef\n    };\n}\n","import { onBeforeMount } from 'vue';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport globalStyle from '../_styles/global/index.cssr';\nimport { throwError } from '../_utils';\nexport default function useStyle(mountId, style, clsPrefixRef) {\n    if (!style) {\n        if (process.env.NODE_ENV !== 'production')\n            throwError('use-style', 'No style is specified.');\n        return;\n    }\n    const ssrAdapter = useSsrAdapter();\n    const mountStyle = () => {\n        const clsPrefix = clsPrefixRef === null || clsPrefixRef === void 0 ? void 0 : clsPrefixRef.value;\n        style.mount({\n            id: clsPrefix === undefined ? mountId : clsPrefix + mountId,\n            head: true,\n            props: {\n                bPrefix: clsPrefix ? `.${clsPrefix}-` : undefined\n            },\n            ssr: ssrAdapter\n        });\n        globalStyle.mount({\n            id: 'naive-ui/global',\n            head: true,\n            ssr: ssrAdapter\n        });\n    };\n    if (ssrAdapter) {\n        mountStyle();\n    }\n    else {\n        onBeforeMount(mountStyle);\n    }\n}\n","import { upperFirst } from 'lodash-es';\nimport { defineComponent } from 'vue';\nimport { useConfig } from '../../_mixins';\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport function replaceable(name, icon) {\n    return defineComponent({\n        name: upperFirst(name),\n        setup() {\n            const { NConfigProvider } = useConfig();\n            return () => {\n                var _a;\n                const iconOverride = (_a = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedIconsRef.value) === null || _a === void 0 ? void 0 : _a[name];\n                return iconOverride ? iconOverride() : icon;\n            };\n        }\n    });\n}\n","import { h } from 'vue';\nimport { replaceable } from './replaceable';\nexport default replaceable('warning', h(\"svg\", { viewBox: \"0 0 24 24\", version: \"1.1\", xmlns: \"http://www.w3.org/2000/svg\" },\n    h(\"g\", { stroke: \"none\", \"stroke-width\": \"1\", \"fill-rule\": \"evenodd\" },\n        h(\"g\", { \"fill-rule\": \"nonzero\" },\n            h(\"path\", { d: \"M12,2 C17.523,2 22,6.478 22,12 C22,17.522 17.523,22 12,22 C6.477,22 2,17.522 2,12 C2,6.478 6.477,2 12,2 Z M12.0018002,15.0037242 C11.450254,15.0037242 11.0031376,15.4508407 11.0031376,16.0023869 C11.0031376,16.553933 11.450254,17.0010495 12.0018002,17.0010495 C12.5533463,17.0010495 13.0004628,16.553933 13.0004628,16.0023869 C13.0004628,15.4508407 12.5533463,15.0037242 12.0018002,15.0037242 Z M11.99964,7 C11.4868042,7.00018474 11.0642719,7.38637706 11.0066858,7.8837365 L11,8.00036004 L11.0018003,13.0012393 L11.00857,13.117858 C11.0665141,13.6151758 11.4893244,14.0010638 12.0021602,14.0008793 C12.514996,14.0006946 12.9375283,13.6145023 12.9951144,13.1171428 L13.0018002,13.0005193 L13,7.99964009 L12.9932303,7.8830214 C12.9352861,7.38570354 12.5124758,6.99981552 11.99964,7 Z\" })))));\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'ChevronDown',\n    render() {\n        return (h(\"svg\", { viewBox: \"0 0 16 16\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n            h(\"path\", { d: \"M3.14645 5.64645C3.34171 5.45118 3.65829 5.45118 3.85355 5.64645L8 9.79289L12.1464 5.64645C12.3417 5.45118 12.6583 5.45118 12.8536 5.64645C13.0488 5.84171 13.0488 6.15829 12.8536 6.35355L8.35355 10.8536C8.15829 11.0488 7.84171 11.0488 7.64645 10.8536L3.14645 6.35355C2.95118 6.15829 2.95118 5.84171 3.14645 5.64645Z\", fill: \"currentColor\" })));\n    }\n});\n","import { h } from 'vue';\nimport { replaceable } from './replaceable';\nexport default replaceable('clear', h(\"svg\", { viewBox: \"0 0 16 16\", version: \"1.1\", xmlns: \"http://www.w3.org/2000/svg\" },\n    h(\"g\", { stroke: \"none\", \"stroke-width\": \"1\", fill: \"none\", \"fill-rule\": \"evenodd\" },\n        h(\"g\", { fill: \"currentColor\", \"fill-rule\": \"nonzero\" },\n            h(\"path\", { d: \"M8,2 C11.3137085,2 14,4.6862915 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 Z M6.5343055,5.83859116 C6.33943736,5.70359511 6.07001296,5.72288026 5.89644661,5.89644661 L5.89644661,5.89644661 L5.83859116,5.9656945 C5.70359511,6.16056264 5.72288026,6.42998704 5.89644661,6.60355339 L5.89644661,6.60355339 L7.293,8 L5.89644661,9.39644661 L5.83859116,9.4656945 C5.70359511,9.66056264 5.72288026,9.92998704 5.89644661,10.1035534 L5.89644661,10.1035534 L5.9656945,10.1614088 C6.16056264,10.2964049 6.42998704,10.2771197 6.60355339,10.1035534 L6.60355339,10.1035534 L8,8.707 L9.39644661,10.1035534 L9.4656945,10.1614088 C9.66056264,10.2964049 9.92998704,10.2771197 10.1035534,10.1035534 L10.1035534,10.1035534 L10.1614088,10.0343055 C10.2964049,9.83943736 10.2771197,9.57001296 10.1035534,9.39644661 L10.1035534,9.39644661 L8.707,8 L10.1035534,6.60355339 L10.1614088,6.5343055 C10.2964049,6.33943736 10.2771197,6.07001296 10.1035534,5.89644661 L10.1035534,5.89644661 L10.0343055,5.83859116 C9.83943736,5.70359511 9.57001296,5.72288026 9.39644661,5.89644661 L9.39644661,5.89644661 L8,7.293 L6.60355339,5.89644661 Z\" })))));\n","import { h, Transition, defineComponent } from 'vue';\nimport { useIsMounted } from 'vooks';\nexport default defineComponent({\n    name: 'BaseIconSwitchTransition',\n    setup(_, { slots }) {\n        const isMountedRef = useIsMounted();\n        return () => (h(Transition, { name: \"icon-switch-transition\", appear: isMountedRef.value }, slots));\n    }\n});\n","import { h, Transition, TransitionGroup, defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'FadeInExpandTransition',\n    props: {\n        appear: Boolean,\n        group: Boolean,\n        mode: String,\n        onLeave: Function,\n        onAfterLeave: Function,\n        onAfterEnter: Function,\n        width: Boolean,\n        // reverse mode is only used in tree\n        // it make it from expanded to collapsed after mounted\n        reverse: Boolean\n    },\n    setup(props, { slots }) {\n        function handleBeforeLeave(el) {\n            if (props.width) {\n                el.style.maxWidth = `${el.offsetWidth}px`;\n            }\n            else {\n                el.style.maxHeight = `${el.offsetHeight}px`;\n            }\n            void el.offsetWidth;\n        }\n        function handleLeave(el) {\n            if (props.width) {\n                el.style.maxWidth = '0';\n            }\n            else {\n                el.style.maxHeight = '0';\n            }\n            void el.offsetWidth;\n            const { onLeave } = props;\n            if (onLeave)\n                onLeave();\n        }\n        function handleAfterLeave(el) {\n            if (props.width) {\n                el.style.maxWidth = '';\n            }\n            else {\n                el.style.maxHeight = '';\n            }\n            const { onAfterLeave } = props;\n            if (onAfterLeave)\n                onAfterLeave();\n        }\n        function handleEnter(el) {\n            el.style.transition = 'none';\n            if (props.width) {\n                const memorizedWidth = el.offsetWidth;\n                el.style.maxWidth = '0';\n                void el.offsetWidth;\n                el.style.transition = '';\n                el.style.maxWidth = `${memorizedWidth}px`;\n            }\n            else {\n                if (props.reverse) {\n                    el.style.maxHeight = `${el.offsetHeight}px`;\n                    void el.offsetHeight;\n                    el.style.transition = '';\n                    el.style.maxHeight = '0';\n                }\n                else {\n                    const memorizedHeight = el.offsetHeight;\n                    el.style.maxHeight = '0';\n                    void el.offsetWidth;\n                    el.style.transition = '';\n                    el.style.maxHeight = `${memorizedHeight}px`;\n                }\n            }\n            void el.offsetWidth;\n        }\n        function handleAfterEnter(el) {\n            var _a;\n            if (props.width) {\n                el.style.maxWidth = '';\n            }\n            else {\n                if (!props.reverse) {\n                    el.style.maxHeight = '';\n                }\n            }\n            (_a = props.onAfterEnter) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        return () => {\n            const type = props.group ? TransitionGroup : Transition;\n            return h(type, {\n                name: props.width\n                    ? 'fade-in-width-expand-transition'\n                    : 'fade-in-height-expand-transition',\n                mode: props.mode,\n                appear: props.appear,\n                onEnter: handleEnter,\n                onAfterEnter: handleAfterEnter,\n                onBeforeLeave: handleBeforeLeave,\n                onLeave: handleLeave,\n                onAfterLeave: handleAfterLeave\n            }, slots);\n        };\n    }\n});\n","import { c, cB } from '../../../../_utils/cssr';\nexport default cB('base-icon', `\n height: 1em;\n width: 1em;\n line-height: 1em;\n text-align: center;\n display: inline-block;\n position: relative;\n fill: currentColor;\n transform: translateZ(0);\n`, [c('svg', {\n  height: '1em',\n  width: '1em'\n})]);","import { h, defineComponent, toRef } from 'vue';\nimport { useStyle } from '../../../_mixins';\nimport style from './styles/index.cssr';\nexport default defineComponent({\n    name: 'BaseIcon',\n    props: {\n        role: String,\n        ariaLabel: String,\n        ariaDisabled: {\n            type: Boolean,\n            default: undefined\n        },\n        ariaHidden: {\n            type: Boolean,\n            default: undefined\n        },\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        onClick: Function,\n        onMousedown: Function,\n        onMouseup: Function\n    },\n    setup(props) {\n        useStyle('BaseIcon', style, toRef(props, 'clsPrefix'));\n    },\n    render() {\n        return (h(\"i\", { class: `${this.clsPrefix}-base-icon`, onClick: this.onClick, onMousedown: this.onMousedown, onMouseup: this.onMouseup, role: this.role, \"aria-label\": this.ariaLabel, \"aria-hidden\": this.ariaHidden, \"aria-disabled\": this.ariaDisabled }, this.$slots));\n    }\n});\n","import { c } from '../../_utils/cssr';\nimport commonVariables from '../common/_common';\nexport default function ({\n  originalTransform = '',\n  left = 0,\n  top = 0,\n  transition = `all .3s ${commonVariables.cubicBezierEaseInOut} !important`\n} = {}) {\n  return [c('&.icon-switch-transition-enter-from, &.icon-switch-transition-leave-to', {\n    transform: originalTransform + ' scale(0.75)',\n    left,\n    top,\n    opacity: 0\n  }), c('&.icon-switch-transition-enter-to, &.icon-switch-transition-leave-from', {\n    transform: `${commonVariables.transformDebounceScale} ${originalTransform}`,\n    left,\n    top,\n    opacity: 1\n  }), c('&.icon-switch-transition-enter-active, &.icon-switch-transition-leave-active', {\n    transformOrigin: 'center',\n    position: 'absolute',\n    left,\n    top,\n    transition\n  })];\n}","import { cB, cE } from '../../../../_utils/cssr';\nimport iconSwitchTransition from '../../../../_styles/transitions/icon-switch.cssr';\nexport default cB('base-loading', `\n position: relative;\n line-height: 0;\n width: 1em;\n height: 1em;\n`, [cE('placeholder', `\n position: absolute;\n left: 50%;\n top: 50%;\n transform: translateX(-50%) translateY(-50%);\n `, [iconSwitchTransition({\n  left: '50%',\n  top: '50%',\n  originalTransform: 'translateX(-50%) translateY(-50%)'\n})]), cE('icon', `\n height: 1em;\n width: 1em;\n `, [iconSwitchTransition()])]);","import { h, defineComponent, toRef } from 'vue';\nimport { useStyle } from '../../../_mixins';\nimport NIconSwitchTransition from '../../icon-switch-transition';\nimport style from './styles/index.cssr';\nconst duration = '1.6s';\n// The loading svg dom comes from https://codepen.io/FezVrasta/pen/oXrgdR\nexport default defineComponent({\n    name: 'BaseLoading',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        scale: {\n            type: Number,\n            default: 1\n        },\n        radius: {\n            type: Number,\n            default: 100\n        },\n        strokeWidth: {\n            type: Number,\n            default: 28\n        },\n        stroke: {\n            type: String,\n            default: undefined\n        },\n        show: {\n            type: Boolean,\n            default: true\n        }\n    },\n    setup(props) {\n        useStyle('BaseLoading', style, toRef(props, 'clsPrefix'));\n    },\n    render() {\n        const { clsPrefix, radius, strokeWidth, stroke, scale } = this;\n        const scaledRadius = radius / scale;\n        return (h(\"div\", { class: `${clsPrefix}-base-loading`, role: \"img\", \"aria-label\": \"loading\" },\n            h(NIconSwitchTransition, null, {\n                default: () => this.show ? (h(\"svg\", { class: `${clsPrefix}-base-loading__icon`, viewBox: `0 0 ${2 * scaledRadius} ${2 * scaledRadius}`, xmlns: \"http://www.w3.org/2000/svg\", style: { color: stroke } },\n                    h(\"g\", null,\n                        h(\"animateTransform\", { attributeName: \"transform\", type: \"rotate\", values: `0 ${scaledRadius} ${scaledRadius};270 ${scaledRadius} ${scaledRadius}`, begin: \"0s\", dur: duration, fill: \"freeze\", repeatCount: \"indefinite\" }),\n                        h(\"circle\", { fill: \"none\", stroke: \"currentColor\", \"stroke-width\": strokeWidth, \"stroke-linecap\": \"round\", cx: scaledRadius, cy: scaledRadius, r: radius - strokeWidth / 2, \"stroke-dasharray\": 5.67 * radius, \"stroke-dashoffset\": 18.48 * radius },\n                            h(\"animateTransform\", { attributeName: \"transform\", type: \"rotate\", values: `0 ${scaledRadius} ${scaledRadius};135 ${scaledRadius} ${scaledRadius};450 ${scaledRadius} ${scaledRadius}`, begin: \"0s\", dur: duration, fill: \"freeze\", repeatCount: \"indefinite\" }),\n                            h(\"animate\", { attributeName: \"stroke-dashoffset\", values: `${5.67 * radius};${1.42 * radius};${5.67 * radius}`, begin: \"0s\", dur: duration, fill: \"freeze\", repeatCount: \"indefinite\" }))))) : (h(\"div\", { key: \"placeholder\", class: `${clsPrefix}-base-loading__placeholder` }, this.$slots))\n            })));\n    }\n});\n","export function getSlot(slots, slotName = 'default') {\n    const slot = slots[slotName];\n    if (slot === undefined) {\n        throw new Error(`[vueuc/binder]: slot[${slotName}] is empty.`);\n    }\n    return slot();\n}\nexport function getFirstVNode(slots, slotName = 'default') {\n    const slot = slots[slotName];\n    if (slot === undefined) {\n        throw new Error(`[vueuc/binder]: slot[${slotName}] is empty.`);\n    }\n    const content = slot();\n    // vue will normalize the slot, so slot must be an array\n    if (content.length === 1) {\n        return content[0];\n    }\n    else {\n        throw new Error(`[vueuc/binder]: slot[${slotName}] should have exactly one child.`);\n    }\n}\n","let viewMeasurer = null;\nexport function ensureViewBoundingRect() {\n    if (viewMeasurer === null) {\n        viewMeasurer = document.getElementById('v-binder-view-measurer');\n        if (viewMeasurer === null) {\n            viewMeasurer = document.createElement('div');\n            viewMeasurer.id = 'v-binder-view-measurer';\n            const { style } = viewMeasurer;\n            style.position = 'fixed';\n            style.left = '0';\n            style.right = '0';\n            style.top = '0';\n            style.bottom = '0';\n            style.pointerEvents = 'none';\n            style.visibility = 'hidden';\n            document.body.appendChild(viewMeasurer);\n        }\n    }\n    return viewMeasurer.getBoundingClientRect();\n}\nexport function getPointRect(x, y) {\n    const viewRect = ensureViewBoundingRect();\n    return {\n        top: y,\n        left: x,\n        height: 0,\n        width: 0,\n        right: viewRect.width - x,\n        bottom: viewRect.height - y\n    };\n}\nexport function getRect(el) {\n    const elRect = el.getBoundingClientRect();\n    const viewRect = ensureViewBoundingRect();\n    return {\n        left: elRect.left - viewRect.left,\n        top: elRect.top - viewRect.top,\n        bottom: viewRect.height + viewRect.top - elRect.bottom,\n        right: viewRect.width + viewRect.left - elRect.right,\n        width: elRect.width,\n        height: elRect.height\n    };\n}\nexport function getParentNode(node) {\n    // document type\n    if (node.nodeType === 9) {\n        return null;\n    }\n    return node.parentNode;\n}\nexport function getScrollParent(node) {\n    if (node === null)\n        return null;\n    const parentNode = getParentNode(node);\n    if (parentNode === null) {\n        return null;\n    }\n    // Document\n    if (parentNode.nodeType === 9) {\n        return document;\n    }\n    // Element\n    if (parentNode.nodeType === 1) {\n        // Firefox want us to check `-x` and `-y` variations as well\n        const { overflow, overflowX, overflowY } = getComputedStyle(parentNode);\n        if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n            return parentNode;\n        }\n    }\n    return getScrollParent(parentNode);\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { defineComponent, provide, ref, inject, getCurrentInstance, onBeforeUnmount } from 'vue';\nimport { beforeNextFrameOnce } from 'seemly';\nimport { getSlot } from '../../shared/v-node';\nimport { getScrollParent } from './utils';\nimport { on, off } from 'evtd';\nconst Binder = defineComponent({\n    name: 'Binder',\n    props: {\n        syncTargetWithParent: Boolean,\n        syncTarget: {\n            type: Boolean,\n            default: true\n        }\n    },\n    setup(props) {\n        var _a;\n        provide('VBinder', (_a = getCurrentInstance()) === null || _a === void 0 ? void 0 : _a.proxy);\n        const VBinder = inject('VBinder', null);\n        const targetRef = ref(null);\n        /**\n         * If there's no nested vbinder, we can simply set the target ref.\n         *\n         * However, when it comes to:\n         * <VBinder> <- syncTarget = false\n         *\n         *              Should hold target DOM ref, but can't get it directly from\n         *              its VTarget. So if there are nested VBinder, we should:\n         *              1. Stop setting target DOM from level-1 VTarget\n         *              2. Set target DOM from level-2 VTarget\n         *              For (1), we need `syncTarget` to `false`\n         *              For (2), we need to set `syncTargetWithParent` to `true` on\n         *              level-2 VBinder\n         *   <VTarget>\n         *     <VBinder> <- syncTargetWithParent = true\n         *       <VTarget>target</VTarget>\n         *     </VBinder>\n         *     <VFollower>\n         *       content1\n         *     </VFollower>\n         *   </VTarget>\n         *   <VFollower>\n         *     content2\n         *   </VFollower>\n         * </VBinder>\n         */\n        const setTargetRef = (el) => {\n            targetRef.value = el;\n            // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n            if (VBinder && props.syncTargetWithParent) {\n                VBinder.setTargetRef(el);\n            }\n        };\n        // scroll related\n        let scrollableNodes = [];\n        const ensureScrollListener = () => {\n            let cursor = targetRef.value;\n            while (true) {\n                cursor = getScrollParent(cursor);\n                if (cursor === null)\n                    break;\n                scrollableNodes.push(cursor);\n            }\n            for (const el of scrollableNodes) {\n                on('scroll', el, onScroll, true);\n            }\n        };\n        const removeScrollListeners = () => {\n            for (const el of scrollableNodes) {\n                off('scroll', el, onScroll, true);\n            }\n            scrollableNodes = [];\n        };\n        const followerScrollListeners = new Set();\n        const addScrollListener = (listener) => {\n            if (followerScrollListeners.size === 0) {\n                ensureScrollListener();\n            }\n            if (!followerScrollListeners.has(listener)) {\n                followerScrollListeners.add(listener);\n            }\n        };\n        const removeScrollListener = (listener) => {\n            if (followerScrollListeners.has(listener)) {\n                followerScrollListeners.delete(listener);\n            }\n            if (followerScrollListeners.size === 0) {\n                removeScrollListeners();\n            }\n        };\n        const onScroll = () => {\n            beforeNextFrameOnce(onScrollRaf);\n        };\n        const onScrollRaf = () => {\n            followerScrollListeners.forEach((listener) => listener());\n        };\n        // resize related\n        const followerResizeListeners = new Set();\n        const addResizeListener = (listener) => {\n            if (followerResizeListeners.size === 0) {\n                on('resize', window, onResize);\n            }\n            if (!followerResizeListeners.has(listener)) {\n                followerResizeListeners.add(listener);\n            }\n        };\n        const removeResizeListener = (listener) => {\n            if (followerResizeListeners.has(listener)) {\n                followerResizeListeners.delete(listener);\n            }\n            if (followerResizeListeners.size === 0) {\n                off('resize', window, onResize);\n            }\n        };\n        const onResize = () => {\n            followerResizeListeners.forEach((listener) => listener());\n        };\n        onBeforeUnmount(() => {\n            off('resize', window, onResize);\n            removeScrollListeners();\n        });\n        return {\n            targetRef,\n            setTargetRef,\n            addScrollListener,\n            removeScrollListener,\n            addResizeListener,\n            removeResizeListener\n        };\n    },\n    render() {\n        return getSlot(this.$slots);\n    }\n});\nexport default Binder;\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { defineComponent, inject, withDirectives } from 'vue';\nimport { getFirstVNode } from '../../shared/v-node';\nexport default defineComponent({\n    name: 'Target',\n    setup() {\n        const { setTargetRef, syncTarget } = inject('VBinder');\n        const setTargetDirective = {\n            mounted: setTargetRef,\n            updated: setTargetRef\n        };\n        return {\n            syncTarget,\n            setTargetDirective\n        };\n    },\n    render() {\n        const { syncTarget, setTargetDirective } = this;\n        /**\n         * If you are using VBinder as a child of VBinder, the children wouldn't be\n         * a valid DOM or component that can be attached to by directive.\n         * So we won't sync target on those kind of situation and control the\n         * target sync logic manually.\n         */\n        if (syncTarget) {\n            return withDirectives(getFirstVNode(this.$slots), [[setTargetDirective]]);\n        }\n        return getFirstVNode(this.$slots);\n    }\n});\n","import { on, off } from 'evtd';\nconst ctxKey = '@@mmoContext';\nconst mousemoveoutside = {\n    mounted(el, { value }) {\n        el[ctxKey] = {\n            handler: undefined\n        };\n        if (typeof value === 'function') {\n            el[ctxKey].handler = value;\n            on('mousemoveoutside', el, value);\n        }\n    },\n    updated(el, { value }) {\n        const ctx = el[ctxKey];\n        if (typeof value === 'function') {\n            if (ctx.handler) {\n                if (ctx.handler !== value) {\n                    off('mousemoveoutside', el, ctx.handler);\n                    ctx.handler = value;\n                    on('mousemoveoutside', el, value);\n                }\n            }\n            else {\n                el[ctxKey].handler = value;\n                on('mousemoveoutside', el, value);\n            }\n        }\n        else {\n            if (ctx.handler) {\n                off('mousemoveoutside', el, ctx.handler);\n                ctx.handler = undefined;\n            }\n        }\n    },\n    unmounted(el) {\n        const { handler } = el[ctxKey];\n        if (handler) {\n            off('mousemoveoutside', el, handler);\n        }\n        el[ctxKey].handler = undefined;\n    }\n};\nexport default mousemoveoutside;\n","import { on, off } from 'evtd';\nconst ctxKey = '@@coContext';\nconst clickoutside = {\n    mounted(el, { value }) {\n        el[ctxKey] = {\n            handler: undefined\n        };\n        if (typeof value === 'function') {\n            el[ctxKey].handler = value;\n            on('clickoutside', el, value);\n        }\n    },\n    updated(el, { value }) {\n        const ctx = el[ctxKey];\n        if (typeof value === 'function') {\n            if (ctx.handler) {\n                if (ctx.handler !== value) {\n                    off('clickoutside', el, ctx.handler);\n                    ctx.handler = value;\n                    on('clickoutside', el, value);\n                }\n            }\n            else {\n                el[ctxKey].handler = value;\n                on('clickoutside', el, value);\n            }\n        }\n        else {\n            if (ctx.handler) {\n                off('clickoutside', el, ctx.handler);\n                ctx.handler = undefined;\n            }\n        }\n    },\n    unmounted(el) {\n        const { handler } = el[ctxKey];\n        if (handler) {\n            off('clickoutside', el, handler);\n        }\n        el[ctxKey].handler = undefined;\n    }\n};\nexport default clickoutside;\n","const warnedMessages = new Set();\nexport function warnOnce(location, message) {\n    const mergedMessage = `[vdirs/${location}]: ${message}`;\n    if (warnedMessages.has(mergedMessage))\n        return;\n    warnedMessages.add(mergedMessage);\n}\nexport function warn(location, message) {\n    console.error(`[vdirs/${location}]: ${message}`);\n}\n","import { warn } from '../utils';\nclass ZIndexManager {\n    constructor() {\n        this.elementZIndex = new Map();\n        this.nextZIndex = 2000;\n    }\n    get elementCount() {\n        return this.elementZIndex.size;\n    }\n    ensureZIndex(el, zIndex) {\n        const { elementZIndex } = this;\n        if (zIndex !== undefined) {\n            el.style.zIndex = `${zIndex}`;\n            elementZIndex.delete(el);\n            return;\n        }\n        const { nextZIndex } = this;\n        if (elementZIndex.has(el)) {\n            const currentZIndex = elementZIndex.get(el);\n            if (currentZIndex + 1 === this.nextZIndex)\n                return;\n        }\n        el.style.zIndex = `${nextZIndex}`;\n        elementZIndex.set(el, nextZIndex);\n        this.nextZIndex = nextZIndex + 1;\n        this.squashState();\n    }\n    unregister(el) {\n        const { elementZIndex } = this;\n        if (elementZIndex.has(el)) {\n            elementZIndex.delete(el);\n        }\n        else {\n            warn('vdirs/z-index-manager/unregister-element', 'Element not found when unregistering.');\n        }\n        this.squashState();\n    }\n    squashState() {\n        const { elementCount } = this;\n        if (!elementCount) {\n            this.nextZIndex = 2000;\n        }\n        if (this.nextZIndex - elementCount > 2500)\n            this.rearrange();\n    }\n    rearrange() {\n        const elementZIndexPair = Array.from(this.elementZIndex.entries());\n        elementZIndexPair.sort((pair1, pair2) => {\n            return pair1[1] - pair2[1];\n        });\n        this.nextZIndex = 2000;\n        elementZIndexPair.forEach(pair => {\n            const el = pair[0];\n            const zIndex = this.nextZIndex++;\n            if (`${zIndex}` !== el.style.zIndex)\n                el.style.zIndex = `${zIndex}`;\n        });\n    }\n}\nexport default new ZIndexManager();\n","import zIndexManager from './z-index-manager';\nconst ctx = '@@ziContext';\nconst zindexable = {\n    mounted(el, bindings) {\n        const { value = {} } = bindings;\n        const { zIndex, enabled } = value;\n        zIndexManager.ensureZIndex(el, zIndex);\n        el[ctx] = {\n            enabled\n        };\n    },\n    updated(el, bindings) {\n        const { value = {} } = bindings;\n        const { zIndex, enabled } = value;\n        const cachedEnabled = el[ctx].enabled;\n        if (enabled && !cachedEnabled) {\n            zIndexManager.ensureZIndex(el, zIndex);\n        }\n        el[ctx].enabled = enabled;\n    },\n    unmounted(el) {\n        zIndexManager.unregister(el);\n    }\n};\nexport default zindexable;\n","export function warn(location, message) {\n    console.error(`[vueuc/${location}]: ${message}`);\n}\n","import { CssRender } from 'css-render';\nconst { c } = CssRender();\nexport { c };\n","import { Teleport, h, toRef, computed, defineComponent } from 'vue';\nimport { useFalseUntilTruthy } from 'vooks';\nimport { getSlot } from '../../shared/v-node';\nexport default defineComponent({\n    name: 'LazyTeleport',\n    props: {\n        to: {\n            type: [String, Object],\n            default: undefined\n        },\n        disabled: Boolean,\n        show: {\n            type: Boolean,\n            required: true\n        }\n    },\n    setup(props) {\n        return {\n            showTeleport: useFalseUntilTruthy(toRef(props, 'show')),\n            mergedTo: computed(() => {\n                const { to } = props;\n                return to !== null && to !== void 0 ? to : 'body';\n            })\n        };\n    },\n    render() {\n        return this.showTeleport\n            ? this.disabled\n                ? getSlot(this.$slots)\n                : h(Teleport, {\n                    disabled: this.disabled,\n                    to: this.mergedTo\n                }, getSlot(this.$slots))\n            : null;\n    }\n});\n","const oppositionPositions = {\n    top: 'bottom',\n    bottom: 'top',\n    left: 'right',\n    right: 'left'\n};\nconst oppositeAligns = {\n    start: 'end',\n    center: 'center',\n    end: 'start'\n};\nconst propToCompare = {\n    top: 'height',\n    bottom: 'height',\n    left: 'width',\n    right: 'width'\n};\nconst transformOrigins = {\n    'bottom-start': 'top left',\n    bottom: 'top center',\n    'bottom-end': 'top right',\n    'top-start': 'bottom left',\n    top: 'bottom center',\n    'top-end': 'bottom right',\n    'right-start': 'top left',\n    right: 'center left',\n    'right-end': 'bottom left',\n    'left-start': 'top right',\n    left: 'center right',\n    'left-end': 'bottom right'\n};\nconst overlapTransformOrigin = {\n    'bottom-start': 'bottom left',\n    bottom: 'bottom center',\n    'bottom-end': 'bottom right',\n    'top-start': 'top left',\n    top: 'top center',\n    'top-end': 'top right',\n    'right-start': 'top right',\n    right: 'center right',\n    'right-end': 'bottom right',\n    'left-start': 'top left',\n    left: 'center left',\n    'left-end': 'bottom left'\n};\nconst oppositeAlignCssPositionProps = {\n    'bottom-start': 'right',\n    'bottom-end': 'left',\n    'top-start': 'right',\n    'top-end': 'left',\n    'right-start': 'bottom',\n    'right-end': 'top',\n    'left-start': 'bottom',\n    'left-end': 'top'\n};\nexport function getProperPlacementOfFollower(placement, targetRect, followerRect, flip, overlap) {\n    if (!flip || overlap) {\n        return placement;\n    }\n    const [position, align] = placement.split('-');\n    let properAlign = align !== null && align !== void 0 ? align : 'center';\n    if (align !== 'center') {\n        const oppositeAlignCssPositionProp = oppositeAlignCssPositionProps[placement];\n        const currentAlignCssPositionProp = oppositionPositions[oppositeAlignCssPositionProp];\n        const oppositeAlignCssSizeProp = propToCompare[oppositeAlignCssPositionProp];\n        // if follower rect is larger than target rect in align direction\n        //           [ target ]\n        //           [     follower     ]\n        // [     follower     ] <---->\n        if (followerRect[oppositeAlignCssSizeProp] > targetRect[oppositeAlignCssSizeProp]) {\n            // [ target ]---|\n            // [ follower   |  ]\n            if (\n            // overflow screen\n            (targetRect[oppositeAlignCssPositionProp] + targetRect[oppositeAlignCssSizeProp] <= followerRect[oppositeAlignCssSizeProp]) &&\n                // opposite align has larger space\n                (targetRect[oppositeAlignCssPositionProp] < targetRect[currentAlignCssPositionProp])) {\n                properAlign = oppositeAligns[align];\n            }\n        }\n        // if follower rect is smaller than target rect in align direction\n        // [     target     ]\n        // [ follower ]         <---->\n        if (followerRect[oppositeAlignCssSizeProp] < targetRect[oppositeAlignCssSizeProp]) {\n            if (targetRect[currentAlignCssPositionProp] < 0 &&\n                // opposite align has larger space\n                targetRect[oppositeAlignCssPositionProp] > targetRect[currentAlignCssPositionProp]) {\n                properAlign = oppositeAligns[align];\n            }\n        }\n    }\n    let properPosition = position;\n    if (\n    // space is not enough\n    !(targetRect[position] >= followerRect[propToCompare[position]]) &&\n        // opposite position's space is larger\n        targetRect[oppositionPositions[position]] >= followerRect[propToCompare[position]]) {\n        properPosition = oppositionPositions[position];\n    }\n    return properAlign !== 'center' ? `${properPosition}-${properAlign}` : properPosition;\n}\nexport function getProperTransformOrigin(placement, overlap) {\n    if (overlap)\n        return overlapTransformOrigin[placement];\n    return transformOrigins[placement];\n}\n// ------------\n// |  offset  |\n// |          |\n// | [target] |\n// |          |\n// ------------\nexport function getOffset(placement, offsetRect, targetRect, overlap) {\n    if (overlap) {\n        switch (placement) {\n            case 'bottom-start':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: 'translateY(-100%)'\n                };\n            case 'bottom-end':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%) translateY(-100%)'\n                };\n            case 'top-start':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: ''\n                };\n            case 'top-end':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%)'\n                };\n            case 'right-start':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%)'\n                };\n            case 'right-end':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%) translateY(-100%)'\n                };\n            case 'left-start':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: ''\n                };\n            case 'left-end':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: 'translateY(-100%)'\n                };\n            case 'top':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width / 2)}px`,\n                    transform: 'translateX(-50%)'\n                };\n            case 'right':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height / 2)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%) translateY(-50%)'\n                };\n            case 'left':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height / 2)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: 'translateY(-50%)'\n                };\n            case 'bottom':\n            default:\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width / 2)}px`,\n                    transform: 'translateX(-50%) translateY(-100%)'\n                };\n        }\n    }\n    switch (placement) {\n        case 'bottom-start':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                transform: ''\n            };\n        case 'bottom-end':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                transform: 'translateX(-100%)'\n            };\n        case 'top-start':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                transform: 'translateY(-100%)'\n            };\n        case 'top-end':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                transform: 'translateX(-100%) translateY(-100%)'\n            };\n        case 'right-start':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                transform: ''\n            };\n        case 'right-end':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                transform: 'translateY(-100%)'\n            };\n        case 'left-start':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                transform: 'translateX(-100%)'\n            };\n        case 'left-end':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                transform: 'translateX(-100%) translateY(-100%)'\n            };\n        case 'top':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width / 2)}px`,\n                transform: 'translateY(-100%) translateX(-50%)'\n            };\n        case 'right':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height / 2)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                transform: 'translateY(-50%)'\n            };\n        case 'left':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height / 2)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                transform: 'translateY(-50%) translateX(-100%)'\n            };\n        case 'bottom':\n        default:\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width / 2)}px`,\n                transform: 'translateX(-50%)'\n            };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { h, defineComponent, inject, nextTick, watch, toRef, ref, onMounted, onBeforeUnmount, withDirectives } from 'vue';\nimport { zindexable } from 'vdirs';\nimport { useMemo, useIsMounted, onFontsReady } from 'vooks';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport { c } from '../../shared';\nimport LazyTeleport from '../../lazy-teleport/src/index';\nimport { getProperPlacementOfFollower, getProperTransformOrigin, getOffset } from './get-placement-style';\nimport { getPointRect, getRect } from './utils';\nconst style = c([\n    c('.v-binder-follower-container', {\n        position: 'absolute',\n        left: '0',\n        right: '0',\n        top: '0',\n        height: '0',\n        pointerEvents: 'none',\n        zIndex: 'auto'\n    }),\n    c('.v-binder-follower-content', {\n        position: 'absolute',\n        zIndex: 'auto'\n    }, [\n        c('> *', {\n            pointerEvents: 'all'\n        })\n    ])\n]);\nexport default defineComponent({\n    name: 'Follower',\n    inheritAttrs: false,\n    props: {\n        show: Boolean,\n        enabled: {\n            type: Boolean,\n            default: undefined\n        },\n        placement: {\n            type: String,\n            default: 'bottom'\n        },\n        syncTrigger: {\n            type: Array,\n            default: ['resize', 'scroll']\n        },\n        to: [String, Object],\n        flip: {\n            type: Boolean,\n            default: true\n        },\n        x: Number,\n        y: Number,\n        width: String,\n        minWidth: String,\n        containerClass: String,\n        teleportDisabled: Boolean,\n        zindexable: {\n            type: Boolean,\n            default: true\n        },\n        zIndex: Number,\n        overlap: Boolean\n    },\n    setup(props) {\n        const VBinder = inject('VBinder');\n        const mergedEnabledRef = useMemo(() => {\n            return props.enabled !== undefined ? props.enabled : props.show;\n        });\n        const followerRef = ref(null);\n        const offsetContainerRef = ref(null);\n        const ensureListeners = () => {\n            const { syncTrigger } = props;\n            if (syncTrigger.includes('scroll')) {\n                VBinder.addScrollListener(syncPosition);\n            }\n            if (syncTrigger.includes('resize')) {\n                VBinder.addResizeListener(syncPosition);\n            }\n        };\n        const removeListeners = () => {\n            VBinder.removeScrollListener(syncPosition);\n            VBinder.removeResizeListener(syncPosition);\n        };\n        onMounted(() => {\n            if (mergedEnabledRef.value) {\n                syncPosition();\n                ensureListeners();\n            }\n        });\n        const ssrAdapter = useSsrAdapter();\n        style.mount({\n            id: 'vueuc/binder',\n            head: true,\n            ssr: ssrAdapter\n        });\n        onBeforeUnmount(() => {\n            removeListeners();\n        });\n        onFontsReady(() => {\n            if (mergedEnabledRef.value) {\n                syncPosition();\n            }\n        });\n        const syncPosition = () => {\n            if (!mergedEnabledRef.value) {\n                return;\n            }\n            const follower = followerRef.value;\n            // sometimes watched props change before its dom is ready\n            // for example: show=false, x=undefined, y=undefined\n            //              show=true,  x=0,         y=0\n            // will cause error\n            // I may optimize the watch start point later\n            if (follower === null)\n                return;\n            const target = VBinder.targetRef;\n            const { x, y, overlap } = props;\n            const targetRect = x !== undefined && y !== undefined\n                ? getPointRect(x, y)\n                : getRect(target);\n            const { width, minWidth, placement, flip } = props;\n            follower.setAttribute('v-placement', placement);\n            if (overlap) {\n                follower.setAttribute('v-overlap', '');\n            }\n            else {\n                follower.removeAttribute('v-overlap');\n            }\n            const { style } = follower;\n            if (width === 'target') {\n                style.width = `${targetRect.width}px`;\n            }\n            else if (width !== undefined) {\n                style.width = width;\n            }\n            else {\n                style.width = '';\n            }\n            if (minWidth === 'target') {\n                style.minWidth = `${targetRect.width}px`;\n            }\n            else if (minWidth !== undefined) {\n                style.minWidth = minWidth;\n            }\n            else {\n                style.minWidth = '';\n            }\n            const followerRect = getRect(follower);\n            const offsetContainerRect = getRect(offsetContainerRef.value);\n            const properPlacement = getProperPlacementOfFollower(placement, targetRect, followerRect, flip, overlap);\n            const properTransformOrigin = getProperTransformOrigin(properPlacement, overlap);\n            const { left, top, transform } = getOffset(properPlacement, offsetContainerRect, targetRect, overlap);\n            // we assume that the content size doesn't change after flip,\n            // nor we need to make sync logic more complex\n            follower.setAttribute('v-placement', properPlacement);\n            follower.style.transform = `translateX(${left}) translateY(${top}) ${transform}`;\n            follower.style.transformOrigin = properTransformOrigin;\n        };\n        watch(mergedEnabledRef, (value) => {\n            if (value) {\n                ensureListeners();\n                syncOnNextTick();\n            }\n            else {\n                removeListeners();\n            }\n        });\n        const syncOnNextTick = () => {\n            nextTick()\n                .then(syncPosition)\n                .catch((e) => console.error(e));\n        };\n        ['placement', 'x', 'y', 'flip', 'width', 'overlap', 'minWidth'].forEach((prop) => {\n            watch(toRef(props, prop), syncPosition);\n        });\n        ['teleportDisabled'].forEach((prop) => {\n            watch(toRef(props, prop), syncOnNextTick);\n        });\n        watch(toRef(props, 'syncTrigger'), (value) => {\n            if (!value.includes('resize')) {\n                VBinder.removeResizeListener(syncPosition);\n            }\n            else {\n                VBinder.addResizeListener(syncPosition);\n            }\n            if (!value.includes('scroll')) {\n                VBinder.removeScrollListener(syncPosition);\n            }\n            else {\n                VBinder.addScrollListener(syncPosition);\n            }\n        });\n        const isMountedRef = useIsMounted();\n        const mergedToRef = useMemo(() => {\n            const { to } = props;\n            if (to !== undefined)\n                return to;\n            if (isMountedRef.value) {\n                // TODO: find proper container\n                return undefined;\n            }\n            return undefined;\n        });\n        return {\n            VBinder,\n            mergedEnabled: mergedEnabledRef,\n            offsetContainerRef,\n            followerRef,\n            mergedTo: mergedToRef,\n            syncPosition\n        };\n    },\n    render() {\n        return h(LazyTeleport, {\n            show: this.show,\n            to: this.mergedTo,\n            disabled: this.teleportDisabled\n        }, {\n            default: () => {\n                const vNode = h('div', {\n                    class: ['v-binder-follower-container', this.containerClass],\n                    ref: 'offsetContainerRef'\n                }, [\n                    h('div', {\n                        class: 'v-binder-follower-content',\n                        ref: 'followerRef'\n                    }, this.$slots)\n                ]);\n                if (this.zindexable) {\n                    return withDirectives(vNode, [\n                        [\n                            zindexable,\n                            {\n                                enabled: this.mergedEnabled,\n                                zIndex: this.zIndex\n                            }\n                        ]\n                    ]);\n                }\n                return vNode;\n            }\n        });\n    }\n});\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","import ResizeObserver from 'resize-observer-polyfill';\nclass ResizeObserverDelegate {\n    constructor() {\n        this.handleResize = this.handleResize.bind(this);\n        this.observer = new ResizeObserver(this.handleResize);\n        this.elHandlersMap = new Map();\n    }\n    handleResize(entries) {\n        for (const entry of entries) {\n            const handler = this.elHandlersMap.get(entry.target);\n            if (handler !== undefined) {\n                handler(entry);\n            }\n        }\n    }\n    registerHandler(el, handler) {\n        this.elHandlersMap.set(el, handler);\n        this.observer.observe(el);\n    }\n    unregisterHandler(el) {\n        if (!this.elHandlersMap.has(el)) {\n            return;\n        }\n        this.elHandlersMap.delete(el);\n        this.observer.unobserve(el);\n    }\n}\nexport default new ResizeObserverDelegate();\n","import { defineComponent, renderSlot } from 'vue';\nimport delegate from './delegate';\nimport { warn } from '../../shared';\nexport default defineComponent({\n    name: 'ResizeObserver',\n    props: {\n        onResize: Function\n    },\n    setup(props) {\n        return {\n            registered: false,\n            handleResize(entry) {\n                const { onResize } = props;\n                if (onResize !== undefined)\n                    onResize(entry);\n            }\n        };\n    },\n    mounted() {\n        const el = this.$el;\n        if (el === undefined) {\n            warn('resize-observer', '$el does not exist.');\n        }\n        else if (el.nextElementSibling !== el.nextSibling) {\n            warn('resize-observer', '$el can not be observed (it may be a text node).');\n        }\n        else if (el.nextElementSibling !== null) {\n            delegate.registerHandler(el.nextElementSibling, this.handleResize);\n            this.registered = true;\n        }\n    },\n    beforeUnmount() {\n        if (this.registered) {\n            delegate.unregisterHandler(this.$el.nextElementSibling);\n        }\n    },\n    render() {\n        return renderSlot(this.$slots, 'default');\n    }\n});\n","import { rgba, composite, scaleColor } from 'seemly';\nimport commonVariables from './_common';\nconst base = {\n    neutralBase: '#FFF',\n    neutralInvertBase: '#000',\n    neutralTextBase: '#000',\n    neutralPopover: '#fff',\n    neutralCard: '#fff',\n    neutralModal: '#fff',\n    neutralBody: '#fff',\n    alpha1: '0.82',\n    alpha2: '0.72',\n    alpha3: '0.38',\n    alpha4: '0.24',\n    alpha5: '0.18',\n    alphaClose: '0.52',\n    alphaDisabled: '0.5',\n    alphaDisabledInput: '0.02',\n    alphaPending: '0.05',\n    alphaTablePending: '0.02',\n    alphaPressed: '0.07',\n    alphaAvatar: '0.2',\n    alphaRail: '0.14',\n    alphaProgressRail: '.08',\n    alphaBorder: '0.12',\n    alphaDivider: '0.06',\n    alphaInput: '0',\n    alphaAction: '0.02',\n    alphaTab: '0.04',\n    alphaScrollbar: '0.25',\n    alphaScrollbarHover: '0.4',\n    alphaCode: '0.05',\n    alphaTag: '0.02',\n    // primary\n    primaryHover: '#36ad6a',\n    primaryDefault: '#18a058',\n    primaryActive: '#0c7a43',\n    primarySuppl: '#36ad6a',\n    // info\n    infoHover: '#4098fc',\n    infoDefault: '#2080f0',\n    infoActive: '#1060c9',\n    infoSuppl: '#4098fc',\n    // error\n    errorHover: '#de576d',\n    errorDefault: '#d03050',\n    errorActive: '#ab1f3f',\n    errorSuppl: '#de576d',\n    // warning\n    warningHover: '#fcb040',\n    warningDefault: '#f0a020',\n    warningActive: '#c97c10',\n    warningSuppl: '#fcb040',\n    // success\n    successHover: '#36ad6a',\n    successDefault: '#18a058',\n    successActive: '#0c7a43',\n    successSuppl: '#36ad6a'\n};\nconst baseBackgroundRgb = rgba(base.neutralBase);\nconst baseInvertBackgroundRgb = rgba(base.neutralInvertBase);\nconst overlayPrefix = 'rgba(' + baseInvertBackgroundRgb.slice(0, 3).join(', ') + ', ';\nfunction overlay(alpha) {\n    return overlayPrefix + String(alpha) + ')';\n}\nfunction neutral(alpha) {\n    const overlayRgba = Array.from(baseInvertBackgroundRgb);\n    overlayRgba[3] = Number(alpha);\n    return composite(baseBackgroundRgb, overlayRgba);\n}\nconst derived = Object.assign(Object.assign({ name: 'common' }, commonVariables), { baseColor: base.neutralBase, \n    // primary color\n    primaryColor: base.primaryDefault, primaryColorHover: base.primaryHover, primaryColorPressed: base.primaryActive, primaryColorSuppl: base.primarySuppl, \n    // info color\n    infoColor: base.infoDefault, infoColorHover: base.infoHover, infoColorPressed: base.infoActive, infoColorSuppl: base.infoSuppl, \n    // success color\n    successColor: base.successDefault, successColorHover: base.successHover, successColorPressed: base.successActive, successColorSuppl: base.successSuppl, \n    // warning color\n    warningColor: base.warningDefault, warningColorHover: base.warningHover, warningColorPressed: base.warningActive, warningColorSuppl: base.warningSuppl, \n    // error color\n    errorColor: base.errorDefault, errorColorHover: base.errorHover, errorColorPressed: base.errorActive, errorColorSuppl: base.errorSuppl, \n    // text color\n    textColorBase: base.neutralTextBase, textColor1: 'rgb(31, 34, 37)', textColor2: 'rgb(51, 54, 57)', textColor3: 'rgb(158, 164, 170)', \n    // textColor4: neutral(base.alpha4), // disabled, placeholder, icon\n    // textColor5: neutral(base.alpha5),\n    textColorDisabled: neutral(base.alpha4), placeholderColor: neutral(base.alpha4), placeholderColorDisabled: neutral(base.alpha5), iconColor: neutral(base.alpha4), iconColorHover: scaleColor(neutral(base.alpha4), { lightness: 0.75 }), iconColorPressed: scaleColor(neutral(base.alpha4), { lightness: 0.9 }), iconColorDisabled: neutral(base.alpha5), opacity1: base.alpha1, opacity2: base.alpha2, opacity3: base.alpha3, opacity4: base.alpha4, opacity5: base.alpha5, dividerColor: 'rgb(239, 239, 245)', borderColor: 'rgb(224, 224, 230)', \n    // close\n    closeColor: neutral(Number(base.alphaClose)), closeColorHover: neutral(Number(base.alphaClose) * 1.25), closeColorPressed: neutral(Number(base.alphaClose) * 0.8), closeColorDisabled: neutral(base.alpha4), \n    // clear\n    clearColor: neutral(base.alpha4), clearColorHover: scaleColor(neutral(base.alpha4), { lightness: 0.75 }), clearColorPressed: scaleColor(neutral(base.alpha4), { lightness: 0.9 }), scrollbarColor: overlay(base.alphaScrollbar), scrollbarColorHover: overlay(base.alphaScrollbarHover), scrollbarWidth: '5px', scrollbarHeight: '5px', scrollbarBorderRadius: '5px', progressRailColor: neutral(base.alphaProgressRail), railColor: 'rgb(219, 219, 223)', popoverColor: base.neutralPopover, tableColor: base.neutralCard, cardColor: base.neutralCard, modalColor: base.neutralModal, bodyColor: base.neutralBody, tagColor: 'rgb(250, 250, 252)', avatarColor: neutral(base.alphaAvatar), invertedColor: 'rgb(0, 20, 40)', inputColor: neutral(base.alphaInput), codeColor: 'rgb(244, 244, 248)', tabColor: 'rgb(247, 247, 250)', actionColor: 'rgb(250, 250, 252)', tableHeaderColor: 'rgb(250, 250, 252)', hoverColor: 'rgb(243, 243, 245)', \n    // use color with alpha since it can be nested with header filter & sorter effect\n    tableColorHover: 'rgba(0, 0, 100, 0.02)', pressedColor: 'rgb(237, 237, 239)', opacityDisabled: base.alphaDisabled, inputColorDisabled: 'rgb(250, 250, 252)', boxShadow1: '0 1px 2px -2px rgba(0, 0, 0, .08), 0 3px 6px 0 rgba(0, 0, 0, .06), 0 5px 12px 4px rgba(0, 0, 0, .04)', boxShadow2: '0 3px 6px -4px rgba(0, 0, 0, .12), 0 6px 16px 0 rgba(0, 0, 0, .08), 0 9px 28px 8px rgba(0, 0, 0, .05)', boxShadow3: '0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)' });\nexport default derived;\n","import { c } from '../../_utils/cssr';\nimport commonVariables from '../common/_common';\nconst {\n  cubicBezierEaseInOut\n} = commonVariables;\nexport default function ({\n  name = 'fade-in',\n  enterDuration = '0.2s',\n  leaveDuration = '0.2s',\n  enterCubicBezier = cubicBezierEaseInOut,\n  leaveCubicBezier = cubicBezierEaseInOut\n} = {}) {\n  return [c(`&.${name}-transition-enter-active`, {\n    transition: `all ${enterDuration} ${enterCubicBezier}!important`\n  }), c(`&.${name}-transition-leave-active`, {\n    transition: `all ${leaveDuration} ${leaveCubicBezier}!important`\n  }), c(`&.${name}-transition-enter-from, &.${name}-transition-leave-to`, {\n    opacity: 0\n  }), c(`&.${name}-transition-leave-from, &.${name}-transition-enter-to`, {\n    opacity: 1\n  })];\n}","import { c } from '../../_utils/cssr';\nimport commonVariables from '../common/_common';\nconst {\n  cubicBezierEaseIn,\n  cubicBezierEaseOut,\n  transformDebounceScale\n} = commonVariables;\nexport default function ({\n  transformOrigin = 'inherit',\n  duration = '.2s',\n  enterScale = '.9',\n  originalTransform = '',\n  originalTransition = ''\n} = {}) {\n  return [c('&.fade-in-scale-up-transition-leave-active', {\n    transformOrigin,\n    transition: `opacity ${duration} ${cubicBezierEaseIn}, transform ${duration} ${cubicBezierEaseIn} ${originalTransition && ',' + originalTransition}`\n  }), c('&.fade-in-scale-up-transition-enter-active', {\n    transformOrigin,\n    transition: `opacity ${duration} ${cubicBezierEaseOut}, transform ${duration} ${cubicBezierEaseOut} ${originalTransition && ',' + originalTransition}`\n  }), c('&.fade-in-scale-up-transition-enter-from, &.fade-in-scale-up-transition-leave-to', {\n    opacity: 0,\n    transform: `${originalTransform} scale(${enterScale})`\n  }), c('&.fade-in-scale-up-transition-leave-from, &.fade-in-scale-up-transition-enter-to', {\n    opacity: 1,\n    transform: `${originalTransform} scale(${transformDebounceScale})`\n  })];\n}","import { cB } from '../../../../_utils/cssr/index';\nexport default cB('base-wave', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n border-radius: inherit;\n`);","import { h, defineComponent, ref, onBeforeUnmount, nextTick, toRef } from 'vue';\nimport { useStyle } from '../../../_mixins';\nimport style from './styles/index.cssr';\nexport default defineComponent({\n    name: 'BaseWave',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        }\n    },\n    setup(props) {\n        useStyle('BaseWave', style, toRef(props, 'clsPrefix'));\n        const selfRef = ref(null);\n        const activeRef = ref(false);\n        let animationTimerId = null;\n        onBeforeUnmount(() => {\n            if (animationTimerId !== null) {\n                window.clearTimeout(animationTimerId);\n            }\n        });\n        return {\n            active: activeRef,\n            selfRef,\n            play() {\n                if (animationTimerId !== null) {\n                    window.clearTimeout(animationTimerId);\n                    activeRef.value = false;\n                    animationTimerId = null;\n                }\n                void nextTick(() => {\n                    var _a;\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    void ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.offsetHeight);\n                    activeRef.value = true;\n                    animationTimerId = window.setTimeout(() => {\n                        activeRef.value = false;\n                        animationTimerId = null;\n                    }, 1000);\n                });\n            }\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { ref: \"selfRef\", \"aria-hidden\": true, class: [\n                `${clsPrefix}-base-wave`,\n                this.active && `${clsPrefix}-base-wave--active`\n            ] }));\n    }\n});\n","export default {\n    space: '6px',\n    spaceArrow: '10px',\n    arrowOffset: '10px',\n    arrowOffsetVertical: '10px',\n    arrowHeight: '6px',\n    padding: '8px 14px'\n};\n","import { commonLight } from '../../_styles/common';\nimport commonVariables from './_common';\nexport const self = (vars) => {\n    const { boxShadow2, popoverColor, textColor2, borderRadius, fontSize, dividerColor } = vars;\n    return Object.assign(Object.assign({}, commonVariables), { fontSize,\n        borderRadius, color: popoverColor, dividerColor, textColor: textColor2, boxShadow: boxShadow2 });\n};\nconst popoverLight = {\n    name: 'Popover',\n    common: commonLight,\n    self\n};\nexport default popoverLight;\n","import { c, cB, cM, cNotM, cE, cCB } from '../../../_utils/cssr';\nconst oppositePlacement = {\n  top: 'bottom',\n  bottom: 'top',\n  left: 'right',\n  right: 'left'\n}; // vars:\n// --bezier\n// --bezier-ease-in\n// --bezier-ease-out\n// --font-size\n// --text-color\n// --color\n// --border-radius\n// --arrow-height\n// --arrow-offset\n// --arrow-offset-vertical\n// --padding\n// --space\n// --space-arrow\n// --divider-color\n\nexport default c([cB('popover', `\n transition:\n box-shadow .3s var(--bezier),\n background-color .3s var(--bezier),\n color .3s var(--bezier);\n transform-origin: inherit;\n position: relative;\n font-size: var(--font-size);\n color: var(--text-color);\n box-shadow: var(--box-shadow);\n `, [// body transition\nc('&.popover-transition-enter-from, &.popover-transition-leave-to', `\n opacity: 0;\n transform: scale(.85);\n `), c('&.popover-transition-enter-to, &.popover-transition-leave-from', `\n transform: scale(1);\n opacity: 1;\n `), c('&.popover-transition-enter-active', `\n transition:\n opacity .15s var(--bezier-ease-out),\n transform .15s var(--bezier-ease-out);\n `), c('&.popover-transition-leave-active', `\n transition:\n opacity .15s var(--bezier-ease-in),\n transform .15s var(--bezier-ease-in);\n `), cNotM('raw', `\n background-color: var(--color);\n border-radius: var(--border-radius);\n var(--padding);\n `, [cNotM('show-header', 'padding: var(--padding);')]), cE('header', `\n padding: var(--padding);\n border-bottom: 1px solid var(--divider-color);\n transition: border-color .3s var(--bezier);\n `), cE('content', `\n padding: var(--padding);\n `), cB('popover-arrow-wrapper', `\n position: absolute;\n overflow: hidden;\n pointer-events: none;\n `, [cB('popover-arrow', `\n transition: background-color .3s var(--bezier);\n position: absolute;\n display: block;\n width: calc(var(--arrow-height) * 1.414);\n height: calc(var(--arrow-height) * 1.414);\n box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);\n transform: rotate(45deg);\n background-color: var(--color);\n pointer-events: all;\n `)])]), placementStyle('top-start', `\n top: calc(-0.707 * var(--arrow-height));\n left: var(--arrow-offset);\n `), placementStyle('top', `\n top: calc(-0.707 * var(--arrow-height));\n transform: translateX(calc(-0.707 * var(--arrow-height))) rotate(45deg);\n left: 50%;\n `), placementStyle('top-end', `\n top: calc(-0.707 * var(--arrow-height));\n right: var(--arrow-offset);\n `), placementStyle('bottom-start', `\n bottom: calc(-0.707 * var(--arrow-height));\n left: var(--arrow-offset);\n `), placementStyle('bottom', `\n bottom: calc(-0.707 * var(--arrow-height));\n transform: translateX(calc(-0.707 * var(--arrow-height))) rotate(45deg);\n left: 50%;\n `), placementStyle('bottom-end', `\n bottom: calc(-0.707 * var(--arrow-height));\n right: var(--arrow-offset);\n `), placementStyle('left-start', `\n left: calc(-0.707 * var(--arrow-height));\n top: var(--arrow-offset-vertical);\n `), placementStyle('left', `\n left: calc(-0.707 * var(--arrow-height));\n transform: translateY(calc(-0.707 * var(--arrow-height))) rotate(45deg);\n top: 50%;\n `), placementStyle('left-end', `\n left: calc(-0.707 * var(--arrow-height));\n bottom: var(--arrow-offset-vertical);\n `), placementStyle('right-start', `\n right: calc(-0.707 * var(--arrow-height));\n top: var(--arrow-offset-vertical);\n `), placementStyle('right', `\n right: calc(-0.707 * var(--arrow-height));\n transform: translateY(calc(-0.707 * var(--arrow-height))) rotate(45deg);\n top: 50%;\n `), placementStyle('right-end', `\n right: calc(-0.707 * var(--arrow-height));\n bottom: var(--arrow-offset-vertical);\n `)]);\n\nfunction placementStyle(placement, arrowStyleLiteral) {\n  const position = placement.split('-')[0];\n  const sizeStyle = ['top', 'bottom'].includes(position) ? 'height: var(--space-arrow);' : 'width: var(--space-arrow);';\n  return c(`[v-placement=\"${placement}\"] >`, [cB('popover', `\n margin-${oppositePlacement[position]}: var(--space);\n `, [cM('show-arrow', `\n margin-${oppositePlacement[position]}: var(--space-arrow);\n `), cM('overlap', `\n margin: 0;\n `), cCB('popover-arrow-wrapper', `\n right: 0;\n left: 0;\n top: 0;\n bottom: 0;\n ${position}: 100%;\n ${oppositePlacement[position]}: auto;\n ${sizeStyle}\n `, [cB('popover-arrow', arrowStyleLiteral)])])]);\n}","import { h, vShow, withDirectives, Transition, ref, defineComponent, computed, mergeProps, inject, onBeforeUnmount, watch, toRef, provide, renderSlot, Fragment } from 'vue';\nimport { VFollower } from 'vueuc';\nimport { clickoutside, mousemoveoutside } from 'vdirs';\nimport { useTheme, useConfig } from '../../_mixins';\nimport { formatLength, useAdjustedTo } from '../../_utils';\nimport { popoverLight } from '../styles';\nimport style from './styles/index.cssr';\nimport { popoverBodyInjectionKey } from './interface';\nimport { drawerBodyInjectionKey } from '../../drawer/src/interface';\nimport { modalBodyInjectionKey } from '../../modal/src/interface';\nexport const popoverBodyProps = Object.assign(Object.assign({}, useTheme.props), { to: useAdjustedTo.propTo, show: Boolean, trigger: String, showArrow: Boolean, delay: Number, duration: Number, raw: Boolean, arrowStyle: [String, Object], displayDirective: String, x: Number, y: Number, filp: Boolean, overlap: Boolean, placement: String, width: [Number, String], \n    // private\n    animated: Boolean, onClickoutside: Function, \n    /** @deprecated */\n    minWidth: Number, maxWidth: Number });\nexport const renderArrow = ({ arrowStyle, clsPrefix }) => {\n    return (h(\"div\", { key: \"__popover-arrow__\", class: `${clsPrefix}-popover-arrow-wrapper` },\n        h(\"div\", { class: `${clsPrefix}-popover-arrow`, style: arrowStyle })));\n};\nexport default defineComponent({\n    name: 'PopoverBody',\n    inheritAttrs: false,\n    props: popoverBodyProps,\n    setup(props, { slots, attrs }) {\n        const { namespaceRef, mergedClsPrefixRef } = useConfig(props);\n        const themeRef = useTheme('Popover', 'Popover', style, popoverLight, props, mergedClsPrefixRef);\n        const followerRef = ref(null);\n        const NPopover = inject('NPopover');\n        const bodyRef = ref(null);\n        const followerEnabledRef = ref(props.show);\n        const directivesRef = computed(() => {\n            const { trigger, onClickoutside } = props;\n            const directives = [];\n            const { positionManuallyRef: { value: positionManually } } = NPopover;\n            if (!positionManually) {\n                if (trigger === 'click' && !onClickoutside) {\n                    directives.push([clickoutside, handleClickOutside]);\n                }\n                if (trigger === 'hover') {\n                    directives.push([mousemoveoutside, handleMouseMoveOutside]);\n                }\n            }\n            if (onClickoutside) {\n                directives.push([clickoutside, handleClickOutside]);\n            }\n            if (props.displayDirective === 'show') {\n                directives.push([vShow, props.show]);\n            }\n            return directives;\n        });\n        const styleRef = computed(() => {\n            return [\n                {\n                    width: props.width === 'trigger' ? '' : formatLength(props.width),\n                    maxWidth: formatLength(props.maxWidth),\n                    minWidth: formatLength(props.minWidth)\n                },\n                cssVarsRef.value\n            ];\n        });\n        const cssVarsRef = computed(() => {\n            const { common: { cubicBezierEaseInOut, cubicBezierEaseIn, cubicBezierEaseOut }, self: { space, spaceArrow, padding, fontSize, textColor, dividerColor, color, boxShadow, borderRadius, arrowHeight, arrowOffset, arrowOffsetVertical } } = themeRef.value;\n            return {\n                '--box-shadow': boxShadow,\n                '--bezier': cubicBezierEaseInOut,\n                '--bezier-ease-in': cubicBezierEaseIn,\n                '--bezier-ease-out': cubicBezierEaseOut,\n                '--font-size': fontSize,\n                '--text-color': textColor,\n                '--color': color,\n                '--divider-color': dividerColor,\n                '--border-radius': borderRadius,\n                '--arrow-height': arrowHeight,\n                '--arrow-offset': arrowOffset,\n                '--arrow-offset-vertical': arrowOffsetVertical,\n                '--padding': padding,\n                '--space': space,\n                '--space-arrow': spaceArrow\n            };\n        });\n        NPopover.setBodyInstance({\n            syncPosition\n        });\n        onBeforeUnmount(() => {\n            NPopover.setBodyInstance(null);\n        });\n        watch(toRef(props, 'show'), (value) => {\n            // If no animation, no transition component will be applied to the\n            // component. So we need to trigger follower manaully.\n            if (props.animated)\n                return;\n            if (value) {\n                followerEnabledRef.value = true;\n            }\n            else {\n                followerEnabledRef.value = false;\n            }\n        });\n        function syncPosition() {\n            var _a;\n            // eslint-disable-next-line no-unused-expressions\n            (_a = followerRef.value) === null || _a === void 0 ? void 0 : _a.syncPosition();\n        }\n        function handleMouseEnter(e) {\n            if (props.trigger === 'hover') {\n                NPopover.handleMouseEnter(e);\n            }\n        }\n        function handleMouseLeave(e) {\n            if (props.trigger === 'hover') {\n                NPopover.handleMouseLeave(e);\n            }\n        }\n        function handleMouseMoveOutside(e) {\n            if (props.trigger === 'hover' &&\n                !getTriggerElement().contains(e.target)) {\n                NPopover.handleMouseMoveOutside(e);\n            }\n        }\n        function handleClickOutside(e) {\n            if ((props.trigger === 'click' &&\n                !getTriggerElement().contains(e.target)) ||\n                props.onClickoutside) {\n                NPopover.handleClickOutside(e);\n            }\n        }\n        function getTriggerElement() {\n            return NPopover.getTriggerElement();\n        }\n        provide(popoverBodyInjectionKey, bodyRef);\n        provide(drawerBodyInjectionKey, null);\n        provide(modalBodyInjectionKey, null);\n        function renderContentNode() {\n            let contentNode;\n            const { internalRenderBodyRef: { value: renderBody } } = NPopover;\n            const { value: mergedClsPrefix } = mergedClsPrefixRef;\n            if (!renderBody) {\n                const { value: extraClass } = NPopover.extraClassRef;\n                contentNode = h('div', mergeProps({\n                    class: [\n                        `${mergedClsPrefix}-popover`,\n                        extraClass.map((v) => `${mergedClsPrefix}-${v}`),\n                        {\n                            [`${mergedClsPrefix}-popover--overlap`]: props.overlap,\n                            [`${mergedClsPrefix}-popover--show-arrow`]: props.showArrow,\n                            [`${mergedClsPrefix}-popover--show-header`]: !!slots.header,\n                            [`${mergedClsPrefix}-popover--raw`]: props.raw\n                        }\n                    ],\n                    ref: bodyRef,\n                    style: styleRef.value,\n                    onMouseenter: handleMouseEnter,\n                    onMouseleave: handleMouseLeave\n                }, attrs), [\n                    slots.header ? (h(Fragment, null,\n                        h(\"div\", { class: `${mergedClsPrefix}-popover__header` }, slots.header()),\n                        h(\"div\", { class: `${mergedClsPrefix}-popover__content` }, slots))) : (renderSlot(slots, 'default')),\n                    props.showArrow\n                        ? renderArrow({\n                            arrowStyle: props.arrowStyle,\n                            clsPrefix: mergedClsPrefix\n                        })\n                        : null\n                ]);\n            }\n            else {\n                contentNode = renderBody(\n                // The popover class and overlap class must exists, they will be used\n                // to place the body & transition animation.\n                // Shadow class exists for reuse box-shadow.\n                [\n                    `${mergedClsPrefix}-popover`,\n                    props.overlap && `${mergedClsPrefix}-popover--overlap`\n                ], bodyRef, styleRef.value, handleMouseEnter, handleMouseLeave);\n            }\n            return props.displayDirective === 'show' || props.show\n                ? withDirectives(contentNode, directivesRef.value)\n                : null;\n        }\n        return {\n            namespace: namespaceRef,\n            isMounted: NPopover.isMountedRef,\n            zIndex: NPopover.zIndexRef,\n            followerRef,\n            adjustedTo: useAdjustedTo(props),\n            followerEnabled: followerEnabledRef,\n            renderContentNode\n        };\n    },\n    render() {\n        return h(VFollower, {\n            zIndex: this.zIndex,\n            show: this.show,\n            enabled: this.followerEnabled,\n            to: this.adjustedTo,\n            x: this.x,\n            y: this.y,\n            placement: this.placement,\n            containerClass: this.namespace,\n            ref: 'followerRef',\n            overlap: this.overlap,\n            width: this.width === 'trigger' ? 'target' : undefined,\n            teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey\n        }, {\n            default: () => {\n                return this.animated\n                    ? h(Transition, {\n                        name: 'popover-transition',\n                        appear: this.isMounted,\n                        // Don't use watch to enable follower, since the transition may\n                        // make position sync timing very subtle and buggy.\n                        onEnter: () => {\n                            this.followerEnabled = true;\n                        },\n                        onAfterLeave: () => {\n                            this.followerEnabled = false;\n                        }\n                    }, {\n                        default: this.renderContentNode\n                    })\n                    : this.renderContentNode();\n            }\n        });\n    }\n});\n","import { h, ref, computed, createTextVNode, defineComponent, provide, toRef, cloneVNode, watchEffect } from 'vue';\nimport { VBinder, VTarget } from 'vueuc';\nimport { useMergedState, useCompitable, useIsMounted, useMemo } from 'vooks';\nimport { call, keep, getFirstSlotVNode, warnOnce, useAdjustedTo } from '../../_utils';\nimport { useTheme } from '../../_mixins';\nimport NPopoverBody, { popoverBodyProps } from './PopoverBody';\nconst bodyPropKeys = Object.keys(popoverBodyProps);\nconst triggerEventMap = {\n    focus: ['onFocus', 'onBlur'],\n    click: ['onClick'],\n    hover: ['onMouseenter', 'onMouseleave'],\n    manual: [],\n    nested: ['onFocus', 'onBlur', 'onMouseenter', 'onMouseleave', 'onClick']\n};\nfunction appendEvents(vNode, trigger, events) {\n    triggerEventMap[trigger].forEach((eventName) => {\n        if (!vNode.props)\n            vNode.props = {};\n        else {\n            vNode.props = Object.assign({}, vNode.props);\n        }\n        const originalHandler = vNode.props[eventName];\n        const handler = events[eventName];\n        if (!originalHandler)\n            vNode.props[eventName] = handler;\n        else {\n            vNode.props[eventName] = (...args) => {\n                originalHandler(...args);\n                handler(...args);\n            };\n        }\n    });\n}\nconst textVNodeType = createTextVNode('').type;\nexport const popoverBaseProps = {\n    show: {\n        type: Boolean,\n        default: undefined\n    },\n    defaultShow: Boolean,\n    showArrow: {\n        type: Boolean,\n        default: true\n    },\n    trigger: {\n        type: String,\n        default: 'hover'\n    },\n    delay: {\n        type: Number,\n        default: 100\n    },\n    duration: {\n        type: Number,\n        default: 100\n    },\n    raw: Boolean,\n    placement: {\n        type: String,\n        default: 'top'\n    },\n    x: Number,\n    y: Number,\n    disabled: Boolean,\n    getDisabled: Function,\n    displayDirective: {\n        type: String,\n        default: 'if'\n    },\n    arrowStyle: [String, Object],\n    filp: {\n        type: Boolean,\n        default: true\n    },\n    animated: {\n        type: Boolean,\n        default: true\n    },\n    width: {\n        type: [Number, String],\n        default: undefined\n    },\n    overlap: Boolean,\n    internalExtraClass: {\n        type: Array,\n        default: () => []\n    },\n    onClickoutside: Function,\n    // events\n    'onUpdate:show': [Function, Array],\n    onUpdateShow: [Function, Array],\n    zIndex: Number,\n    to: useAdjustedTo.propTo,\n    internalSyncTargetWithParent: Boolean,\n    internalInheritedEventHandlers: {\n        type: Array,\n        default: () => []\n    },\n    /** @deprecated */\n    onShow: [Function, Array],\n    /** @deprecated */\n    onHide: [Function, Array],\n    /** @deprecated */\n    arrow: {\n        type: Boolean,\n        default: undefined\n    },\n    /** @deprecated */\n    minWidth: Number,\n    /** @deprecated */\n    maxWidth: Number\n};\nconst popoverProps = Object.assign(Object.assign(Object.assign({}, useTheme.props), popoverBaseProps), { internalRenderBody: Function });\nexport default defineComponent({\n    name: 'Popover',\n    inheritAttrs: false,\n    props: popoverProps,\n    __popover__: true,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.maxWidth !== undefined) {\n                    warnOnce('popover', '`max-width` is deprecated, please use `style` instead.');\n                }\n                if (props.minWidth !== undefined) {\n                    warnOnce('popover', '`max-width` is deprecated, please use `style` instead.');\n                }\n                if (props.arrow !== undefined) {\n                    warnOnce('popover', '`arrow` is deprecated, please use `showArrow` instead.');\n                }\n                if (props.onHide !== undefined) {\n                    warnOnce('popover', '`on-hide` is deprecated, please use `on-update:show` instead.');\n                }\n                if (props.onShow !== undefined) {\n                    warnOnce('popover', '`on-show` is deprecated, please use `on-update:show` instead.');\n                }\n            });\n        }\n        const isMountedRef = useIsMounted();\n        const binderInstRef = ref(null);\n        // setup show\n        const controlledShowRef = computed(() => props.show);\n        const uncontrolledShowRef = ref(props.defaultShow);\n        const mergedShowWithoutDisabledRef = useMergedState(controlledShowRef, uncontrolledShowRef);\n        const mergedShowConsideringDisabledPropRef = useMemo(() => {\n            if (props.disabled)\n                return false;\n            return mergedShowWithoutDisabledRef.value;\n        });\n        const getMergedDisabled = () => {\n            if (props.disabled)\n                return true;\n            const { getDisabled } = props;\n            if (getDisabled === null || getDisabled === void 0 ? void 0 : getDisabled())\n                return true;\n            return false;\n        };\n        const getMergedShow = () => {\n            if (getMergedDisabled())\n                return false;\n            return mergedShowWithoutDisabledRef.value;\n        };\n        // setup show-arrow\n        const compatibleShowArrowRef = useCompitable(props, ['arrow', 'showArrow']);\n        const mergedShowArrowRef = computed(() => {\n            if (props.overlap)\n                return false;\n            return compatibleShowArrowRef.value;\n        });\n        // bodyInstance\n        let bodyInstance = null;\n        const showTimerIdRef = ref(null);\n        const hideTimerIdRef = ref(null);\n        const positionManuallyRef = useMemo(() => {\n            return props.x !== undefined && props.y !== undefined;\n        });\n        // methods\n        function doUpdateShow(value) {\n            const { 'onUpdate:show': _onUpdateShow, onUpdateShow, onShow, onHide } = props;\n            uncontrolledShowRef.value = value;\n            if (_onUpdateShow) {\n                call(_onUpdateShow, value);\n            }\n            if (onUpdateShow) {\n                call(onUpdateShow, value);\n            }\n            if (value && onShow) {\n                call(onShow, true);\n            }\n            if (value && onHide) {\n                call(onHide, false);\n            }\n        }\n        function syncPosition() {\n            if (bodyInstance) {\n                bodyInstance.syncPosition();\n            }\n        }\n        function clearShowTimer() {\n            const { value: showTimerId } = showTimerIdRef;\n            if (showTimerId) {\n                window.clearTimeout(showTimerId);\n                showTimerIdRef.value = null;\n            }\n        }\n        function clearHideTimer() {\n            const { value: hideTimerId } = hideTimerIdRef;\n            if (hideTimerId) {\n                window.clearTimeout(hideTimerId);\n                hideTimerIdRef.value = null;\n            }\n        }\n        function handleFocus() {\n            const mergedDisabled = getMergedDisabled();\n            if (props.trigger === 'focus' && !mergedDisabled) {\n                if (getMergedShow())\n                    return;\n                doUpdateShow(true);\n            }\n        }\n        function handleBlur() {\n            const mergedDisabled = getMergedDisabled();\n            if (props.trigger === 'focus' && !mergedDisabled) {\n                if (!getMergedShow())\n                    return;\n                doUpdateShow(false);\n            }\n        }\n        function handleMouseEnter() {\n            const mergedDisabled = getMergedDisabled();\n            if (props.trigger === 'hover' && !mergedDisabled) {\n                clearHideTimer();\n                if (showTimerIdRef.value !== null)\n                    return;\n                if (getMergedShow())\n                    return;\n                const delayCallback = () => {\n                    doUpdateShow(true);\n                    showTimerIdRef.value = null;\n                };\n                const { delay } = props;\n                if (delay === 0) {\n                    delayCallback();\n                }\n                else {\n                    showTimerIdRef.value = window.setTimeout(delayCallback, delay);\n                }\n            }\n        }\n        function handleMouseLeave() {\n            const mergedDisabled = getMergedDisabled();\n            if (props.trigger === 'hover' && !mergedDisabled) {\n                clearShowTimer();\n                if (hideTimerIdRef.value !== null)\n                    return;\n                if (!getMergedShow())\n                    return;\n                const delayedCallback = () => {\n                    doUpdateShow(false);\n                    hideTimerIdRef.value = null;\n                };\n                const { duration } = props;\n                if (duration === 0) {\n                    delayedCallback();\n                }\n                else {\n                    hideTimerIdRef.value = window.setTimeout(delayedCallback, duration);\n                }\n            }\n        }\n        // will be called in popover-content\n        function handleMouseMoveOutside() {\n            handleMouseLeave();\n        }\n        // will be called in popover-content\n        function handleClickOutside(e) {\n            var _a;\n            if (!getMergedShow())\n                return;\n            if (props.trigger === 'click') {\n                clearShowTimer();\n                clearHideTimer();\n                doUpdateShow(false);\n            }\n            (_a = props.onClickoutside) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function handleClick() {\n            if (props.trigger === 'click' && !getMergedDisabled()) {\n                clearShowTimer();\n                clearHideTimer();\n                const nextShow = !getMergedShow();\n                doUpdateShow(nextShow);\n            }\n        }\n        function setShow(value) {\n            uncontrolledShowRef.value = value;\n        }\n        function getTriggerElement() {\n            var _a;\n            return (_a = binderInstRef.value) === null || _a === void 0 ? void 0 : _a.targetRef;\n        }\n        function setBodyInstance(value) {\n            bodyInstance = value;\n        }\n        provide('NPopover', {\n            getTriggerElement,\n            handleMouseEnter,\n            handleMouseLeave,\n            handleClickOutside,\n            handleMouseMoveOutside,\n            setBodyInstance,\n            positionManuallyRef: positionManuallyRef,\n            isMountedRef: isMountedRef,\n            zIndexRef: toRef(props, 'zIndex'),\n            extraClassRef: toRef(props, 'internalExtraClass'),\n            internalRenderBodyRef: toRef(props, 'internalRenderBody')\n        });\n        return {\n            binderInstRef,\n            positionManually: positionManuallyRef,\n            mergedShowConsideringDisabledProp: mergedShowConsideringDisabledPropRef,\n            // if to show popover body\n            uncontrolledShow: uncontrolledShowRef,\n            mergedShowArrow: mergedShowArrowRef,\n            getMergedShow,\n            setShow,\n            handleClick,\n            handleMouseEnter,\n            handleMouseLeave,\n            handleFocus,\n            handleBlur,\n            syncPosition\n        };\n    },\n    render() {\n        var _a;\n        const { positionManually, $slots: slots } = this;\n        let triggerVNode;\n        let popoverInside = false;\n        if (!positionManually) {\n            if (slots.activator) {\n                triggerVNode = getFirstSlotVNode(slots, 'activator');\n            }\n            else {\n                triggerVNode = getFirstSlotVNode(slots, 'trigger');\n            }\n            if (triggerVNode) {\n                triggerVNode = cloneVNode(triggerVNode);\n                triggerVNode =\n                    triggerVNode.type === textVNodeType\n                        ? h('span', [triggerVNode])\n                        : triggerVNode;\n                const handlers = {\n                    onClick: this.handleClick,\n                    onMouseenter: this.handleMouseEnter,\n                    onMouseleave: this.handleMouseLeave,\n                    onFocus: this.handleFocus,\n                    onBlur: this.handleBlur\n                };\n                if ((_a = triggerVNode.type) === null || _a === void 0 ? void 0 : _a.__popover__) {\n                    popoverInside = true;\n                    // We assume that there's no DOM event handlers on popover element\n                    if (!triggerVNode.props) {\n                        triggerVNode.props = {\n                            internalSyncTargetWithParent: true,\n                            internalInheritedEventHandlers: []\n                        };\n                    }\n                    triggerVNode.props.internalSyncTargetWithParent = true;\n                    if (!triggerVNode.props.internalInheritedEventHandlers) {\n                        triggerVNode.props.internalInheritedEventHandlers = [handlers];\n                    }\n                    else {\n                        triggerVNode.props.internalInheritedEventHandlers = [\n                            handlers,\n                            ...triggerVNode.props.internalInheritedEventHandlers\n                        ];\n                    }\n                }\n                else {\n                    const { internalInheritedEventHandlers } = this;\n                    const ascendantAndCurrentHandlers = [\n                        handlers,\n                        ...internalInheritedEventHandlers\n                    ];\n                    const mergedHandlers = {\n                        onBlur: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onBlur(e);\n                            });\n                        },\n                        onFocus: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onBlur(e);\n                            });\n                        },\n                        onClick: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onClick(e);\n                            });\n                        },\n                        onMouseenter: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onMouseenter(e);\n                            });\n                        },\n                        onMouseleave: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onMouseleave(e);\n                            });\n                        }\n                    };\n                    appendEvents(triggerVNode, internalInheritedEventHandlers\n                        ? 'nested'\n                        : positionManually\n                            ? 'manual'\n                            : this.trigger, mergedHandlers);\n                }\n            }\n        }\n        return (h(VBinder, { ref: \"binderInstRef\", syncTarget: !popoverInside, syncTargetWithParent: this.internalSyncTargetWithParent }, {\n            default: () => {\n                // We need to subscribe it. Sometimes rerender won't ge triggered.\n                // `mergedShowConsideringDisabledProp` is not the final disabled status.\n                // In ellpisis it's dynamic.\n                void this.mergedShowConsideringDisabledProp;\n                const mergedShow = this.getMergedShow();\n                return [\n                    positionManually\n                        ? null\n                        : h(VTarget, null, {\n                            default: () => triggerVNode\n                        }),\n                    h(NPopoverBody, keep(this.$props, bodyPropKeys, Object.assign(Object.assign({}, this.$attrs), { showArrow: this.mergedShowArrow, show: mergedShow })), slots)\n                ];\n            }\n        }));\n    }\n});\n","import { onBeforeMount, watchEffect, computed } from 'vue';\nimport { exists } from 'css-render';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nexport default function useRtl(mountId, rtlStateRef, clsPrefixRef) {\n    if (!rtlStateRef)\n        return undefined;\n    const ssrAdapter = useSsrAdapter();\n    const componentRtlStateRef = computed(() => {\n        const { value: rtlState } = rtlStateRef;\n        if (!rtlState) {\n            return undefined;\n        }\n        const componentRtlState = rtlState[mountId];\n        if (!componentRtlState) {\n            return undefined;\n        }\n        return componentRtlState;\n    });\n    const mountStyle = () => {\n        watchEffect(() => {\n            const { value: clsPrefix } = clsPrefixRef;\n            const id = `${clsPrefix}${mountId}Rtl`;\n            // if it already exists, we only need to watch clsPrefix, although in most\n            // of time it's unnecessary... However we can at least listen less\n            // handlers, which is great.\n            if (exists(id, ssrAdapter))\n                return;\n            const { value: componentRtlState } = componentRtlStateRef;\n            if (!componentRtlState)\n                return;\n            componentRtlState.style.mount({\n                id,\n                head: true,\n                props: {\n                    bPrefix: clsPrefix ? `.${clsPrefix}-` : undefined\n                },\n                ssr: ssrAdapter\n            });\n        });\n    };\n    if (ssrAdapter) {\n        mountStyle();\n    }\n    else {\n        onBeforeMount(mountStyle);\n    }\n    return componentRtlStateRef;\n}\n","import { cB, c, cE } from '../../../../_utils/cssr';\nimport createIconSwitchTransition from '../../../../_styles/transitions/icon-switch.cssr'; // vars:\n// --bezier\n// --clear-color\n// --clear-size\n// --clear-color-hover\n// --clear-color-pressed\n\nexport default cB('base-clear', `\n flex-shrink: 0;\n height: 1em;\n width: 1em;\n position: relative;\n`, [c('>', [cE('clear', `\n font-size: var(--clear-size);\n cursor: pointer;\n color: var(--clear-color);\n transition: color .3s var(--bezier);\n `, [c('&:hover', `\n color: var(--clear-color-hover)!important;\n `), c('&:active', `\n color: var(--clear-color-pressed)!important;\n `)]), cE('placeholder', `\n display: flex;\n `), cE('clear, placeholder', `\n position: absolute;\n left: 50%;\n top: 50%;\n transform: translateX(-50%) translateY(-50%);\n `, [createIconSwitchTransition({\n  originalTransform: 'translateX(-50%) translateY(-50%)',\n  left: '50%',\n  top: '50%'\n})])])]);","import { h, defineComponent, toRef } from 'vue';\nimport { useStyle, useConfig } from '../../../_mixins';\nimport { ClearIcon } from '../../icons';\nimport NBaseIcon from '../../icon';\nimport NIconSwitchTransition from '../../icon-switch-transition';\nimport style from './styles/index.cssr';\nexport default defineComponent({\n    name: 'BaseClear',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        show: Boolean,\n        onClear: Function\n    },\n    setup(props) {\n        useStyle('BaseClear', style, toRef(props, 'clsPrefix'));\n        const { NConfigProvider } = useConfig();\n        return {\n            NConfigProvider,\n            handleMouseDown(e) {\n                e.preventDefault();\n            }\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-base-clear` },\n            h(NIconSwitchTransition, null, {\n                default: () => {\n                    return this.show ? (h(NBaseIcon, { clsPrefix: clsPrefix, key: \"dismiss\", class: `${clsPrefix}-base-clear__clear`, onClick: this.onClear, onMousedown: this.handleMouseDown, \"data-clear\": true }, {\n                        default: () => h(ClearIcon, null)\n                    })) : (h(\"div\", { key: \"icon\", class: `${clsPrefix}-base-clear__placeholder` }, this.$slots));\n                }\n            })));\n    }\n});\n","import { h, defineComponent } from 'vue';\nimport NBaseClear from '../../clear';\nimport NBaseLoading from '../../loading';\nimport NBaseIcon from '../../icon';\nimport { ChevronDownIcon } from '../../icons';\nexport default defineComponent({\n    name: 'InternalSelectionSuffix',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        showArrow: {\n            type: Boolean,\n            default: undefined\n        },\n        showClear: {\n            type: Boolean,\n            default: undefined\n        },\n        loading: Boolean,\n        onClear: Function\n    },\n    setup(props) {\n        return () => {\n            const { clsPrefix } = props;\n            return (h(NBaseLoading, { clsPrefix: clsPrefix, class: `${clsPrefix}-base-suffix`, strokeWidth: 24, scale: 0.85, show: props.loading }, {\n                default: () => props.showArrow ? (h(NBaseClear, { clsPrefix: clsPrefix, show: props.showClear, onClear: props.onClear }, {\n                    default: () => (h(NBaseIcon, { clsPrefix: clsPrefix, class: `${clsPrefix}-base-suffix__arrow` }, { default: () => h(ChevronDownIcon, null) }))\n                })) : null\n            }));\n        };\n    }\n});\n","import { c } from '../../_utils/cssr';\nimport commonVariables from '../common/_common';\nconst {\n  cubicBezierEaseInOut\n} = commonVariables;\nexport default function ({\n  duration = '.2s',\n  delay = '.1s'\n} = {}) {\n  return [c('&.fade-in-width-expand-transition-leave-from, &.fade-in-width-expand-transition-enter-to', {\n    opacity: 1\n  }), c('&.fade-in-width-expand-transition-leave-to, &.fade-in-width-expand-transition-enter-from', `\n opacity: 0!important;\n margin-left: 0!important;\n margin-right: 0!important;\n `), c('&.fade-in-width-expand-transition-leave-active', `\n overflow: hidden;\n transition:\n opacity ${duration} ${cubicBezierEaseInOut},\n max-width ${duration} ${cubicBezierEaseInOut} ${delay},\n margin-left ${duration} ${cubicBezierEaseInOut} ${delay},\n margin-right ${duration} ${cubicBezierEaseInOut} ${delay};\n `), c('&.fade-in-width-expand-transition-enter-active', `\n overflow: hidden;\n transition:\n opacity ${duration} ${cubicBezierEaseInOut} ${delay},\n max-width ${duration} ${cubicBezierEaseInOut},\n margin-left ${duration} ${cubicBezierEaseInOut},\n margin-right ${duration} ${cubicBezierEaseInOut};\n `)];\n}","import { composite } from 'seemly';\nexport function createHoverColor(rgb) {\n    return composite(rgb, [255, 255, 255, 0.16]);\n}\nexport function createPressedColor(rgb) {\n    return composite(rgb, [0, 0, 0, 0.12]);\n}\n","export default {\n    paddingTiny: '0 6px',\n    paddingSmall: '0 10px',\n    paddingMedium: '0 14px',\n    paddingLarge: '0 18px',\n    paddingRoundTiny: '0 10px',\n    paddingRoundSmall: '0 14px',\n    paddingRoundMedium: '0 18px',\n    paddingRoundLarge: '0 22px',\n    iconMarginTiny: '6px',\n    iconMarginSmall: '6px',\n    iconMarginMedium: '6px',\n    iconMarginLarge: '6px',\n    iconSizeTiny: '14px',\n    iconSizeSmall: '18px',\n    iconSizeMedium: '18px',\n    iconSizeLarge: '20px',\n    rippleDuration: '.6s'\n};\n","import commonVariables from './_common';\nimport { commonLight } from '../../_styles/common';\nexport const self = (vars) => {\n    const { heightTiny, heightSmall, heightMedium, heightLarge, borderRadius, fontSizeTiny, fontSizeSmall, fontSizeMedium, fontSizeLarge, opacityDisabled, textColor1, textColor2, textColor3, primaryColorHover, primaryColorPressed, borderColor, primaryColor, baseColor, infoColor, infoColorHover, infoColorPressed, successColor, successColorHover, successColorPressed, warningColor, warningColorHover, warningColorPressed, errorColor, errorColorHover, errorColorPressed, fontWeight } = vars;\n    return Object.assign(Object.assign({}, commonVariables), { heightTiny,\n        heightSmall,\n        heightMedium,\n        heightLarge, borderRadiusTiny: borderRadius, borderRadiusSmall: borderRadius, borderRadiusMedium: borderRadius, borderRadiusLarge: borderRadius, fontSizeTiny: fontSizeTiny, fontSizeSmall: fontSizeSmall, fontSizeMedium: fontSizeMedium, fontSizeLarge: fontSizeLarge, opacityDisabled: opacityDisabled, \n        // default type\n        color: '#0000', colorHover: '#0000', colorPressed: '#0000', colorFocus: '#0000', colorDisabled: '#0000', textColor: textColor2, textColorHover: primaryColorHover, textColorPressed: primaryColorPressed, textColorFocus: primaryColorHover, textColorDisabled: textColor2, textColorText: textColor2, textColorTextDepth1: textColor1, textColorTextDepth2: textColor2, textColorTextDepth3: textColor3, textColorTextHover: primaryColorHover, textColorTextPressed: primaryColorPressed, textColorTextFocus: primaryColorHover, textColorTextDisabled: textColor2, textColorGhost: textColor2, textColorGhostHover: primaryColorHover, textColorGhostPressed: primaryColorPressed, textColorGhostFocus: primaryColorHover, textColorGhostDisabled: textColor2, border: `1px solid ${borderColor}`, borderHover: `1px solid ${primaryColorHover}`, borderPressed: `1px solid ${primaryColorPressed}`, borderFocus: `1px solid ${primaryColorHover}`, borderDisabled: `1px solid ${borderColor}`, rippleColor: primaryColor, \n        // primary\n        colorPrimary: primaryColor, colorHoverPrimary: primaryColorHover, colorPressedPrimary: primaryColorPressed, colorFocusPrimary: primaryColorHover, colorDisabledPrimary: primaryColor, textColorPrimary: baseColor, textColorHoverPrimary: baseColor, textColorPressedPrimary: baseColor, textColorFocusPrimary: baseColor, textColorDisabledPrimary: baseColor, textColorTextPrimary: primaryColor, textColorTextHoverPrimary: primaryColorHover, textColorTextPressedPrimary: primaryColorPressed, textColorTextFocusPrimary: primaryColorHover, textColorTextDisabledPrimary: textColor2, textColorGhostPrimary: primaryColor, textColorGhostHoverPrimary: primaryColorHover, textColorGhostPressedPrimary: primaryColorPressed, textColorGhostFocusPrimary: primaryColorHover, textColorGhostDisabledPrimary: primaryColor, borderPrimary: `1px solid ${primaryColor}`, borderHoverPrimary: `1px solid ${primaryColorHover}`, borderPressedPrimary: `1px solid ${primaryColorPressed}`, borderFocusPrimary: `1px solid ${primaryColorHover}`, borderDisabledPrimary: `1px solid ${primaryColor}`, rippleColorPrimary: primaryColor, \n        // info\n        colorInfo: infoColor, colorHoverInfo: infoColorHover, colorPressedInfo: infoColorPressed, colorFocusInfo: infoColorHover, colorDisabledInfo: infoColor, textColorInfo: baseColor, textColorHoverInfo: baseColor, textColorPressedInfo: baseColor, textColorFocusInfo: baseColor, textColorDisabledInfo: baseColor, textColorTextInfo: infoColor, textColorTextHoverInfo: infoColorHover, textColorTextPressedInfo: infoColorPressed, textColorTextFocusInfo: infoColorHover, textColorTextDisabledInfo: textColor2, textColorGhostInfo: infoColor, textColorGhostHoverInfo: infoColorHover, textColorGhostPressedInfo: infoColorPressed, textColorGhostFocusInfo: infoColorHover, textColorGhostDisabledInfo: infoColor, borderInfo: `1px solid ${infoColor}`, borderHoverInfo: `1px solid ${infoColorHover}`, borderPressedInfo: `1px solid ${infoColorPressed}`, borderFocusInfo: `1px solid ${infoColorHover}`, borderDisabledInfo: `1px solid ${infoColor}`, rippleColorInfo: infoColor, \n        // success\n        colorSuccess: successColor, colorHoverSuccess: successColorHover, colorPressedSuccess: successColorPressed, colorFocusSuccess: successColorHover, colorDisabledSuccess: successColor, textColorSuccess: baseColor, textColorHoverSuccess: baseColor, textColorPressedSuccess: baseColor, textColorFocusSuccess: baseColor, textColorDisabledSuccess: baseColor, textColorTextSuccess: successColor, textColorTextHoverSuccess: successColorHover, textColorTextPressedSuccess: successColorPressed, textColorTextFocusSuccess: successColorHover, textColorTextDisabledSuccess: textColor2, textColorGhostSuccess: successColor, textColorGhostHoverSuccess: successColorHover, textColorGhostPressedSuccess: successColorPressed, textColorGhostFocusSuccess: successColorHover, textColorGhostDisabledSuccess: successColor, borderSuccess: `1px solid ${successColor}`, borderHoverSuccess: `1px solid ${successColorHover}`, borderPressedSuccess: `1px solid ${successColorPressed}`, borderFocusSuccess: `1px solid ${successColorHover}`, borderDisabledSuccess: `1px solid ${successColor}`, rippleColorSuccess: successColor, \n        // warning\n        colorWarning: warningColor, colorHoverWarning: warningColorHover, colorPressedWarning: warningColorPressed, colorFocusWarning: warningColorHover, colorDisabledWarning: warningColor, textColorWarning: baseColor, textColorHoverWarning: baseColor, textColorPressedWarning: baseColor, textColorFocusWarning: baseColor, textColorDisabledWarning: baseColor, textColorTextWarning: warningColor, textColorTextHoverWarning: warningColorHover, textColorTextPressedWarning: warningColorPressed, textColorTextFocusWarning: warningColorHover, textColorTextDisabledWarning: textColor2, textColorGhostWarning: warningColor, textColorGhostHoverWarning: warningColorHover, textColorGhostPressedWarning: warningColorPressed, textColorGhostFocusWarning: warningColorHover, textColorGhostDisabledWarning: warningColor, borderWarning: `1px solid ${warningColor}`, borderHoverWarning: `1px solid ${warningColorHover}`, borderPressedWarning: `1px solid ${warningColorPressed}`, borderFocusWarning: `1px solid ${warningColorHover}`, borderDisabledWarning: `1px solid ${warningColor}`, rippleColorWarning: warningColor, \n        // error\n        colorError: errorColor, colorHoverError: errorColorHover, colorPressedError: errorColorPressed, colorFocusError: errorColorHover, colorDisabledError: errorColor, textColorError: baseColor, textColorHoverError: baseColor, textColorPressedError: baseColor, textColorFocusError: baseColor, textColorDisabledError: baseColor, textColorTextError: errorColor, textColorTextHoverError: errorColorHover, textColorTextPressedError: errorColorPressed, textColorTextFocusError: errorColorHover, textColorTextDisabledError: textColor2, textColorGhostError: errorColor, textColorGhostHoverError: errorColorHover, textColorGhostPressedError: errorColorPressed, textColorGhostFocusError: errorColorHover, textColorGhostDisabledError: errorColor, borderError: `1px solid ${errorColor}`, borderHoverError: `1px solid ${errorColorHover}`, borderPressedError: `1px solid ${errorColorPressed}`, borderFocusError: `1px solid ${errorColorHover}`, borderDisabledError: `1px solid ${errorColor}`, rippleColorError: errorColor, waveOpacity: '0.6', fontWeightText: fontWeight, fontWeight: fontWeight, fontWeighGhost: fontWeight });\n};\nconst buttonLight = {\n    name: 'Button',\n    common: commonLight,\n    self\n};\nexport default buttonLight;\n","import { c, cB, cM, cE, cNotM } from '../../../_utils/cssr/index';\nconst zero = '0!important';\nconst n1 = '-1px!important';\n\nfunction createLeftBorderStyle(type) {\n  return cM(type + '-type', [c('& +', [cB('button', {}, [cM(type + '-type', [cE('border', {\n    borderLeftWidth: zero\n  }), cE('state-border', {\n    left: n1\n  })])])])]);\n}\n\nfunction createTopBorderStyle(type) {\n  return cM(type + '-type', [c('& +', [cB('button', [cM(type + '-type', [cE('border', {\n    borderTopWidth: zero\n  }), cE('state-border', {\n    top: n1\n  })])])])]);\n}\n\nexport default cB('button-group', `\n flex-wrap: nowrap;\n display: inline-flex;\n position: relative;\n`, [cNotM('vertical', {\n  flexDirection: 'row'\n}, [cB('button', [c('&:first-child:not(:last-child)', `\n margin-right: ${zero};\n border-top-right-radius: ${zero};\n border-bottom-right-radius: ${zero};\n `), c('&:last-child:not(:first-child)', `\n margin-left: ${zero};\n border-top-left-radius: ${zero};\n border-bottom-left-radius: ${zero};\n `), c('&:not(:first-child):not(:last-child)', `\n margin-left: ${zero};\n margin-right: ${zero};\n border-radius: ${zero};\n `), createLeftBorderStyle('default'), cM('ghost', [createLeftBorderStyle('primary'), createLeftBorderStyle('info'), createLeftBorderStyle('success'), createLeftBorderStyle('warning'), createLeftBorderStyle('error')])])]), cM('vertical', {\n  flexDirection: 'column'\n}, [cB('button', [c('&:first-child:not(:last-child)', `\n margin-bottom: ${zero};\n margin-left: ${zero};\n margin-right: ${zero};\n border-bottom-left-radius: ${zero};\n border-bottom-right-radius: ${zero};\n `), c('&:last-child:not(:first-child)', `\n margin-top: ${zero};\n margin-left: ${zero};\n margin-right: ${zero};\n border-top-left-radius: ${zero};\n border-top-right-radius: ${zero};\n `), c('&:not(:first-child):not(:last-child)', `\n margin: ${zero};\n border-radius: ${zero};\n `), createTopBorderStyle('default'), cM('ghost', [createTopBorderStyle('primary'), createTopBorderStyle('info'), createTopBorderStyle('success'), createTopBorderStyle('warning'), createTopBorderStyle('error')])])])]);","import { h, defineComponent, provide } from 'vue';\nimport { useConfig, useStyle } from '../../_mixins';\nimport style from './styles/button-group.cssr';\nexport const buttonGroupInjectionKey = Symbol('button-group');\nconst buttonGroupProps = {\n    size: {\n        type: String,\n        default: undefined\n    },\n    vertical: Boolean\n};\nexport default defineComponent({\n    name: 'ButtonGroup',\n    props: buttonGroupProps,\n    setup(props) {\n        const { mergedClsPrefixRef } = useConfig(props);\n        useStyle('ButtonGroup', style, mergedClsPrefixRef);\n        provide(buttonGroupInjectionKey, props);\n        return {\n            mergedClsPrefix: mergedClsPrefixRef\n        };\n    },\n    render() {\n        const { mergedClsPrefix } = this;\n        return (h(\"div\", { class: [\n                `${mergedClsPrefix}-button-group`,\n                this.vertical && `${mergedClsPrefix}-button-group--vertical`\n            ], role: \"group\" }, this.$slots));\n    }\n});\n","import { c, cB, cE, cM, cNotM } from '../../../_utils/cssr';\nimport fadeInWidthExpandTransition from '../../../_styles/transitions/fade-in-width-expand.cssr';\nimport iconSwitchTransition from '../../../_styles/transitions/icon-switch.cssr'; // vars:\n// --bezier\n// --ripple-duration\n// --opacity-disabled\n// --text-color\n// --text-color-hover\n// --text-color-pressed\n// --text-color-focus\n// --text-color-disabled\n// --color\n// --color-hover\n// --color-pressed\n// --color-focus\n// --color-disabled\n// --border\n// --border-hover\n// --border-pressed\n// --border-focus\n// --border-disabled\n// --ripple-color\n// --border-radius\n// --height\n// --width\n// --font-size\n// --padding\n// --icon-size\n// --icon-margin\n// --wave-opacity\n// --font-weight\n//\n// private-vars:\n// --border-color-xxx, used for custom color\n\nexport default c([cB('button', `\n font-weight: var(--font-weight);\n line-height: 1;\n font-family: inherit;\n padding: var(--padding);\n height: var(--height);\n font-size: var(--font-size);\n border-radius: var(--border-radius);\n color: var(--text-color);\n background-color: var(--color);\n width: var(--width);\n white-space: nowrap;\n outline: none;\n position: relative;\n z-index: auto;\n border: none;\n display: inline-flex;\n flex-wrap: nowrap;\n align-items: center;\n justify-content: center;\n user-select: none;\n text-align: center;\n cursor: pointer;\n text-decoration: none;\n transition:\n color .3s var(--bezier),\n background-color .3s var(--bezier),\n opacity .3s var(--bezier),\n border-color .3s var(--bezier);\n `, [cM('color', [cE('border', {\n  borderColor: 'var(--border-color)'\n}), cM('disabled', [cE('border', {\n  borderColor: 'var(--border-color-disabled)'\n})]), cNotM('disabled', [c('&:focus', [cE('state-border', {\n  borderColor: 'var(--border-color-focus)'\n})]), c('&:hover', [cE('state-border', {\n  borderColor: 'var(--border-color-hover)'\n})]), c('&:active', [cE('state-border', {\n  borderColor: 'var(--border-color-pressed)'\n})]), cM('pressed', [cE('state-border', {\n  borderColor: 'var(--border-color-pressed)'\n})])])]), cM('disabled', {\n  backgroundColor: 'var(--color-disabled)',\n  color: 'var(--text-color-disabled)'\n}, [cE('border', {\n  border: 'var(--border-disabled)'\n})]), cNotM('disabled', [c('&:focus', {\n  backgroundColor: 'var(--color-focus)',\n  color: 'var(--text-color-focus)'\n}, [cE('state-border', {\n  border: 'var(--border-focus)'\n})]), c('&:hover', {\n  backgroundColor: 'var(--color-hover)',\n  color: 'var(--text-color-hover)'\n}, [cE('state-border', {\n  border: 'var(--border-hover)'\n})]), c('&:active', {\n  backgroundColor: 'var(--color-pressed)',\n  color: 'var(--text-color-pressed)'\n}, [cE('state-border', {\n  border: 'var(--border-pressed)'\n})]), cM('pressed', {\n  backgroundColor: 'var(--color-pressed)',\n  color: 'var(--text-color-pressed)'\n}, [cE('state-border', {\n  border: 'var(--border-pressed)'\n})])]), cB('base-wave', `\n pointer-events: none;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n animation-iteration-count: 1;\n animation-duration: var(--ripple-duration);\n animation-timing-function: var(--bezier-ease-out), var(--bezier-ease-out);\n `, [cM('active', {\n  zIndex: 1,\n  animationName: 'button-wave-spread, button-wave-opacity'\n})]), typeof window !== 'undefined' && 'MozBoxSizing' in document.createElement('div').style ? c('&::moz-focus-inner', {\n  border: 0\n}) : null, cE('border, state-border', `\n position: absolute;\n left: 0;\n top: 0;\n right: 0;\n bottom: 0;\n border-radius: inherit;\n transition: border-color .3s var(--bezier);\n pointer-events: none;\n `), cE('border', {\n  border: 'var(--border)'\n}), cE('state-border', {\n  border: 'var(--border)',\n  borderColor: '#0000',\n  zIndex: 1\n}), cE('icon', `\n margin: var(--icon-margin);\n margin-left: 0;\n height: var(--icon-size);\n width: var(--icon-size);\n max-width: var(--icon-size);\n font-size: var(--icon-size);\n position: relative;\n flex-shrink: 0;\n `, [cB('icon-slot', `\n height: var(--icon-size);\n width: var(--icon-size);\n position: absolute;\n left: 0;\n top: 50%;\n transform: translateY(-50%);\n display: flex;\n `, [iconSwitchTransition({\n  top: '50%',\n  originalTransform: 'translateY(-50%)'\n})]), fadeInWidthExpandTransition()]), cE('content', `\n display: flex;\n align-items: center;\n flex-wrap: nowrap;\n `, [c('~', [cE('icon', {\n  margin: 'var(--icon-margin)',\n  marginRight: 0\n})])]), cM('block', `\n display: flex;\n width: 100%;\n `), cM('dashed', [cE('border, state-border', {\n  borderStyle: 'dashed !important'\n})]), cM('disabled', {\n  cursor: 'not-allowed',\n  opacity: 'var(--opacity-disabled)'\n})]), c('@keyframes button-wave-spread', {\n  from: {\n    boxShadow: '0 0 0.5px 0 var(--ripple-color)'\n  },\n  to: {\n    // don't use exact 5px since chrome will display the animation with glitches\n    boxShadow: '0 0 0.5px 4.5px var(--ripple-color)'\n  }\n}), c('@keyframes button-wave-opacity', {\n  from: {\n    opacity: 'var(--wave-opacity)'\n  },\n  to: {\n    opacity: 0\n  }\n})]);","import { h, ref, computed, inject, nextTick, defineComponent, renderSlot } from 'vue';\nimport { useMemo } from 'vooks';\nimport { createHoverColor, createPressedColor } from '../../_utils/color/index';\nimport { useConfig, useFormItem, useTheme } from '../../_mixins';\nimport { NFadeInExpandTransition, NIconSwitchTransition, NBaseLoading, NBaseWave } from '../../_internal';\nimport { call, createKey } from '../../_utils';\nimport { buttonLight } from '../styles';\nimport { buttonGroupInjectionKey } from './ButtonGroup';\nimport style from './styles/button.cssr';\nimport useRtl from '../../_mixins/use-rtl';\nconst buttonProps = Object.assign(Object.assign({}, useTheme.props), { color: String, textColor: String, text: Boolean, block: Boolean, loading: Boolean, disabled: Boolean, circle: Boolean, size: String, ghost: Boolean, round: Boolean, depth: [Number, String], focusable: {\n        type: Boolean,\n        default: true\n    }, keyboard: {\n        type: Boolean,\n        default: true\n    }, tag: {\n        type: String,\n        default: 'button'\n    }, type: {\n        type: String,\n        default: 'default'\n    }, dashed: Boolean, iconPlacement: {\n        type: String,\n        default: 'left'\n    }, attrType: {\n        type: String,\n        default: 'button'\n    }, onClick: [Function, Array], bordered: {\n        type: Boolean,\n        default: true\n    } });\nconst Button = defineComponent({\n    name: 'Button',\n    props: buttonProps,\n    setup(props) {\n        const selfRef = ref(null);\n        const waveRef = ref(null);\n        const enterPressedRef = ref(false);\n        const showBorderRef = useMemo(() => {\n            return (!props.text &&\n                (!props.color || props.ghost || props.dashed) &&\n                props.bordered);\n        });\n        const NButtonGroup = inject(buttonGroupInjectionKey, {});\n        const { mergedSizeRef } = useFormItem({}, {\n            defaultSize: 'medium',\n            mergedSize: (NFormItem) => {\n                const { size } = props;\n                if (size)\n                    return size;\n                const { size: buttonGroupSize } = NButtonGroup;\n                if (buttonGroupSize)\n                    return buttonGroupSize;\n                const { mergedSize: formItemSize } = NFormItem || {};\n                if (formItemSize) {\n                    return formItemSize.value;\n                }\n                return 'medium';\n            }\n        });\n        const mergedFocusableRef = computed(() => {\n            return props.focusable && !props.disabled;\n        });\n        const handleMouseDown = (e) => {\n            var _a;\n            e.preventDefault();\n            if (props.disabled) {\n                return;\n            }\n            if (mergedFocusableRef.value) {\n                (_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.focus({ preventScroll: true });\n            }\n        };\n        const handleClick = (e) => {\n            if (!props.disabled) {\n                const { onClick } = props;\n                if (onClick)\n                    call(onClick, e);\n                if (!props.text) {\n                    const { value } = waveRef;\n                    if (value) {\n                        value.play();\n                    }\n                }\n            }\n        };\n        const handleKeyUp = (e) => {\n            switch (e.code) {\n                case 'Enter':\n                case 'NumpadEnter':\n                    if (!props.keyboard) {\n                        e.preventDefault();\n                        return;\n                    }\n                    enterPressedRef.value = false;\n                    void nextTick(() => {\n                        var _a;\n                        if (!props.disabled) {\n                            (_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.click();\n                        }\n                    });\n            }\n        };\n        const handleKeyDown = (e) => {\n            switch (e.code) {\n                case 'Enter':\n                case 'NumpadEnter':\n                    if (!props.keyboard) {\n                        e.preventDefault();\n                        return;\n                    }\n                    enterPressedRef.value = true;\n            }\n        };\n        const handleBlur = () => {\n            enterPressedRef.value = false;\n        };\n        const { mergedClsPrefixRef, NConfigProvider } = useConfig(props);\n        const themeRef = useTheme('Button', 'Button', style, buttonLight, props, mergedClsPrefixRef);\n        const rtlEnabledRef = useRtl('Button', NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedRtlRef, mergedClsPrefixRef);\n        return {\n            selfRef,\n            waveRef,\n            mergedClsPrefix: mergedClsPrefixRef,\n            mergedFocusable: mergedFocusableRef,\n            mergedSize: mergedSizeRef,\n            showBorder: showBorderRef,\n            enterPressed: enterPressedRef,\n            rtlEnabled: rtlEnabledRef,\n            handleMouseDown,\n            handleKeyDown,\n            handleBlur,\n            handleKeyUp,\n            handleClick,\n            customColorCssVars: computed(() => {\n                const { color } = props;\n                if (!color)\n                    return null;\n                const hoverColor = createHoverColor(color);\n                return {\n                    '--border-color': color,\n                    '--border-color-hover': hoverColor,\n                    '--border-color-pressed': createPressedColor(color),\n                    '--border-color-focus': hoverColor,\n                    '--border-color-disabled': color\n                };\n            }),\n            cssVars: computed(() => {\n                const theme = themeRef.value;\n                const { common: { cubicBezierEaseInOut, cubicBezierEaseOut }, self } = theme;\n                const { rippleDuration, opacityDisabled, fontWeightText, fontWeighGhost, fontWeight } = self;\n                const size = mergedSizeRef.value;\n                const { dashed, type, ghost, text, color, round, circle, textColor } = props;\n                // font\n                const fontProps = {\n                    fontWeight: text\n                        ? fontWeightText\n                        : ghost\n                            ? fontWeighGhost\n                            : fontWeight\n                };\n                // color\n                let colorProps = {\n                    '--color': 'initial',\n                    '--color-hover': 'initial',\n                    '--color-pressed': 'initial',\n                    '--color-focus': 'initial',\n                    '--color-disabled': 'initial',\n                    '--ripple-color': 'initial',\n                    '--text-color': 'initial',\n                    '--text-color-hover': 'initial',\n                    '--text-color-pressed': 'initial',\n                    '--text-color-focus': 'initial',\n                    '--text-color-disabled': 'initial'\n                };\n                if (text) {\n                    const { depth } = props;\n                    const propTextColor = textColor || color;\n                    const mergedTextColor = propTextColor ||\n                        (type === 'default' && depth !== undefined\n                            ? self[createKey('textColorTextDepth', String(depth))]\n                            : self[createKey('textColorText', type)]);\n                    colorProps = {\n                        '--color': '#0000',\n                        '--color-hover': '#0000',\n                        '--color-pressed': '#0000',\n                        '--color-focus': '#0000',\n                        '--color-disabled': '#0000',\n                        '--ripple-color': '#0000',\n                        '--text-color': mergedTextColor,\n                        '--text-color-hover': propTextColor\n                            ? createHoverColor(propTextColor)\n                            : self[createKey('textColorTextHover', type)],\n                        '--text-color-pressed': propTextColor\n                            ? createPressedColor(propTextColor)\n                            : self[createKey('textColorTextPressed', type)],\n                        '--text-color-focus': propTextColor\n                            ? createHoverColor(propTextColor)\n                            : self[createKey('textColorTextHover', type)],\n                        '--text-color-disabled': propTextColor || self[createKey('textColorTextDisabled', type)]\n                    };\n                }\n                else if (ghost || dashed) {\n                    const mergedTextColor = textColor || color;\n                    colorProps = {\n                        '--color': '#0000',\n                        '--color-hover': '#0000',\n                        '--color-pressed': '#0000',\n                        '--color-focus': '#0000',\n                        '--color-disabled': '#0000',\n                        '--ripple-color': color || self[createKey('rippleColor', type)],\n                        '--text-color': mergedTextColor || self[createKey('textColorGhost', type)],\n                        '--text-color-hover': mergedTextColor\n                            ? createHoverColor(mergedTextColor)\n                            : self[createKey('textColorGhostHover', type)],\n                        '--text-color-pressed': mergedTextColor\n                            ? createPressedColor(mergedTextColor)\n                            : self[createKey('textColorGhostPressed', type)],\n                        '--text-color-focus': mergedTextColor\n                            ? createHoverColor(mergedTextColor)\n                            : self[createKey('textColorGhostHover', type)],\n                        '--text-color-disabled': mergedTextColor || self[createKey('textColorGhostDisabled', type)]\n                    };\n                }\n                else {\n                    colorProps = {\n                        '--color': color || self[createKey('color', type)],\n                        '--color-hover': color\n                            ? createHoverColor(color)\n                            : self[createKey('colorHover', type)],\n                        '--color-pressed': color\n                            ? createPressedColor(color)\n                            : self[createKey('colorPressed', type)],\n                        '--color-focus': color\n                            ? createHoverColor(color)\n                            : self[createKey('colorFocus', type)],\n                        '--color-disabled': color || self[createKey('colorDisabled', type)],\n                        '--ripple-color': color || self[createKey('rippleColor', type)],\n                        '--text-color': textColor ||\n                            (color\n                                ? self.textColorPrimary\n                                : self[createKey('textColor', type)]),\n                        '--text-color-hover': textColor ||\n                            (color\n                                ? self.textColorHoverPrimary\n                                : self[createKey('textColorHover', type)]),\n                        '--text-color-pressed': textColor ||\n                            (color\n                                ? self.textColorPressedPrimary\n                                : self[createKey('textColorPressed', type)]),\n                        '--text-color-focus': textColor ||\n                            (color\n                                ? self.textColorFocusPrimary\n                                : self[createKey('textColorFocus', type)]),\n                        '--text-color-disabled': textColor ||\n                            (color\n                                ? self.textColorDisabledPrimary\n                                : self[createKey('textColorDisabled', type)])\n                    };\n                }\n                // border\n                let borderProps = {\n                    '--border': 'initial',\n                    '--border-hover': 'initial',\n                    '--border-pressed': 'initial',\n                    '--border-focus': 'initial',\n                    '--border-disabled': 'initial'\n                };\n                if (text) {\n                    borderProps = {\n                        '--border': 'none',\n                        '--border-hover': 'none',\n                        '--border-pressed': 'none',\n                        '--border-focus': 'none',\n                        '--border-disabled': 'none'\n                    };\n                }\n                else {\n                    borderProps = {\n                        '--border': self[createKey('border', type)],\n                        '--border-hover': self[createKey('borderHover', type)],\n                        '--border-pressed': self[createKey('borderPressed', type)],\n                        '--border-focus': self[createKey('borderFocus', type)],\n                        '--border-disabled': self[createKey('borderDisabled', type)]\n                    };\n                }\n                // size\n                const { [createKey('height', size)]: height, [createKey('fontSize', size)]: fontSize, [createKey('padding', size)]: padding, [createKey('paddingRound', size)]: paddingRound, [createKey('iconSize', size)]: iconSize, [createKey('borderRadius', size)]: borderRadius, [createKey('iconMargin', size)]: iconMargin, waveOpacity } = self;\n                const sizeProps = {\n                    '--width': circle && !text ? height : 'initial',\n                    '--height': text ? 'initial' : height,\n                    '--font-size': fontSize,\n                    '--padding': circle\n                        ? 'initial'\n                        : text\n                            ? 'initial'\n                            : round\n                                ? paddingRound\n                                : padding,\n                    '--icon-size': iconSize,\n                    '--icon-margin': iconMargin,\n                    '--border-radius': text\n                        ? 'initial'\n                        : circle || round\n                            ? height\n                            : borderRadius\n                };\n                return Object.assign(Object.assign(Object.assign(Object.assign({ '--bezier': cubicBezierEaseInOut, '--bezier-ease-out': cubicBezierEaseOut, '--ripple-duration': rippleDuration, '--opacity-disabled': opacityDisabled, '--wave-opacity': waveOpacity }, fontProps), colorProps), borderProps), sizeProps);\n            })\n        };\n    },\n    render() {\n        const { $slots, mergedClsPrefix, tag: Component } = this;\n        return (h(Component, { ref: \"selfRef\", class: [\n                `${mergedClsPrefix}-button`,\n                `${mergedClsPrefix}-button--${this.type}-type`,\n                `${mergedClsPrefix}-button--${this.mergedSize}-type`,\n                this.rtlEnabled && `${mergedClsPrefix}-button--rtl`,\n                this.disabled && `${mergedClsPrefix}-button--disabled`,\n                this.block && `${mergedClsPrefix}-button--block`,\n                this.enterPressed && `${mergedClsPrefix}-button--pressed`,\n                !this.text && this.dashed && `${mergedClsPrefix}-button--dashed`,\n                this.color && `${mergedClsPrefix}-button--color`,\n                this.ghost && `${mergedClsPrefix}-button--ghost` // required for button group border collapse\n            ], tabindex: this.mergedFocusable ? 0 : -1, type: this.attrType, style: this.cssVars, disabled: this.disabled, onClick: this.handleClick, onBlur: this.handleBlur, onMousedown: this.handleMouseDown, onKeyup: this.handleKeyUp, onKeydown: this.handleKeyDown },\n            $slots.default && this.iconPlacement === 'right' ? (h(\"div\", { class: `${mergedClsPrefix}-button__content` }, $slots)) : null,\n            h(NFadeInExpandTransition, { width: true }, {\n                default: () => $slots.icon || this.loading ? (h(\"span\", { class: `${mergedClsPrefix}-button__icon`, style: {\n                        margin: !$slots.default ? 0 : ''\n                    } },\n                    h(NIconSwitchTransition, null, {\n                        default: () => this.loading ? (h(NBaseLoading, { clsPrefix: mergedClsPrefix, key: \"loading\", class: `${mergedClsPrefix}-icon-slot`, strokeWidth: 20 })) : (h(\"div\", { key: \"icon\", class: `${mergedClsPrefix}-icon-slot`, role: \"none\" }, renderSlot($slots, 'icon')))\n                    }))) : null\n            }),\n            $slots.default && this.iconPlacement === 'left' ? (h(\"span\", { class: `${mergedClsPrefix}-button__content` }, $slots)) : null,\n            !this.text ? (h(NBaseWave, { ref: \"waveRef\", clsPrefix: mergedClsPrefix })) : null,\n            this.showBorder ? (h(\"div\", { \"aria-hidden\": true, class: `${mergedClsPrefix}-button__border`, style: this.customColorCssVars })) : null,\n            this.showBorder ? (h(\"div\", { \"aria-hidden\": true, class: `${mergedClsPrefix}-button__state-border`, style: this.customColorCssVars })) : null));\n    }\n});\nexport default Button;\n// XButton is for tsx type checking\n// It's not compitable with render function `h`\n// Currently we don't expose it as public\n// If there's any issue about this, we may expose it\n// Since most people use template, the type checking phase doesn't work as tsx\nexport const XButton = Button;\n// Also, we may make XButton a generic type which support `tag` prop\n// but currently vue doesn't export IntrinsicElementAttributes from runtime-dom\n// so we can't easily make an attr map by hand\n// just leave it for later\n","export default {\n    radioSizeSmall: '14px',\n    radioSizeMedium: '16px',\n    radioSizeLarge: '18px',\n    labelPadding: '0 8px'\n};\n","import { changeColor } from 'seemly';\nimport commonVariables from './_common';\nimport { commonLight } from '../../_styles/common';\nconst self = (vars) => {\n    const { borderColor, primaryColor, baseColor, textColorDisabled, inputColorDisabled, textColor2, opacityDisabled, borderRadius, fontSizeSmall, fontSizeMedium, fontSizeLarge, heightSmall, heightMedium, heightLarge } = vars;\n    return Object.assign(Object.assign({}, commonVariables), { buttonHeightSmall: heightSmall, buttonHeightMedium: heightMedium, buttonHeightLarge: heightLarge, fontSizeSmall,\n        fontSizeMedium,\n        fontSizeLarge, boxShadow: `inset 0 0 0 1px ${borderColor}`, boxShadowActive: `inset 0 0 0 1px ${primaryColor}`, boxShadowFocus: `inset 0 0 0 1px ${primaryColor}, 0 0 0 2px ${changeColor(primaryColor, { alpha: 0.2 })}`, boxShadowHover: `inset 0 0 0 1px ${primaryColor}`, boxShadowDisabled: `inset 0 0 0 1px ${borderColor}`, color: baseColor, colorDisabled: inputColorDisabled, textColor: textColor2, textColorDisabled: textColorDisabled, dotColorActive: primaryColor, dotColorDisabled: borderColor, buttonBorderColor: borderColor, buttonBorderColorActive: primaryColor, buttonBorderColorHover: borderColor, buttonColor: baseColor, buttonColorActive: baseColor, buttonTextColor: textColor2, buttonTextColorActive: primaryColor, buttonTextColorHover: primaryColor, opacityDisabled: opacityDisabled, buttonBoxShadowFocus: `inset 0 0 0 1px ${primaryColor}, 0 0 0 2px ${changeColor(primaryColor, { alpha: 0.3 })}`, buttonBoxShadowHover: 'inset 0 0 0 1px #0000', buttonBoxShadow: 'inset 0 0 0 1px #0000', buttonBorderRadius: borderRadius });\n};\nconst radioLight = {\n    name: 'Radio',\n    common: commonLight,\n    self\n};\nexport default radioLight;\n","import { inject, ref, toRef } from 'vue';\nimport { useMemo, useMergedState } from 'vooks';\nimport { useConfig, useFormItem } from '../../_mixins';\nimport { warn, call } from '../../_utils';\nconst radioProps = {\n    name: String,\n    value: {\n        type: [String, Number],\n        default: 'on'\n    },\n    checked: {\n        type: Boolean,\n        default: undefined\n    },\n    defaultChecked: Boolean,\n    disabled: {\n        type: Boolean,\n        default: undefined\n    },\n    size: String,\n    'onUpdate:checked': [Function, Array],\n    // deprecated\n    checkedValue: {\n        type: Boolean,\n        validator: () => {\n            warn('radio', '`checked-value` is deprecated, please use `checked` instead.');\n            return true;\n        },\n        default: undefined\n    }\n};\nexport const radioGroupInjectionKey = Symbol('radioGroup');\nfunction setup(props) {\n    const formItem = useFormItem(props, {\n        mergedSize(NFormItem) {\n            const { size } = props;\n            if (size !== undefined)\n                return size;\n            if (NRadioGroup) {\n                const { mergedSizeRef: { value: mergedSize } } = NRadioGroup;\n                if (mergedSize !== undefined) {\n                    return mergedSize;\n                }\n            }\n            if (NFormItem) {\n                return NFormItem.mergedSize.value;\n            }\n            return 'medium';\n        },\n        mergedDisabled(NFormItem) {\n            if (props.disabled)\n                return true;\n            if (NRadioGroup === null || NRadioGroup === void 0 ? void 0 : NRadioGroup.disabledRef.value)\n                return true;\n            if (NFormItem === null || NFormItem === void 0 ? void 0 : NFormItem.disabled.value)\n                return true;\n            return false;\n        }\n    });\n    const { mergedSizeRef, mergedDisabledRef } = formItem;\n    const inputRef = ref(null);\n    const labelRef = ref(null);\n    const NRadioGroup = inject(radioGroupInjectionKey, null);\n    const uncontrolledCheckedRef = ref(props.defaultChecked);\n    const controlledCheckedRef = toRef(props, 'checked');\n    const mergedCheckedRef = useMergedState(controlledCheckedRef, uncontrolledCheckedRef);\n    const renderSafeCheckedRef = useMemo(() => {\n        if (NRadioGroup)\n            return NRadioGroup.valueRef.value === props.value;\n        return mergedCheckedRef.value;\n    });\n    const mergedNameRef = useMemo(() => {\n        const { name } = props;\n        if (name !== undefined)\n            return name;\n        if (NRadioGroup)\n            return NRadioGroup.nameRef.value;\n    });\n    const focusRef = ref(false);\n    function doUpdateChecked() {\n        if (NRadioGroup) {\n            const { doUpdateValue } = NRadioGroup;\n            const { value } = props;\n            call(doUpdateValue, value);\n        }\n        else {\n            const { 'onUpdate:checked': updateChecked } = props;\n            const { nTriggerFormInput, nTriggerFormChange } = formItem;\n            if (updateChecked)\n                call(updateChecked, true);\n            nTriggerFormInput();\n            nTriggerFormChange();\n            uncontrolledCheckedRef.value = true;\n        }\n    }\n    function toggle() {\n        if (mergedDisabledRef.value)\n            return;\n        if (!renderSafeCheckedRef.value) {\n            doUpdateChecked();\n        }\n    }\n    function handleRadioInputChange() {\n        toggle();\n    }\n    function handleRadioInputBlur() {\n        focusRef.value = false;\n    }\n    function handleRadioInputFocus() {\n        focusRef.value = true;\n    }\n    function handleKeyUp(e) {\n        var _a;\n        switch (e.code) {\n            case 'Enter':\n            case 'NumpadEnter':\n                (_a = inputRef.value) === null || _a === void 0 ? void 0 : _a.click();\n        }\n    }\n    function handleMouseDown() {\n        if (mergedDisabledRef.value)\n            return;\n        setTimeout(() => {\n            var _a, _b;\n            if (!((_a = labelRef.value) === null || _a === void 0 ? void 0 : _a.contains(document.activeElement))) {\n                (_b = inputRef.value) === null || _b === void 0 ? void 0 : _b.focus();\n            }\n        }, 0);\n    }\n    function handleClick() {\n        var _a;\n        (_a = inputRef.value) === null || _a === void 0 ? void 0 : _a.click();\n    }\n    return {\n        mergedClsPrefix: NRadioGroup\n            ? NRadioGroup.mergedClsPrefixRef\n            : useConfig(props).mergedClsPrefixRef,\n        inputRef,\n        labelRef,\n        mergedName: mergedNameRef,\n        mergedDisabled: mergedDisabledRef,\n        uncontrolledChecked: uncontrolledCheckedRef,\n        renderSafeChecked: renderSafeCheckedRef,\n        focus: focusRef,\n        mergedSize: mergedSizeRef,\n        handleRadioInputChange,\n        handleRadioInputBlur,\n        handleRadioInputFocus,\n        handleKeyUp,\n        handleMouseDown,\n        handleClick\n    };\n}\nsetup.props = radioProps;\nexport default setup;\n","import { c, cE, cM, cNotM, cB } from '../../../_utils/cssr'; // vars:\n// --bezier\n// --box-shadow\n// --box-shadow-active\n// --box-shadow-disabled\n// --box-shadow-focus\n// --box-shadow-hover\n// --color\n// --color-disabled\n// --dot-color-active\n// --dot-color-disabled\n// --font-size\n// --radio-size\n// --text-color\n// --text-color-disabled\n// --label-padding\n\nexport default cB('radio', `\n line-height: 1;\n outline: none;\n position: relative;\n user-select: none;\n display: inline-flex;\n vertical-align: middle;\n align-items: center;\n font-size: var(--font-size);\n`, [cE('dot', `\n height: var(--radio-size);\n width: var(--radio-size);\n `), cE('radio-input', `\n border: 0;\n width: 0;\n height: 0;\n opacity: 0;\n margin: 0;\n `), cE('dot', `\n background: var(--color);\n box-shadow: var(--box-shadow);\n transition:\n background-color .3s var(--bezier),\n box-shadow .3s var(--bezier);\n position: relative;\n border-radius: 50%;\n `, [c('&::before', `\n content: \"\";\n opacity: 0;\n position: absolute;\n left: 4px;\n top: 4px;\n height: calc(100% - 8px);\n width: calc(100% - 8px);\n border-radius: 50%;\n transform: scale(.8);\n background: var(--dot-color-active);\n transition: \n opacity .3s var(--bezier),\n background-color .3s var(--bezier),\n transform .3s var(--bezier);\n `), cM('checked', {\n  boxShadow: 'var(--box-shadow-active)'\n}, [c('&::before', `\n opacity: 1;\n transform: scale(1);\n `)])]), cE('label', `\n color: var(--text-color);\n padding: var(--label-padding);\n display: inline-block;\n white-space: nowrap;\n transition: color .3s var(--bezier);\n `), cNotM('disabled', `\n cursor: pointer;\n `, [c('&:hover', [cE('dot', {\n  boxShadow: 'var(--box-shadow-hover)'\n})]), cM('focus', [c('&:not(:active)', [cE('dot', {\n  boxShadow: 'var(--box-shadow-focus)'\n})])])]), cM('disabled', `\n cursor: not-allowed;\n `, [cE('dot', {\n  boxShadow: 'var(--box-shadow-disabled)',\n  backgroundColor: 'var(--color-disabled)'\n}, [c('&::before', {\n  backgroundColor: 'var(--dot-color-disabled)'\n}), cM('checked', `\n transform: scale(1);\n opacity: 1;\n `)]), cE('label', {\n  color: 'var(--text-color-disabled)'\n})])]);","import { h, defineComponent, computed } from 'vue';\nimport { useTheme } from '../../_mixins';\nimport { createKey } from '../../_utils';\nimport { radioLight } from '../styles';\nimport useRadio from './use-radio';\nimport style from './styles/radio.cssr';\nexport default defineComponent({\n    name: 'Radio',\n    props: Object.assign(Object.assign({}, useTheme.props), useRadio.props),\n    setup(props) {\n        const radio = useRadio(props);\n        const themeRef = useTheme('Radio', 'Radio', style, radioLight, props, radio.mergedClsPrefix);\n        return Object.assign(radio, {\n            cssVars: computed(() => {\n                const { mergedSize: { value: size } } = radio;\n                const { common: { cubicBezierEaseInOut }, self: { boxShadow, boxShadowActive, boxShadowDisabled, boxShadowFocus, boxShadowHover, color, colorDisabled, textColor, textColorDisabled, dotColorActive, dotColorDisabled, labelPadding, [createKey('fontSize', size)]: fontSize, [createKey('radioSize', size)]: radioSize } } = themeRef.value;\n                return {\n                    '--bezier': cubicBezierEaseInOut,\n                    '--box-shadow': boxShadow,\n                    '--box-shadow-active': boxShadowActive,\n                    '--box-shadow-disabled': boxShadowDisabled,\n                    '--box-shadow-focus': boxShadowFocus,\n                    '--box-shadow-hover': boxShadowHover,\n                    '--color': color,\n                    '--color-disabled': colorDisabled,\n                    '--dot-color-active': dotColorActive,\n                    '--dot-color-disabled': dotColorDisabled,\n                    '--font-size': fontSize,\n                    '--radio-size': radioSize,\n                    '--text-color': textColor,\n                    '--text-color-disabled': textColorDisabled,\n                    '--label-padding': labelPadding\n                };\n            })\n        });\n    },\n    render() {\n        const { $slots, mergedClsPrefix } = this;\n        return (h(\"div\", { class: [\n                `${mergedClsPrefix}-radio`,\n                {\n                    [`${mergedClsPrefix}-radio--disabled`]: this.mergedDisabled,\n                    [`${mergedClsPrefix}-radio--checked`]: this.renderSafeChecked,\n                    [`${mergedClsPrefix}-radio--focus`]: this.focus\n                }\n            ], style: this.cssVars, onKeyup: this.handleKeyUp, onClick: this.handleClick, onMousedown: this.handleMouseDown },\n            h(\"input\", { ref: \"inputRef\", type: \"radio\", class: `${mergedClsPrefix}-radio__radio-input`, value: this.value, name: this.mergedName, checked: this.renderSafeChecked, disabled: this.mergedDisabled, onChange: this.handleRadioInputChange, onFocus: this.handleRadioInputFocus, onBlur: this.handleRadioInputBlur }),\n            h(\"div\", { class: [\n                    `${mergedClsPrefix}-radio__dot`,\n                    this.renderSafeChecked && `${mergedClsPrefix}-radio__dot--checked`\n                ] }),\n            $slots.default ? (h(\"div\", { ref: \"labelRef\", class: `${mergedClsPrefix}-radio__label` }, $slots.default())) : null));\n    }\n});\n","import { commonLight } from '../../_styles/common';\nexport const self = (vars) => {\n    const { textColorBase, opacity1, opacity2, opacity3, opacity4, opacity5 } = vars;\n    return {\n        color: textColorBase,\n        opacity1Depth: opacity1,\n        opacity2Depth: opacity2,\n        opacity3Depth: opacity3,\n        opacity4Depth: opacity4,\n        opacity5Depth: opacity5\n    };\n};\nconst iconLight = {\n    name: 'Icon',\n    common: commonLight,\n    self\n};\nexport default iconLight;\n","import { c, cB, cM } from '../../../_utils/cssr'; // vars:\n// --bezier\n// --color\n// --opacity\n\nexport default cB('icon', `\n height: 1em;\n width: 1em;\n line-height: 1em;\n text-align: center;\n display: inline-block;\n position: relative;\n fill: currentColor;\n transform: translateZ(0);\n`, [cM('color-transition', {\n  transition: 'color .3s var(--bezier)'\n}), cM('depth', {\n  color: 'var(--color)'\n}, [c('svg', {\n  opacity: 'var(--opacity)',\n  transition: 'opacity .3s var(--bezier)'\n})]), c('svg', {\n  height: '1em',\n  width: '1em'\n})]);","import { h, defineComponent, computed, mergeProps } from 'vue';\nimport { useConfig, useTheme } from '../../_mixins';\nimport { formatLength, warn } from '../../_utils';\nimport { iconLight } from '../styles';\nimport style from './styles/index.cssr';\nexport default defineComponent({\n    _n_icon__: true,\n    name: 'Icon',\n    inheritAttrs: false,\n    props: Object.assign(Object.assign({}, useTheme.props), { depth: [String, Number], size: [Number, String], color: String }),\n    setup(props) {\n        const { mergedClsPrefixRef } = useConfig(props);\n        const themeRef = useTheme('Icon', 'Icon', style, iconLight, props, mergedClsPrefixRef);\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            mergedStyle: computed(() => {\n                const { size, color } = props;\n                return {\n                    fontSize: formatLength(size),\n                    color\n                };\n            }),\n            cssVars: computed(() => {\n                const { depth } = props;\n                const { common: { cubicBezierEaseInOut }, self } = themeRef.value;\n                if (depth !== undefined) {\n                    const { color, [`opacity${depth}Depth`]: opacity } = self;\n                    return {\n                        '--bezier': cubicBezierEaseInOut,\n                        '--color': color,\n                        '--opacity': opacity\n                    };\n                }\n                return {\n                    '--bezier': cubicBezierEaseInOut\n                };\n            })\n        };\n    },\n    render() {\n        var _a;\n        const { $parent, depth, mergedClsPrefix } = this;\n        if ((_a = $parent === null || $parent === void 0 ? void 0 : $parent.$options) === null || _a === void 0 ? void 0 : _a._n_icon__) {\n            warn('icon', \"don't wrap `n-icon` inside `n-icon`\");\n        }\n        return h('i', mergeProps(this.$attrs, {\n            role: 'img',\n            class: [\n                `${mergedClsPrefix}-icon`,\n                {\n                    [`${mergedClsPrefix}-icon--depth`]: depth,\n                    [`${mergedClsPrefix}-icon--color-transition`]: depth !== undefined\n                }\n            ],\n            style: Object.assign(this.cssVars, this.mergedStyle)\n        }), this.$slots);\n    }\n});\n","export default {\n    iconSize: '22px'\n};\n","import { buttonLight } from '../../button/styles';\nimport { popoverLight } from '../../popover/styles';\nimport { createTheme } from '../../_mixins';\nimport { commonLight } from '../../_styles/common';\nimport commonVars from './_common';\nexport const self = (vars) => {\n    const { fontSize, warningColor } = vars;\n    return Object.assign(Object.assign({}, commonVars), { fontSize, iconColor: warningColor });\n};\nconst popconfirmLight = createTheme({\n    name: 'Popconfirm',\n    common: commonLight,\n    peers: {\n        Button: buttonLight,\n        Popover: popoverLight\n    },\n    self\n});\nexport default popconfirmLight;\n","export const popconfirmInjectionKey = Symbol('popconfirm');\n","import { h, defineComponent, computed, inject, renderSlot } from 'vue';\nimport { NButton } from '../../button';\nimport { NBaseIcon } from '../../_internal';\nimport { WarningIcon } from '../../_internal/icons';\nimport { useLocale } from '../../_mixins';\nimport { keysOf } from '../../_utils';\nimport { popconfirmInjectionKey } from './interface';\nexport const panelProps = {\n    positiveText: String,\n    negativeText: String,\n    showIcon: {\n        type: Boolean,\n        default: true\n    },\n    onPositiveClick: {\n        type: Function,\n        required: true\n    },\n    onNegativeClick: {\n        type: Function,\n        required: true\n    }\n};\nexport const panelPropKeys = keysOf(panelProps);\nexport default defineComponent({\n    name: 'NPopconfirmPanel',\n    props: panelProps,\n    setup(props) {\n        const { localeRef } = useLocale('Popconfirm');\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const { mergedClsPrefixRef, mergedThemeRef } = inject(popconfirmInjectionKey);\n        return Object.assign(Object.assign({}, useLocale('Popconfirm')), { mergedClsPrefix: mergedClsPrefixRef, cssVars: computed(() => {\n                const { common: { cubicBezierEaseInOut }, self: { fontSize, iconSize, iconColor } } = mergedThemeRef.value;\n                return {\n                    '--bezier': cubicBezierEaseInOut,\n                    '--font-size': fontSize,\n                    '--icon-size': iconSize,\n                    '--icon-color': iconColor\n                };\n            }), localizedPositiveText: computed(() => {\n                return props.positiveText || localeRef.value.positiveText;\n            }), localizedNegativeText: computed(() => {\n                return props.negativeText || localeRef.value.negativeText;\n            }), handlePositiveClick(e) {\n                props.onPositiveClick(e);\n            },\n            handleNegativeClick(e) {\n                props.onNegativeClick(e);\n            } });\n    },\n    render() {\n        const { mergedClsPrefix, $slots } = this;\n        const actionContentNode = $slots.action\n            ? $slots.action()\n            : this.negativeText === null && this.positiveText === null\n                ? null\n                : [\n                    this.negativeText !== null && (h(NButton, { size: \"small\", onClick: this.handleNegativeClick }, { default: () => this.localizedNegativeText })),\n                    this.positiveText !== null && (h(NButton, { size: \"small\", type: \"primary\", onClick: this.handlePositiveClick }, { default: () => this.localizedPositiveText }))\n                ];\n        return (h(\"div\", { style: this.cssVars },\n            h(\"div\", { class: `${mergedClsPrefix}-popconfirm__body` },\n                this.showIcon ? (h(\"div\", { class: `${mergedClsPrefix}-popconfirm__icon` }, renderSlot($slots, 'icon', undefined, () => [\n                    h(NBaseIcon, { clsPrefix: mergedClsPrefix }, { default: () => h(WarningIcon, null) })\n                ]))) : null,\n                renderSlot($slots, 'default')),\n            actionContentNode ? (h(\"div\", { class: `${mergedClsPrefix}-popconfirm__action` }, actionContentNode)) : null));\n    }\n});\n","import { c, cB, cE } from '../../../_utils/cssr'; // vars:\n// --font-size\n// --icon-size\n// --bezier\n// --icon-color\n\nexport default cB('popconfirm', [cE('body', `\n font-size: var(--font-size);\n display: flex;\n align-items: center;\n flex-wrap: nowrap;\n position: relative;\n `, [cE('icon', `\n display: flex;\n font-size: var(--icon-size);\n color: var(--icon-color);\n transition: color .3s var(--bezier);\n margin: 0 8px 0 0;\n `)]), cE('action', `\n margin-top: 8px;\n display: flex;\n justify-content: flex-end;\n `, [cB('button', [c('&:not(:last-child)', {\n  marginRight: '8px'\n})])])]);","import { h, ref, defineComponent, provide } from 'vue';\nimport { NPopover } from '../../popover';\nimport { popoverBaseProps } from '../../popover/src/Popover';\nimport { omit, keep, call } from '../../_utils';\nimport { useConfig, useTheme } from '../../_mixins';\nimport { popconfirmLight } from '../styles';\nimport PopconfirmPanel, { panelPropKeys } from './PopconfirmPanel';\nimport style from './styles/index.cssr';\nimport { popconfirmInjectionKey } from './interface';\nconst popconfirmProps = Object.assign(Object.assign(Object.assign({}, useTheme.props), popoverBaseProps), { positiveText: String, negativeText: String, showIcon: {\n        type: Boolean,\n        default: true\n    }, trigger: {\n        type: String,\n        default: 'click'\n    }, onPositiveClick: Function, onNegativeClick: Function });\nexport default defineComponent({\n    name: 'Popconfirm',\n    props: popconfirmProps,\n    __popover__: true,\n    setup(props) {\n        const { mergedClsPrefixRef } = useConfig();\n        const themeRef = useTheme('Popconfirm', 'Popconfirm', style, popconfirmLight, props, mergedClsPrefixRef);\n        const popoverInstRef = ref(null);\n        function handlePositiveClick(e) {\n            const { onPositiveClick, 'onUpdate:show': onUpdateShow } = props;\n            void Promise.resolve(onPositiveClick ? onPositiveClick(e) : true).then((value) => {\n                var _a;\n                if (value === false)\n                    return;\n                (_a = popoverInstRef.value) === null || _a === void 0 ? void 0 : _a.setShow(false);\n                if (onUpdateShow)\n                    call(onUpdateShow, false);\n            });\n        }\n        function handleNegativeClick(e) {\n            const { onNegativeClick, 'onUpdate:show': onUpdateShow } = props;\n            void Promise.resolve(onNegativeClick ? onNegativeClick(e) : true).then((value) => {\n                var _a;\n                if (value === false)\n                    return;\n                (_a = popoverInstRef.value) === null || _a === void 0 ? void 0 : _a.setShow(false);\n                if (onUpdateShow)\n                    call(onUpdateShow, false);\n            });\n        }\n        provide(popconfirmInjectionKey, {\n            mergedThemeRef: themeRef,\n            mergedClsPrefixRef\n        });\n        return {\n            mergedTheme: themeRef,\n            popoverInstRef,\n            handlePositiveClick,\n            handleNegativeClick\n        };\n    },\n    render() {\n        const { $slots: slots, $props: props, mergedTheme } = this;\n        return h(NPopover, omit(props, panelPropKeys, {\n            theme: mergedTheme.peers.Popover,\n            themeOverrides: mergedTheme.peerOverrides.Popover,\n            internalExtraClass: ['popconfirm'],\n            ref: 'popoverInstRef'\n        }), {\n            trigger: slots.activator || slots.trigger,\n            default: () => {\n                const panelProps = keep(props, panelPropKeys);\n                return h(PopconfirmPanel, Object.assign(Object.assign({}, panelProps), { onPositiveClick: this.handlePositiveClick, onNegativeClick: this.handleNegativeClick }), slots);\n            }\n        });\n    }\n});\n","import { commonLight } from '../../_styles/common';\nexport const self = (vars) => {\n    const { opacityDisabled, heightTiny, heightSmall, heightMedium, heightLarge, heightHuge, primaryColor, fontSize } = vars;\n    return {\n        fontSize,\n        textColor: primaryColor,\n        sizeTiny: heightTiny,\n        sizeSmall: heightSmall,\n        sizeMedium: heightMedium,\n        sizeLarge: heightLarge,\n        sizeHuge: heightHuge,\n        color: primaryColor,\n        opacitySpinning: opacityDisabled\n    };\n};\nconst spinLight = {\n    name: 'Spin',\n    common: commonLight,\n    self\n};\nexport default spinLight;\n","import { c, cM, cB } from '../../../_utils/cssr';\nimport fadeInTransition from '../../../_styles/transitions/fade-in.cssr'; // vars:\n// --bezier\n// --opacity-spinning\n// --size\n// --color\n// --text-color\n// --font-size\n\nexport default c([c('@keyframes spin-rotate', `\n from {\n transform: rotate(0);\n }\n to {\n transform: rotate(360deg);\n }\n `), cB('spin-container', {\n  position: 'relative'\n}, [cB('spin-body', `\n position: absolute;\n top: 50%;\n left: 50%;\n transform: translateX(-50%) translateY(-50%);\n `, [fadeInTransition()])]), cB('spin-body', `\n display: inline-flex;\n align-items: center;\n justify-content: center;\n flex-direction: column;\n `), cB('spin', `\n display: inline-flex;\n height: var(--size);\n width: var(--size);\n font-size: var(--size);\n color: var(--color);\n `, [cM('rotate', `\n animation: spin-rotate 2s linear infinite;\n `)]), cB('spin-description', `\n display: inline-block;\n font-size: var(--font-size);\n color: var(--text-color);\n transition: color .3s var(--bezier);\n margin-top: 8px;\n `), cB('spin-content', `\n opacity: 1;\n transition: opacity .3s var(--bezier);\n pointer-events: all;\n `, [cM('spinning', `\n user-select: none;\n pointer-events: none;\n opacity: var(--opacity-spinning);\n `)])]);","import { computed, defineComponent, h, Transition, watchEffect } from 'vue';\nimport { useCompitable } from 'vooks';\nimport { pxfy } from 'seemly';\nimport { NBaseLoading } from '../../_internal';\nimport { useConfig, useTheme } from '../../_mixins';\nimport { createKey, warnOnce } from '../../_utils';\nimport { spinLight } from '../styles';\nimport style from './styles/index.cssr';\nconst STROKE_WIDTH = {\n    small: 20,\n    medium: 18,\n    large: 16\n};\nconst spinProps = Object.assign(Object.assign({}, useTheme.props), { description: String, stroke: String, size: {\n        type: [String, Number],\n        default: 'medium'\n    }, show: {\n        type: Boolean,\n        default: true\n    }, strokeWidth: Number, rotate: {\n        type: Boolean,\n        default: true\n    }, spinning: {\n        type: Boolean,\n        validator: () => {\n            return true;\n        },\n        default: undefined\n    } });\nexport default defineComponent({\n    name: 'Spin',\n    props: spinProps,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.spinning !== undefined) {\n                    warnOnce('spin', '`spinning` is deprecated, please use `show` instead.');\n                }\n            });\n        }\n        const { mergedClsPrefixRef } = useConfig(props);\n        const themeRef = useTheme('Spin', 'Spin', style, spinLight, props, mergedClsPrefixRef);\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            compitableShow: useCompitable(props, ['spinning', 'show']),\n            mergedStrokeWidth: computed(() => {\n                const { strokeWidth } = props;\n                if (strokeWidth !== undefined)\n                    return strokeWidth;\n                const { size } = props;\n                return STROKE_WIDTH[typeof size === 'number' ? 'medium' : size];\n            }),\n            cssVars: computed(() => {\n                const { size: spinSize } = props;\n                const { common: { cubicBezierEaseInOut }, self } = themeRef.value;\n                const { opacitySpinning, color, textColor } = self;\n                const size = typeof spinSize === 'number'\n                    ? pxfy(spinSize)\n                    : self[createKey('size', spinSize)];\n                return {\n                    '--bezier': cubicBezierEaseInOut,\n                    '--opacity-spinning': opacitySpinning,\n                    '--size': size,\n                    '--color': color,\n                    '--text-color': textColor\n                };\n            })\n        };\n    },\n    render() {\n        var _a;\n        const { $slots, mergedClsPrefix, description } = this;\n        const rotate = $slots.icon && this.rotate;\n        const descriptionNode = (description || $slots.description) && (h(\"div\", { class: `${mergedClsPrefix}-spin-description` }, description || ((_a = $slots.description) === null || _a === void 0 ? void 0 : _a.call($slots))));\n        const icon = $slots.icon ? (h(\"div\", { class: `${mergedClsPrefix}-spin-body` },\n            h(\"div\", { class: [\n                    `${mergedClsPrefix}-spin`,\n                    rotate && `${mergedClsPrefix}-spin--rotate`\n                ], style: $slots.default ? '' : this.cssVars }, $slots.icon()),\n            descriptionNode)) : (h(\"div\", { class: `${mergedClsPrefix}-spin-body` },\n            h(NBaseLoading, { clsPrefix: mergedClsPrefix, style: $slots.default ? '' : this.cssVars, stroke: this.stroke, \"stroke-width\": this.mergedStrokeWidth, class: `${mergedClsPrefix}-spin` }),\n            descriptionNode));\n        return $slots.default ? (h(\"div\", { class: `${mergedClsPrefix}-spin-container`, style: this.cssVars },\n            h(\"div\", { class: [\n                    `${mergedClsPrefix}-spin-content`,\n                    this.compitableShow && `${mergedClsPrefix}-spin-content--spinning`\n                ] }, $slots),\n            h(Transition, { name: \"fade-in-transition\" }, {\n                default: () => (this.compitableShow ? icon : null)\n            }))) : (icon);\n    }\n});\n","export const APP_NAME = 'pose-search';\r\nexport const LANDMARK_VISIBILITY_ACCEPTABLE_THRESHOLD = 0.6;\r\nexport const MAX_NUM_OF_SEARCH_RESULTS = 100;","export function loadImage(url: string) {\r\n    return new Promise<HTMLImageElement>(function (resolve, reject) {\r\n        const img = new Image();\r\n        img.onload = function () {\r\n            resolve(img);\r\n        };\r\n        img.onabort = img.onerror = reject;\r\n        img.crossOrigin = 'anonymous';\r\n        img.src = url;\r\n    });\r\n}","export enum BodyPart {\r\n    trunk = 'trunk',\r\n    head = 'head',\r\n    leftUpperArm = 'leftUpperArm',\r\n    leftLowerArm = 'leftLowerArm',\r\n    leftHand = 'leftHand',\r\n    leftThigh = 'leftThigh',\r\n    leftCalf = 'leftCalf',\r\n    leftFoot = 'leftFoot',\r\n    rightUpperArm = 'rightUpperArm',\r\n    rightLowerArm = 'rightLowerArm',\r\n    rightHand = 'rightHand',\r\n    rightThigh = 'rightThigh',\r\n    rightCalf = 'rightCalf',\r\n    rightFoot = 'rightFoot',\r\n}","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nexport var perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nexport var ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\n * Quaternion\n * @module quat\n */\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyVec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\n * Gets the rotation axis and angle for a given\n *  quaternion. If a quaternion is created with\n *  setAxisAngle, this method will return the same\n *  values as providied in the original parameter list\n *  OR functionally equivalent values.\n * Example: The quaternion formed by axis [0, 0, 1] and\n *  angle -90 is the same as the quaternion formed by\n *  [0, 0, 1] and 270. This method favors the latter.\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\n * @return {Number}     Angle, in radians, of the rotation\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\n * Gets the angular distance between two unit quaternions\n *\n * @param  {ReadonlyQuat} a     Origin unit quaternion\n * @param  {ReadonlyQuat} b     Destination unit quaternion\n * @return {Number}     Angle, in radians, between the two quaternions\n */\n\nexport function getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate W component of\n * @returns {quat} out\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\n * Calculate the exponential of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\n * Calculate the natural logarithm of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\n * Calculate the scalar power of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @param {Number} b amount to scale the quaternion by\n * @returns {quat} out\n */\n\nexport function pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\n * Generates a random unit quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate inverse of\n * @returns {quat} out\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate conjugate of\n * @returns {quat} out\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyMat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {x} Angle to rotate around X axis in degrees.\n * @param {y} Angle to rotate around Y axis in degrees.\n * @param {z} Angle to rotate around Z axis in degrees.\n * @returns {quat} out\n * @function\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\n * Returns a string representation of a quatenion\n *\n * @param {ReadonlyQuat} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var clone = vec4.clone;\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var fromValues = vec4.fromValues;\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the source quaternion\n * @returns {quat} out\n * @function\n */\n\nexport var copy = vec4.copy;\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\n\nexport var set = vec4.set;\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n * @function\n */\n\nexport var add = vec4.add;\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {ReadonlyQuat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\n\nexport var scale = vec4.scale;\n/**\n * Calculates the dot product of two quat's\n *\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexport var dot = vec4.dot;\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n * @function\n */\n\nexport var lerp = vec4.lerp;\n/**\n * Calculates the length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport var length = vec4.length;\n/**\n * Alias for {@link quat.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Calculates the squared length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\n\nexport var normalize = vec4.normalize;\n/**\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat} a The first quaternion.\n * @param {ReadonlyQuat} b The second quaternion.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\n * Returns whether or not the quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat} a The first vector.\n * @param {ReadonlyQuat} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var equals = vec4.equals;\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {ReadonlyVec3} a the initial vector\n * @param {ReadonlyVec3} b the destination vector\n * @returns {quat} out\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\n * Performs a spherical linear interpolation with two control points\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {ReadonlyQuat} c the third operand\n * @param {ReadonlyQuat} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();","import {mat3, mat4, quat, ReadonlyMat4, ReadonlyVec3, vec3} from 'gl-matrix';\r\n\r\nexport function getVertical(out: vec3, vec: ReadonlyVec3) {\r\n    if (Math.abs(vec[0]) > Math.abs(vec[2])) {\r\n        out[0] = -vec[1];\r\n        out[1] = vec[0];\r\n        out[2] = 0;\r\n    } else {\r\n        out[0] = 0;\r\n        out[1] = -vec[2];\r\n        out[2] = vec[1];\r\n    }\r\n}\r\n\r\nexport const getVerticalInDir = (function () {\r\n    const tmp_vec = vec3.create();\r\n    const ZERO = vec3.fromValues(0, 0, 0);\r\n    return function (out: vec3, vec: ReadonlyVec3, dir: ReadonlyVec3) {\r\n        vec3.cross(tmp_vec, vec, dir);\r\n        vec3.normalize(tmp_vec, tmp_vec);\r\n        if (vec3.exactEquals(tmp_vec, ZERO)) {\r\n            getVertical(tmp_vec, vec);\r\n        }\r\n        vec3.cross(out, vec, dir);\r\n        if (vec3.dot(out, dir) < 0) {\r\n            vec3.negate(out, out);\r\n        }\r\n        vec3.normalize(out, out);\r\n        return out;\r\n    };\r\n})();\r\n\r\nexport const quatFromTwoUnitVec = (function () {\r\n    const tmp_vert = new Float32Array(3);\r\n    return function (out: quat, from: ReadonlyVec3, to: ReadonlyVec3) {\r\n        const r = vec3.dot(from, to) + 1;\r\n        if (r < 1e-8) {\r\n            if (Math.abs(from[0]) > Math.abs(from[2])) {\r\n                out[0] = -from[1];\r\n                out[1] = from[0];\r\n                out[2] = 0;\r\n                out[3] = 0;\r\n            } else {\r\n                out[0] = 0;\r\n                out[1] = -from[2];\r\n                out[2] = from[1];\r\n                out[3] = 0;\r\n            }\r\n        } else {\r\n            vec3.cross(tmp_vert, from, to);\r\n            out[0] = tmp_vert[0];\r\n            out[1] = tmp_vert[1];\r\n            out[2] = tmp_vert[2];\r\n            out[3] = r;\r\n        }\r\n        return quat.normalize(out, out);\r\n    };\r\n})();\r\n\r\nexport const quatFromTwoVec = (function () {\r\n    const tmp_a = new Float32Array(3);\r\n    const tmp_b = new Float32Array(3);\r\n    return function (out: quat, from: ReadonlyVec3, to: ReadonlyVec3) {\r\n        vec3.normalize(tmp_a, from);\r\n        vec3.normalize(tmp_b, to);\r\n        return quatFromTwoUnitVec(out, tmp_a, tmp_b);\r\n    };\r\n})();\r\n\r\nexport const quatLookRotation = (function () {\r\n    const tmp_a = new Float32Array(3);\r\n    const tmp_b = new Float32Array(3);\r\n    const tmp_mat3 = mat3.create();\r\n    return function (out: quat, forward: ReadonlyVec3, up: ReadonlyVec3) {\r\n        vec3.cross(tmp_a, up, forward);\r\n        vec3.normalize(tmp_a, tmp_a);\r\n        vec3.cross(tmp_b, forward, tmp_a);\r\n\r\n        tmp_mat3[0] = tmp_a[0];\r\n        tmp_mat3[1] = tmp_a[1];\r\n        tmp_mat3[2] = tmp_a[2];\r\n\r\n        tmp_mat3[3] = tmp_b[0];\r\n        tmp_mat3[4] = tmp_b[1];\r\n        tmp_mat3[5] = tmp_b[2];\r\n\r\n        tmp_mat3[6] = forward[0];\r\n        tmp_mat3[7] = forward[1];\r\n        tmp_mat3[8] = forward[2];\r\n\r\n        return quat.fromMat3(out, tmp_mat3);\r\n    };\r\n})();\r\n\r\nexport const transformInvMat4 = (function () {\r\n    const tmp_invMat = mat4.create();\r\n    return function (out: vec3, vec: ReadonlyVec3, mat: ReadonlyMat4) {\r\n        mat4.invert(tmp_invMat, mat);\r\n        return vec3.transformMat4(out, vec, tmp_invMat);\r\n    };\r\n})();\r\n\r\nexport function angleBetweenVec3(a: ReadonlyVec3, b: ReadonlyVec3) {\r\n    const dot = vec3.dot(a, b);\r\n    const sqrLen = vec3.sqrLen(a) * vec3.sqrLen(b);\r\n    const len = Math.sqrt(sqrLen);\r\n    const cos = dot / len;\r\n    if (!isFinite(cos)) {\r\n        return 0;\r\n    }\r\n    return Math.acos(cos);\r\n}","import Geometry from '../../utils/render/Geometry';\r\n\r\nexport default class ObjLoader {\r\n\r\n    private vertexArr: [number, number, number][] = [];\r\n    private normalArr: [number, number, number][] = [];\r\n    private indexArr: [number, number][][] = [];\r\n\r\n    private _lowerX: number = 0;\r\n    private _lowerY: number = 0;\r\n    private _lowerZ: number = 0;\r\n    private _upperX: number = 0;\r\n    private _upperY: number = 0;\r\n    private _upperZ: number = 0;\r\n    private _xRange: number = 0;\r\n    private _yRange: number = 0;\r\n    private _zRange: number = 0;\r\n\r\n    load(src: string) {\r\n        const vertexArr = this.vertexArr;\r\n        const normalArr = this.normalArr;\r\n        const indexArr = this.indexArr;\r\n        const lines = src.split('\\n');\r\n        let lowerX: number = Infinity;\r\n        let lowerY: number = Infinity;\r\n        let lowerZ: number = Infinity;\r\n        let upperX: number = -Infinity;\r\n        let upperY: number = -Infinity;\r\n        let upperZ: number = -Infinity;\r\n        for (let i = 0, len = lines.length; i < len; ++i) {\r\n            const line = lines[i].trim();\r\n            if (!line) {\r\n                continue;\r\n            }\r\n            const parts = line.split(' ');\r\n            switch (parts[0]) {\r\n                case 'v': {\r\n                    const x = Number(parts[1]) || 0;\r\n                    const y = Number(parts[2]) || 0;\r\n                    const z = Number(parts[3]) || 0;\r\n                    vertexArr.push([x, y, z]);\r\n                    lowerX = Math.min(lowerX, x);\r\n                    lowerY = Math.min(lowerY, y);\r\n                    lowerZ = Math.min(lowerZ, z);\r\n                    upperX = Math.max(upperX, x);\r\n                    upperY = Math.max(upperY, y);\r\n                    upperZ = Math.max(upperZ, z);\r\n                }\r\n                    break;\r\n                case 'vn': {\r\n                    const x = Number(parts[1]) || 0;\r\n                    const y = Number(parts[2]) || 0;\r\n                    const z = Number(parts[3]) || 0;\r\n                    normalArr.push([x, y, z]);\r\n                }\r\n                    break;\r\n                case 'f': {\r\n                    const face: [number, number][] = [];\r\n                    for (let j = 1, len = parts.length; j < len; ++j) {\r\n                        const vertexIndices = parts[j].split('/');\r\n                        face.push([\r\n                            Number(vertexIndices[0]) - 1,\r\n                            vertexIndices[2] ? Number(vertexIndices[2]) - 1 : -1\r\n                        ]);\r\n                    }\r\n                    indexArr.push(face);\r\n                }\r\n                    break;\r\n            }\r\n        }\r\n        this._lowerX = lowerX;\r\n        this._lowerY = lowerY;\r\n        this._lowerZ = lowerZ;\r\n        this._upperX = upperX;\r\n        this._upperY = upperY;\r\n        this._upperZ = upperZ;\r\n        this._xRange = upperX - lowerX;\r\n        this._yRange = upperY - lowerY;\r\n        this._zRange = upperZ - lowerZ;\r\n        return this;\r\n    }\r\n\r\n    translate(dx: number, dy: number, dz: number) {\r\n        const vertexArr = this.vertexArr;\r\n        for (let i = 0, len = vertexArr.length; i < len; ++i) {\r\n            const vertex = vertexArr[i];\r\n            vertex[0] += dx;\r\n            vertex[1] += dy;\r\n            vertex[2] += dz;\r\n        }\r\n        this._lowerX += dx;\r\n        this._upperX += dx;\r\n        this._lowerY += dy;\r\n        this._upperY += dy;\r\n        this._lowerZ += dz;\r\n        this._upperZ += dz;\r\n        return this;\r\n    }\r\n\r\n    setGeometryVertices(geometry: Geometry, color: number[] = [1, 1, 1, 1]) {\r\n        const vertices: { 'a_color': number[], 'a_position': number[], 'a_normal': number[] }[] = [];\r\n        const indices: number[] = [];\r\n\r\n        const vertexArr = this.vertexArr;\r\n        const normalArr = this.normalArr;\r\n        const indexArr = this.indexArr;\r\n        for (let i = 0, len = indexArr.length; i < len; ++i) {\r\n            const face = indexArr[i];\r\n            if (face.length !== 3 && face.length !== 4) {\r\n                throw new Error('Illegal face vertices num');\r\n            }\r\n            const index0 = vertices.length;\r\n            let needsCalculateNormal = false;\r\n            for (let j = 0, len = face.length; j < len; ++j) {\r\n                const vertexIndices = face[j];\r\n                const positionIndex = vertexIndices[0];\r\n                const normalIndex = vertexIndices[1];\r\n                const position = vertexArr[positionIndex];\r\n                if (normalIndex < 0) {\r\n                    needsCalculateNormal = true;\r\n                }\r\n                const normal = normalIndex < 0 ? [0, 0, 0] : normalArr[normalIndex];\r\n                vertices.push({'a_color': color, 'a_position': position, 'a_normal': normal});\r\n            }\r\n            if (needsCalculateNormal) {\r\n                // todo\r\n            }\r\n            if (face.length === 3) {\r\n                indices.push(index0, index0 + 1, index0 + 2);\r\n            } else {\r\n                indices.push(\r\n                    index0, index0 + 1, index0 + 2,\r\n                    index0, index0 + 2, index0 + 3,\r\n                );\r\n            }\r\n        }\r\n\r\n        geometry.setVertices(vertices);\r\n        geometry.indices = indices;\r\n    }\r\n\r\n    get lowerX(): number {\r\n        return this._lowerX;\r\n    }\r\n\r\n    get lowerY(): number {\r\n        return this._lowerY;\r\n    }\r\n\r\n    get lowerZ(): number {\r\n        return this._lowerZ;\r\n    }\r\n\r\n    get upperX(): number {\r\n        return this._upperX;\r\n    }\r\n\r\n    get upperY(): number {\r\n        return this._upperY;\r\n    }\r\n\r\n    get upperZ(): number {\r\n        return this._upperZ;\r\n    }\r\n\r\n    get xRange(): number {\r\n        return this._xRange;\r\n    }\r\n\r\n    get yRange(): number {\r\n        return this._yRange;\r\n    }\r\n\r\n    get zRange(): number {\r\n        return this._zRange;\r\n    }\r\n}","class Attribute {\r\n    name: string;\r\n    componentSize: number;\r\n    vertices: Float32Array;\r\n    vbo?: WebGLBuffer;\r\n\r\n    constructor(name: string, componentSize: number, vertices: Float32Array) {\r\n        this.name = name;\r\n        this.componentSize = componentSize;\r\n        this.vertices = vertices;\r\n    }\r\n}\r\n\r\nenum PrimitiveType {\r\n    TRIANGLES, LINES\r\n}\r\n\r\nexport default class Geometry {\r\n\r\n    static readonly TYPE_TRIANGLES = PrimitiveType.TRIANGLES;\r\n    static readonly TYPE_LINES = PrimitiveType.LINES;\r\n\r\n    type: PrimitiveType = PrimitiveType.TRIANGLES;\r\n    attributes: Attribute[] = [];\r\n    indices: number[] = [];\r\n    ibo?: WebGLBuffer;\r\n    vao?: WebGLVertexArrayObject;\r\n\r\n    constructor(type: PrimitiveType = PrimitiveType.TRIANGLES) {\r\n        this.type = type;\r\n    }\r\n\r\n    setVertices(vertices: { [name: string]: number[] }[]) {\r\n        const len = vertices.length;\r\n        const attributes: { [name: string]: Attribute } = {};\r\n        for (let attrName in vertices[0]) {\r\n            if (vertices[0].hasOwnProperty(attrName)) {\r\n                const size = vertices[0][attrName].length;\r\n                attributes[attrName] = new Attribute(\r\n                    attrName,\r\n                    size,\r\n                    new Float32Array(size * len)\r\n                );\r\n            }\r\n        }\r\n        for (let i = 0; i < len; ++i) {\r\n            const vertex = vertices[i];\r\n            for (let attrName in vertex) {\r\n                if (vertex.hasOwnProperty(attrName)) {\r\n                    const pointArr = vertex[attrName];\r\n                    attributes[attrName].vertices.set(pointArr, pointArr.length * i);\r\n                }\r\n            }\r\n        }\r\n        this.attributes = Object.values(attributes);\r\n    }\r\n\r\n}\r\n","import {mat4, quat, vec3} from 'gl-matrix';\r\nimport Geometry from '../../../utils/render/Geometry';\r\nimport Renderer from '../../../utils/render/Renderer';\r\n\r\nconst ACTIVE_COLOR = [1, 1, 1, 1];\r\nconst INACTIVE_COLOR = [1, 1, 1, 0.1];\r\n\r\nexport default class SkeletonModelNode {\r\n\r\n    translation: [number, number, number] = [0, 0, 0];\r\n    forward: [number, number, number] = [0, 0, 1];\r\n    up: [number, number, number] = [0, 1, 0];\r\n    controlPoint?: [number, number, number];\r\n    landmarks: [number, number, number][] = [];\r\n\r\n    parent?: SkeletonModelNode;\r\n    children: SkeletonModelNode[] = [];\r\n\r\n    active: boolean = true;\r\n\r\n    localRotation = quat.create();\r\n    localMatrix = mat4.create();\r\n    worldMatrix = mat4.create();\r\n\r\n    originWorldPosition = vec3.create();\r\n    originViewPosition = vec3.create();\r\n    controlPointWorldPosition = vec3.create();\r\n    controlPointViewPosition = vec3.create();\r\n    controlPointScreenPosition = vec3.create();\r\n    landmarksWorldPositions: [number, number, number][] = [];\r\n    landmarksViewPosition: [number, number, number][] = [];\r\n\r\n    geometry = new Geometry();\r\n\r\n    render(renderer: Renderer) {\r\n        renderer.uniform('u_mMatrix', this.worldMatrix);\r\n        renderer.uniform('u_color', this.active ? ACTIVE_COLOR : INACTIVE_COLOR);\r\n        renderer.drawGeometry(this.geometry);\r\n    }\r\n\r\n    dispose(renderer: Renderer) {\r\n        renderer.drawGeometry(this.geometry);\r\n    }\r\n\r\n}","import {mat4, ReadonlyVec3, vec3} from 'gl-matrix';\r\nimport {quatLookRotation} from '../../../utils/math/math';\r\nimport Camera3D from '../../../utils/render/camera/Camera3D';\r\nimport Renderer from '../../../utils/render/Renderer';\r\nimport ObjLoader from '../ObjLoader';\r\nimport {BodyPart} from './BodyPart';\r\nimport SkeletonModelNode from './SkeletonModelNode';\r\n\r\nconst ZERO: ReadonlyVec3 = [0, 0, 0];\r\n\r\nexport default class SkeletonModel {\r\n\r\n    root = new SkeletonModelNode();\r\n\r\n    [BodyPart.trunk] = this.root;\r\n    [BodyPart.head] = new SkeletonModelNode();\r\n    [BodyPart.leftUpperArm] = new SkeletonModelNode();\r\n    [BodyPart.leftLowerArm] = new SkeletonModelNode();\r\n    [BodyPart.leftHand] = new SkeletonModelNode();\r\n    [BodyPart.leftThigh] = new SkeletonModelNode();\r\n    [BodyPart.leftCalf] = new SkeletonModelNode();\r\n    [BodyPart.leftFoot] = new SkeletonModelNode();\r\n    [BodyPart.rightUpperArm] = new SkeletonModelNode();\r\n    [BodyPart.rightLowerArm] = new SkeletonModelNode();\r\n    [BodyPart.rightHand] = new SkeletonModelNode();\r\n    [BodyPart.rightThigh] = new SkeletonModelNode();\r\n    [BodyPart.rightCalf] = new SkeletonModelNode();\r\n    [BodyPart.rightFoot] = new SkeletonModelNode();\r\n\r\n    update(camera: Camera3D, node: SkeletonModelNode = this.root) {\r\n        const stack: SkeletonModelNode[] = [node];\r\n        for (; ;) {\r\n            const node = stack.pop();\r\n            if (!node) {\r\n                break;\r\n            }\r\n            stack.push(...node.children);\r\n\r\n            quatLookRotation(node.localRotation, node.forward, node.up);\r\n            mat4.fromRotationTranslation(node.localMatrix, node.localRotation, node.translation);\r\n            if (node.parent) {\r\n                mat4.mul(node.worldMatrix, node.parent.worldMatrix, node.localMatrix);\r\n            } else {\r\n                mat4.copy(node.worldMatrix, node.localMatrix);\r\n            }\r\n\r\n            vec3.transformMat4(node.originWorldPosition, ZERO, node.worldMatrix);\r\n            vec3.transformMat4(node.originViewPosition, node.originWorldPosition, camera.viewMatrix);\r\n            if (node.controlPoint) {\r\n                vec3.transformMat4(node.controlPointWorldPosition, node.controlPoint, node.worldMatrix);\r\n                vec3.transformMat4(node.controlPointViewPosition, node.controlPointWorldPosition, camera.viewMatrix);\r\n                vec3.transformMat4(node.controlPointScreenPosition, node.controlPointWorldPosition, camera.pvMatrix);\r\n            }\r\n\r\n            if (node.landmarks.length !== node.landmarksWorldPositions.length) {\r\n                node.landmarksWorldPositions = node.landmarks.map(_ => [0, 0, 0]);\r\n                node.landmarksViewPosition = node.landmarks.map(_ => [0, 0, 0]);\r\n            }\r\n            for (let i = 0, len = node.landmarks.length; i < len; ++i) {\r\n                vec3.transformMat4(node.landmarksWorldPositions[i], node.landmarks[i], node.worldMatrix);\r\n                vec3.transformMat4(node.landmarksViewPosition[i], node.landmarksWorldPositions[i], camera.viewMatrix);\r\n            }\r\n        }\r\n    }\r\n\r\n    render(renderer: Renderer) {\r\n        const stack: SkeletonModelNode[] = [this.root];\r\n        for (; ;) {\r\n            const node = stack.pop();\r\n            if (!node) {\r\n                break;\r\n            }\r\n            stack.push(...node.children);\r\n            node.render(renderer);\r\n        }\r\n    }\r\n\r\n    async init() {\r\n        // =============== load objs ===============\r\n        const headObjPromise = import('./obj/head.obj');\r\n        const trunkObjPromise = import('./obj/trunk.obj');\r\n        const leftUpperArmObjPromise = import('./obj/left-upper-arm.obj');\r\n        const leftLowerArmObjPromise = import('./obj/left-lower-arm.obj');\r\n        const leftHandObjPromise = import('./obj/left-hand.obj');\r\n        const rightUpperArmObjPromise = import('./obj/right-upper-arm.obj');\r\n        const rightLowerArmObjPromise = import('./obj/right-lower-arm.obj');\r\n        const rightHandObjPromise = import('./obj/right-hand.obj');\r\n        const leftThighObjPromise = import('./obj/left-thigh.obj');\r\n        const leftCalfObjPromise = import('./obj/left-calf.obj');\r\n        const leftFootObjPromise = import('./obj/left-foot.obj');\r\n        const rightThighObjPromise = import('./obj/right-thigh.obj');\r\n        const rightCalfObjPromise = import('./obj/right-calf.obj');\r\n        const rightFootObjPromise = import('./obj/right-foot.obj');\r\n\r\n        await Promise.all([\r\n            headObjPromise,\r\n            trunkObjPromise,\r\n            leftUpperArmObjPromise,\r\n            leftLowerArmObjPromise,\r\n            leftHandObjPromise,\r\n            rightUpperArmObjPromise,\r\n            rightLowerArmObjPromise,\r\n            rightHandObjPromise,\r\n            leftThighObjPromise,\r\n            leftCalfObjPromise,\r\n            leftFootObjPromise,\r\n            rightThighObjPromise,\r\n            rightCalfObjPromise,\r\n            rightFootObjPromise,\r\n        ]);\r\n\r\n        const headVertices = new ObjLoader().load((await headObjPromise).default);\r\n        const trunkVertices = new ObjLoader().load((await trunkObjPromise).default);\r\n        const leftUpperArmVertices = new ObjLoader().load((await leftUpperArmObjPromise).default);\r\n        const leftLowerArmVertices = new ObjLoader().load((await leftLowerArmObjPromise).default);\r\n        const leftHandVertices = new ObjLoader().load((await leftHandObjPromise).default);\r\n        const rightUpperArmVertices = new ObjLoader().load((await rightUpperArmObjPromise).default);\r\n        const rightLowerArmVertices = new ObjLoader().load((await rightLowerArmObjPromise).default);\r\n        const rightHandVertices = new ObjLoader().load((await rightHandObjPromise).default);\r\n        const leftThighVertices = new ObjLoader().load((await leftThighObjPromise).default);\r\n        const leftCalfVertices = new ObjLoader().load((await leftCalfObjPromise).default);\r\n        const leftFootVertices = new ObjLoader().load((await leftFootObjPromise).default);\r\n        const rightThighVertices = new ObjLoader().load((await rightThighObjPromise).default);\r\n        const rightCalfVertices = new ObjLoader().load((await rightCalfObjPromise).default);\r\n        const rightFootVertices = new ObjLoader().load((await rightFootObjPromise).default);\r\n\r\n        // =============== move rotation origins to joint connection points ===============\r\n        const headOffset: [number, number, number] = [\r\n            0,\r\n            headVertices.lowerY + headVertices.yRange * 0.35,\r\n            headVertices.zRange * -0.1,\r\n        ];\r\n        const leftUpperArmOffset: [number, number, number] = [\r\n            leftUpperArmVertices.lowerX + leftUpperArmVertices.xRange * 0.3,\r\n            leftUpperArmVertices.lowerY + leftUpperArmVertices.yRange * (1 - 0.075),\r\n            leftUpperArmVertices.zRange * -0.1,\r\n        ];\r\n        const leftLowerArmOffset: [number, number, number] = [\r\n            leftLowerArmVertices.lowerX - leftUpperArmOffset[0] + leftLowerArmVertices.xRange * 0.5,\r\n            leftLowerArmVertices.lowerY - leftUpperArmOffset[1] + leftLowerArmVertices.yRange * (1 - 0.05),\r\n            leftLowerArmVertices.lowerZ - leftUpperArmOffset[2] + leftLowerArmVertices.zRange * 0.3,\r\n        ];\r\n        const leftHandOffset: [number, number, number] = [\r\n            leftHandVertices.lowerX - leftLowerArmOffset[0] - leftUpperArmOffset[0] + leftHandVertices.xRange * 0.85,\r\n            leftHandVertices.lowerY - leftLowerArmOffset[1] - leftUpperArmOffset[1] + leftHandVertices.yRange * (1 - 0.05),\r\n            leftHandVertices.lowerZ - leftLowerArmOffset[2] - leftUpperArmOffset[2] + leftHandVertices.zRange * 0.65,\r\n        ];\r\n        const leftThighOffset: [number, number, number] = [\r\n            leftThighVertices.lowerX + leftThighVertices.xRange * 0.5,\r\n            leftThighVertices.lowerY + leftThighVertices.yRange * (1 - 0.05),\r\n            leftThighVertices.zRange * 0.05,\r\n        ];\r\n        const leftCalfOffset: [number, number, number] = [\r\n            leftCalfVertices.lowerX - leftThighOffset[0] + leftCalfVertices.xRange * 0.5,\r\n            leftCalfVertices.lowerY - leftThighOffset[1] + leftCalfVertices.yRange * (1 - 0.05),\r\n            leftCalfVertices.lowerZ - leftThighOffset[2] + leftCalfVertices.zRange * 0.65,\r\n        ];\r\n        const leftFootOffset: [number, number, number] = [\r\n            leftFootVertices.lowerX - leftThighOffset[0] - leftCalfOffset[0] + leftFootVertices.xRange * 0.3,\r\n            leftFootVertices.lowerY - leftThighOffset[1] - leftCalfOffset[1] + leftFootVertices.yRange * (1 - 0.25),\r\n            leftFootVertices.lowerZ - leftThighOffset[2] - leftCalfOffset[2] + leftFootVertices.zRange * 0.25,\r\n        ];\r\n\r\n        // =============== control points positions ===============\r\n        const trunkControlPoint: [number, number, number] = [0, trunkVertices.yRange * 0.75, 0];\r\n        const headControlPoint: [number, number, number] = [0, 0, headVertices.yRange * 0.5];\r\n        const leftUpperArmControlPoint: [number, number, number] = [\r\n            leftUpperArmVertices.xRange * 0.3,\r\n            leftUpperArmVertices.yRange * -0.85,\r\n            leftUpperArmVertices.zRange * -0.3,\r\n        ];\r\n        const leftLowerArmControlPoint: [number, number, number] = [\r\n            0,\r\n            leftLowerArmVertices.yRange * -0.9,\r\n            leftLowerArmVertices.zRange * 0.4,\r\n        ];\r\n        const leftHandControlPoint: [number, number, number] = [\r\n            leftHandVertices.xRange * -0.2,\r\n            leftHandVertices.yRange * -0.8,\r\n            leftHandVertices.zRange * -0.1,\r\n        ];\r\n        const leftThighControlPoint: [number, number, number] = [\r\n            leftThighVertices.xRange * -0.15,\r\n            leftThighVertices.yRange * -0.87,\r\n            leftThighVertices.zRange * -0.25,\r\n        ];\r\n        const leftCalfControlPoint: [number, number, number] = [\r\n            0,\r\n            leftCalfVertices.yRange * -0.85,\r\n            leftCalfVertices.zRange * -0.3,\r\n        ];\r\n        const leftFootControlPoint: [number, number, number] = [\r\n            leftFootVertices.xRange * 0.25,\r\n            leftFootVertices.yRange * -0.5,\r\n            leftFootVertices.zRange * 0.6,\r\n        ];\r\n\r\n        // =============== create nodes ===============\r\n        function mirror(vec: [number, number, number]): [number, number, number] {\r\n            return [-vec[0], vec[1], vec[2]];\r\n        }\r\n\r\n        const trunk = this.root;\r\n        trunkVertices.setGeometryVertices(trunk.geometry);\r\n        trunk.controlPoint = trunkControlPoint;\r\n\r\n        const head = this.addChild(this.root, this.head);\r\n        head.landmarks = [\r\n            // left ear\r\n            [-headVertices.lowerX, headVertices.yRange * .05, headVertices.zRange * .15],\r\n            // right ear\r\n            [-headVertices.upperX, headVertices.yRange * .05, headVertices.zRange * .15],\r\n        ];\r\n        headVertices.translate(-headOffset[0], -headOffset[1], -headOffset[2]);\r\n        headVertices.setGeometryVertices(head.geometry);\r\n        head.translation = headOffset;\r\n        head.controlPoint = headControlPoint;\r\n\r\n        const leftUpperArm = this.addChild(this.root, this.leftUpperArm);\r\n        leftUpperArmVertices.translate(-leftUpperArmOffset[0], -leftUpperArmOffset[1], -leftUpperArmOffset[2]);\r\n        leftUpperArmVertices.setGeometryVertices(leftUpperArm.geometry);\r\n        leftUpperArm.translation = leftUpperArmOffset;\r\n        leftUpperArm.controlPoint = leftUpperArmControlPoint;\r\n\r\n        const rightUpperArm = this.addChild(this.root, this.rightUpperArm);\r\n        rightUpperArmVertices.translate(+leftUpperArmOffset[0], -leftUpperArmOffset[1], -leftUpperArmOffset[2]);\r\n        rightUpperArmVertices.setGeometryVertices(rightUpperArm.geometry);\r\n        rightUpperArm.translation = mirror(leftUpperArmOffset);\r\n        rightUpperArm.controlPoint = mirror(leftUpperArmControlPoint);\r\n\r\n        const leftLowerArm = this.addChild(leftUpperArm, this.leftLowerArm);\r\n        leftLowerArmVertices.translate(\r\n            -leftLowerArmOffset[0] - leftUpperArmOffset[0],\r\n            -leftLowerArmOffset[1] - leftUpperArmOffset[1],\r\n            -leftLowerArmOffset[2] - leftUpperArmOffset[2],\r\n        );\r\n        leftLowerArmVertices.setGeometryVertices(leftLowerArm.geometry);\r\n        leftLowerArm.translation = leftLowerArmOffset;\r\n        leftLowerArm.controlPoint = leftLowerArmControlPoint;\r\n\r\n        const rightLowerArm = this.addChild(rightUpperArm, this.rightLowerArm);\r\n        rightLowerArmVertices.translate(\r\n            +leftLowerArmOffset[0] + leftUpperArmOffset[0],\r\n            -leftLowerArmOffset[1] - leftUpperArmOffset[1],\r\n            -leftLowerArmOffset[2] - leftUpperArmOffset[2],\r\n        );\r\n        rightLowerArmVertices.setGeometryVertices(rightLowerArm.geometry);\r\n        rightLowerArm.translation = mirror(leftLowerArmOffset);\r\n        rightLowerArm.controlPoint = mirror(leftLowerArmControlPoint);\r\n\r\n        const leftHand = this.addChild(leftLowerArm, this.leftHand);\r\n        leftHandVertices.translate(\r\n            -leftHandOffset[0] - leftLowerArmOffset[0] - leftUpperArmOffset[0],\r\n            -leftHandOffset[1] - leftLowerArmOffset[1] - leftUpperArmOffset[1],\r\n            -leftHandOffset[2] - leftLowerArmOffset[2] - leftUpperArmOffset[2],\r\n        );\r\n        leftHandVertices.setGeometryVertices(leftHand.geometry);\r\n        leftHand.translation = leftHandOffset;\r\n        leftHand.controlPoint = leftHandControlPoint;\r\n\r\n        const rightHand = this.addChild(rightLowerArm, this.rightHand);\r\n        rightHandVertices.translate(\r\n            +leftHandOffset[0] + leftLowerArmOffset[0] + leftUpperArmOffset[0],\r\n            -leftHandOffset[1] - leftLowerArmOffset[1] - leftUpperArmOffset[1],\r\n            -leftHandOffset[2] - leftLowerArmOffset[2] - leftUpperArmOffset[2],\r\n        );\r\n        rightHandVertices.setGeometryVertices(rightHand.geometry);\r\n        rightHand.translation = mirror(leftHandOffset);\r\n        rightHand.controlPoint = mirror(leftHandControlPoint);\r\n\r\n        const leftThigh = this.addChild(trunk, this.leftThigh);\r\n        leftThighVertices.translate(\r\n            -leftThighOffset[0],\r\n            -leftThighOffset[1],\r\n            -leftThighOffset[2],\r\n        );\r\n        leftThighVertices.setGeometryVertices(leftThigh.geometry);\r\n        leftThigh.translation = leftThighOffset;\r\n        leftThigh.controlPoint = leftThighControlPoint;\r\n\r\n        const rightThigh = this.addChild(trunk, this.rightThigh);\r\n        rightThighVertices.translate(\r\n            +leftThighOffset[0],\r\n            -leftThighOffset[1],\r\n            -leftThighOffset[2],\r\n        );\r\n        rightThighVertices.setGeometryVertices(rightThigh.geometry);\r\n        rightThigh.translation = mirror(leftThighOffset);\r\n        rightThigh.controlPoint = mirror(leftThighControlPoint);\r\n\r\n        const leftCalf = this.addChild(leftThigh, this.leftCalf);\r\n        leftCalfVertices.translate(\r\n            -leftCalfOffset[0] - leftThighOffset[0],\r\n            -leftCalfOffset[1] - leftThighOffset[1],\r\n            -leftCalfOffset[2] - leftThighOffset[2],\r\n        );\r\n        leftCalfVertices.setGeometryVertices(leftCalf.geometry);\r\n        leftCalf.translation = leftCalfOffset;\r\n        leftCalf.controlPoint = leftCalfControlPoint;\r\n\r\n        const rightCalf = this.addChild(rightThigh, this.rightCalf);\r\n        rightCalfVertices.translate(\r\n            +leftCalfOffset[0] + leftThighOffset[0],\r\n            -leftCalfOffset[1] - leftThighOffset[1],\r\n            -leftCalfOffset[2] - leftThighOffset[2],\r\n        );\r\n        rightCalfVertices.setGeometryVertices(rightCalf.geometry);\r\n        rightCalf.translation = mirror(leftCalfOffset);\r\n        rightCalf.controlPoint = mirror(leftCalfControlPoint);\r\n\r\n        const leftFoot = this.addChild(leftCalf, this.leftFoot);\r\n        leftFootVertices.translate(\r\n            -leftFootOffset[0] - leftCalfOffset[0] - leftThighOffset[0],\r\n            -leftFootOffset[1] - leftCalfOffset[1] - leftThighOffset[1],\r\n            -leftFootOffset[2] - leftCalfOffset[2] - leftThighOffset[2],\r\n        );\r\n        leftFootVertices.setGeometryVertices(leftFoot.geometry);\r\n        leftFoot.translation = leftFootOffset;\r\n        leftFoot.controlPoint = leftFootControlPoint;\r\n\r\n        const rightFoot = this.addChild(rightCalf, this.rightFoot);\r\n        rightFootVertices.translate(\r\n            +leftFootOffset[0] + leftCalfOffset[0] + leftThighOffset[0],\r\n            -leftFootOffset[1] - leftCalfOffset[1] - leftThighOffset[1],\r\n            -leftFootOffset[2] - leftCalfOffset[2] - leftThighOffset[2],\r\n        );\r\n        rightFootVertices.setGeometryVertices(rightFoot.geometry);\r\n        rightFoot.translation = mirror(leftFootOffset);\r\n        rightFoot.controlPoint = mirror(leftFootControlPoint);\r\n    }\r\n\r\n    private addChild(parent: SkeletonModelNode, node?: SkeletonModelNode) {\r\n        node = node || new SkeletonModelNode();\r\n        parent.children.push(node);\r\n        node.parent = parent;\r\n        return node;\r\n    }\r\n\r\n}","import {vec3} from 'gl-matrix';\r\n\r\nexport function raycastPlane(\r\n    out: vec3,\r\n    ray0x: number,\r\n    ray0y: number,\r\n    ray0z: number,\r\n    ray1x: number,\r\n    ray1y: number,\r\n    ray1z: number,\r\n    p0x: number,\r\n    p0y: number,\r\n    p0z: number,\r\n    nx: number,\r\n    ny: number,\r\n    nz: number,\r\n) {\r\n    const detX = ray1x - ray0x;\r\n    const detY = ray1y - ray0y;\r\n    const detZ = ray1z - ray0z;\r\n    const len = Math.sqrt(detX ** 2 + detY ** 2 + detZ ** 2);\r\n    if (len <= 1e-8) {\r\n        return false;\r\n    }\r\n    const lx = detX / len;\r\n    const ly = detY / len;\r\n    const lz = detZ / len;\r\n    const nLen = Math.sqrt(nx ** 2 + ny ** 2 + nz ** 2);\r\n    if (nLen <= 1e-8) {\r\n        return false;\r\n    }\r\n    const invNLen = 1 / nLen;\r\n    nx *= invNLen;\r\n    ny *= invNLen;\r\n    nz *= invNLen;\r\n    const ln = lx * nx + ly * ny + lz * nz;\r\n    if (Math.abs(ln) <= 1e-8) {\r\n        return false;\r\n    }\r\n    const p0r0x = -ray0x + p0x;\r\n    const p0r0y = -ray0y + p0y;\r\n    const p0r0z = -ray0z + p0z;\r\n    const t = (p0r0x * nx + p0r0y * ny + p0r0z * nz) / ln;\r\n    const px = ray0x + t * lx;\r\n    const py = ray0y + t * ly;\r\n    const pz = ray0z + t * lz;\r\n    vec3.set(out, px, py, pz);\r\n    return t >= 0;\r\n}\r\n\r\nexport function raycastSphere(\r\n    out: vec3,\r\n    ray0x: number,\r\n    ray0y: number,\r\n    ray0z: number,\r\n    ray1x: number,\r\n    ray1y: number,\r\n    ray1z: number,\r\n    cx: number,\r\n    cy: number,\r\n    cz: number,\r\n    r: number\r\n) {\r\n    let vx = ray1x - ray0x;\r\n    let vy = ray1y - ray0y;\r\n    let vz = ray1z - ray0z;\r\n    const dx = ray0x - cx;\r\n    const dy = ray0y - cy;\r\n    const dz = ray0z - cz;\r\n    const a = vx ** 2 + vy ** 2 + vz ** 2;\r\n    const b = 2 * (vx * dx + vy * dy + vz * dz);\r\n    const c = (dx ** 2 + dy ** 2 + dz ** 2) - r ** 2;\r\n    const delta = b ** 2 - 4 * a * c;\r\n    if (delta < 0) {\r\n        return false;\r\n    }\r\n    const sqrtDelta = Math.sqrt(delta);\r\n    const t1 = (-b + sqrtDelta) / (2 * a);\r\n    const t2 = (-b - sqrtDelta) / (2 * a);\r\n    const t = Math.min(t1, t2);\r\n    out[0] = ray0x + vx * t;\r\n    out[1] = ray0y + vy * t;\r\n    out[2] = ray0z + vz * t;\r\n    return true;\r\n}\r\n","import {vec3} from 'gl-matrix';\r\nimport {raycastPlane, raycastSphere} from '../math/raycast';\r\nimport Camera3D from '../render/camera/Camera3D';\r\n\r\nexport class MouseDragContext3D {\r\n    dragStartMousePosition = vec3.create();\r\n    dragStartOriginPosition = vec3.create();\r\n    dragStartTargetPosition = vec3.create();\r\n    mousePosition = vec3.create();\r\n    mouseRay0 = vec3.create();\r\n    mouseRay1 = vec3.create();\r\n    rayResult0 = vec3.create();\r\n    rayResult1 = vec3.create();\r\n    normal = vec3.create();\r\n    radius = 0;\r\n    offset = vec3.create();\r\n}\r\n\r\nexport function raycastViewPlaneDragStart(\r\n    context: MouseDragContext3D,\r\n    projectedMouseX: number, projectedMouseY: number,\r\n    targetX: number, targetY: number, targetZ: number,\r\n    camera: Camera3D\r\n) {\r\n    vec3.set(context.dragStartMousePosition, projectedMouseX, projectedMouseY, 0);\r\n    vec3.set(context.dragStartTargetPosition, targetX, targetY, targetZ);\r\n    vec3.sub(context.normal, camera.target, camera.position);\r\n}\r\n\r\nexport function raycastViewPlaneDragMove(\r\n    context: MouseDragContext3D,\r\n    projectedMouseX: number, projectedMouseY: number,\r\n    camera: Camera3D\r\n): boolean {\r\n    context.dragStartMousePosition[2] = -1;\r\n    camera.screenToView(context.mouseRay0, context.dragStartMousePosition);\r\n    context.dragStartMousePosition[2] = 1;\r\n    camera.screenToView(context.mouseRay1, context.dragStartMousePosition);\r\n    if (!raycastPlane(\r\n        context.rayResult0,\r\n        context.mouseRay0[0], context.mouseRay0[1], context.mouseRay0[2],\r\n        context.mouseRay1[0], context.mouseRay1[1], context.mouseRay1[2],\r\n        context.dragStartTargetPosition[0], context.dragStartTargetPosition[1], context.dragStartTargetPosition[2],\r\n        context.normal[0], context.normal[1], context.normal[2],\r\n    )) {\r\n        return false;\r\n    }\r\n    vec3.set(context.mousePosition, projectedMouseX, projectedMouseY, -1);\r\n    camera.screenToView(context.mouseRay0, context.mousePosition);\r\n    vec3.set(context.mousePosition, projectedMouseX, projectedMouseY, +1);\r\n    camera.screenToView(context.mouseRay1, context.mousePosition);\r\n    if (!raycastPlane(\r\n        context.rayResult1,\r\n        context.mouseRay0[0], context.mouseRay0[1], context.mouseRay0[2],\r\n        context.mouseRay1[0], context.mouseRay1[1], context.mouseRay1[2],\r\n        context.dragStartTargetPosition[0], context.dragStartTargetPosition[1], context.dragStartTargetPosition[2],\r\n        context.normal[0], context.normal[1], context.normal[2],\r\n    )) {\r\n        return false;\r\n    }\r\n    vec3.sub(context.offset, context.rayResult1, context.rayResult0);\r\n    return true;\r\n}\r\n\r\nexport function raycastSphereDragStart(\r\n    context: MouseDragContext3D,\r\n    projectedMouseX: number, projectedMouseY: number,\r\n    originX: number, originY: number, originZ: number,\r\n    targetX: number, targetY: number, targetZ: number,\r\n    camera: Camera3D\r\n) {\r\n    vec3.set(context.dragStartMousePosition, projectedMouseX, projectedMouseY, 0);\r\n    vec3.set(context.dragStartOriginPosition, originX, originY, originZ);\r\n    vec3.set(context.dragStartTargetPosition, targetX, targetY, targetZ);\r\n    vec3.sub(context.normal, context.dragStartTargetPosition, camera.position);\r\n    context.radius = vec3.distance(context.dragStartOriginPosition, context.dragStartTargetPosition);\r\n}\r\n\r\nexport function raycastSphereDragMove(\r\n    context: MouseDragContext3D,\r\n    projectedMouseX: number, projectedMouseY: number,\r\n    camera: Camera3D\r\n): boolean {\r\n    const zOrigin = vec3.dot(context.normal, context.dragStartOriginPosition);\r\n    const zTarget = vec3.dot(context.normal, context.dragStartTargetPosition);\r\n    if (zTarget - zOrigin <= 0) {\r\n        vec3.set(context.mousePosition, projectedMouseX, projectedMouseY, -1);\r\n        camera.screenToView(context.mouseRay0, context.mousePosition);\r\n        vec3.set(context.mousePosition, projectedMouseX, projectedMouseY, +1);\r\n        camera.screenToView(context.mouseRay1, context.mousePosition);\r\n        if (raycastSphere(\r\n            context.rayResult1,\r\n            context.mouseRay0[0], context.mouseRay0[1], context.mouseRay0[2],\r\n            context.mouseRay1[0], context.mouseRay1[1], context.mouseRay1[2],\r\n            context.dragStartOriginPosition[0], context.dragStartOriginPosition[1], context.dragStartOriginPosition[2],\r\n            context.radius,\r\n        )) {\r\n            return true;\r\n        }\r\n        return raycastPlane(\r\n            context.rayResult1,\r\n            context.mouseRay0[0], context.mouseRay0[1], context.mouseRay0[2],\r\n            context.mouseRay1[0], context.mouseRay1[1], context.mouseRay1[2],\r\n            context.dragStartOriginPosition[0], context.dragStartOriginPosition[1], context.dragStartOriginPosition[2],\r\n            context.normal[0], context.normal[1], context.normal[2],\r\n        );\r\n    }\r\n    return raycastViewPlaneDragMove(context, projectedMouseX, projectedMouseY, camera);\r\n}","import {mat4, ReadonlyMat4, ReadonlyVec3, vec3} from 'gl-matrix';\r\nimport Camera3D from './Camera3D';\r\n\r\nexport default class OrthographicCamera implements Camera3D {\r\n\r\n    readonly perspective = false;\r\n\r\n    private _pvMatrix: Float32Array = new Float32Array(16);\r\n    private _invPvMatrix: Float32Array = new Float32Array(16);\r\n    private _projectionMatrix: Float32Array = new Float32Array(16);\r\n    private _viewMatrix: Float32Array = new Float32Array(16);\r\n\r\n    private _position: Float32Array = new Float32Array(3);\r\n    private _target: Float32Array = new Float32Array(3);\r\n    private _up: Float32Array = new Float32Array([0, 1, 0]);\r\n\r\n    private _left: number;\r\n    private _right: number;\r\n    private _bottom: number;\r\n    private _top: number;\r\n    private _near: number;\r\n    private _far: number;\r\n\r\n    private matrixNeedsUpdate: boolean = true;\r\n\r\n    constructor(left: number, right: number, bottom: number, top: number, near: number, far: number) {\r\n        this._left = left;\r\n        this._right = right;\r\n        this._bottom = bottom;\r\n        this._top = top;\r\n        this._near = near;\r\n        this._far = far;\r\n    }\r\n\r\n    fitViewport(width: number, height: number) {\r\n        this.left = -width / 2;\r\n        this.right = width / 2;\r\n        this.bottom = -height / 2;\r\n        this.top = height / 2;\r\n    }\r\n\r\n    screenToView(out: vec3, point: ReadonlyVec3) {\r\n        vec3.transformMat4(out, point, this._invPvMatrix);\r\n    }\r\n\r\n    private updateMatrix() {\r\n        mat4.ortho(this._projectionMatrix, this._left, this._right, this._bottom, this._top, this._near, this._far);\r\n        mat4.lookAt(this._viewMatrix, this._position, this._target, this._up);\r\n        mat4.mul(this._pvMatrix, this._projectionMatrix, this._viewMatrix);\r\n        mat4.invert(this._invPvMatrix, this._pvMatrix);\r\n        this.matrixNeedsUpdate = false;\r\n    }\r\n\r\n    get pvMatrix(): ReadonlyMat4 {\r\n        if (this.matrixNeedsUpdate) {\r\n            this.updateMatrix();\r\n        }\r\n        return this._pvMatrix;\r\n    }\r\n\r\n    get invPvMatrix(): ReadonlyMat4 {\r\n        if (this.matrixNeedsUpdate) {\r\n            this.updateMatrix();\r\n        }\r\n        return this._invPvMatrix;\r\n    }\r\n\r\n    get projectionMatrix(): ReadonlyMat4 {\r\n        if (this.matrixNeedsUpdate) {\r\n            this.updateMatrix();\r\n        }\r\n        return this._projectionMatrix;\r\n    }\r\n\r\n    get viewMatrix(): ReadonlyMat4 {\r\n        if (this.matrixNeedsUpdate) {\r\n            this.updateMatrix();\r\n        }\r\n        return this._viewMatrix;\r\n    }\r\n\r\n    get position(): ReadonlyVec3 {\r\n        return this._position;\r\n    }\r\n\r\n    set position(value: ReadonlyVec3) {\r\n        if (vec3.exactEquals(value, this._position)) {\r\n            return;\r\n        }\r\n        this.matrixNeedsUpdate = true;\r\n        this._position.set(value);\r\n    }\r\n\r\n    get target(): ReadonlyVec3 {\r\n        return this._target;\r\n    }\r\n\r\n    set target(value: ReadonlyVec3) {\r\n        if (vec3.exactEquals(value, this._target)) {\r\n            return;\r\n        }\r\n        this.matrixNeedsUpdate = true;\r\n        this._target.set(value);\r\n    }\r\n\r\n    get up(): ReadonlyVec3 {\r\n        return this._up;\r\n    }\r\n\r\n    set up(value: ReadonlyVec3) {\r\n        if (vec3.exactEquals(value, this._up)) {\r\n            return;\r\n        }\r\n        this.matrixNeedsUpdate = true;\r\n        this._up.set(value);\r\n    }\r\n\r\n    get left(): number {\r\n        return this._left;\r\n    }\r\n\r\n    set left(value: number) {\r\n        if (value === this._left) {\r\n            return;\r\n        }\r\n        this.matrixNeedsUpdate = true;\r\n        this._left = value;\r\n    }\r\n\r\n    get right(): number {\r\n        return this._right;\r\n    }\r\n\r\n    set right(value: number) {\r\n        if (value === this._right) {\r\n            return;\r\n        }\r\n        this.matrixNeedsUpdate = true;\r\n        this._right = value;\r\n    }\r\n\r\n    get bottom(): number {\r\n        return this._bottom;\r\n    }\r\n\r\n    set bottom(value: number) {\r\n        if (value === this._bottom) {\r\n            return;\r\n        }\r\n        this.matrixNeedsUpdate = true;\r\n        this._bottom = value;\r\n    }\r\n\r\n    get top(): number {\r\n        return this._top;\r\n    }\r\n\r\n    set top(value: number) {\r\n        if (value === this._top) {\r\n            return;\r\n        }\r\n        this.matrixNeedsUpdate = true;\r\n        this._top = value;\r\n    }\r\n\r\n    get near(): number {\r\n        return this._near;\r\n    }\r\n\r\n    set near(value: number) {\r\n        if (value === this._near) {\r\n            return;\r\n        }\r\n        this.matrixNeedsUpdate = true;\r\n        this._near = value;\r\n    }\r\n\r\n    get far(): number {\r\n        return this._far;\r\n    }\r\n\r\n    set far(value: number) {\r\n        if (value === this._far) {\r\n            return;\r\n        }\r\n        this.matrixNeedsUpdate = true;\r\n        this._far = value;\r\n    }\r\n}\r\n","import {mat4, ReadonlyMat4, ReadonlyVec3, vec3} from 'gl-matrix';\r\nimport Camera3D from './Camera3D';\r\n\r\nexport default class PerspectiveCamera implements Camera3D {\r\n\r\n    readonly perspective = true;\r\n\r\n    private _pvMatrix: Float32Array = new Float32Array(16);\r\n    private _invPvMatrix: Float32Array = new Float32Array(16);\r\n    private _projectionMatrix: Float32Array = new Float32Array(16);\r\n    private _viewMatrix: Float32Array = new Float32Array(16);\r\n\r\n    private _position: Float32Array = new Float32Array(3);\r\n    private _target: Float32Array = new Float32Array(3);\r\n    private _up: Float32Array = new Float32Array([0, 1, 0]);\r\n\r\n    private _fovYRad: number;\r\n    private _aspect: number;\r\n    private _near: number;\r\n    private _far: number;\r\n\r\n    private matrixNeedsUpdate: boolean = true;\r\n\r\n    constructor(fovYRad: number, aspect: number, near: number, far: number) {\r\n        this._fovYRad = fovYRad;\r\n        this._aspect = aspect;\r\n        this._near = near;\r\n        this._far = far;\r\n    }\r\n\r\n    fitViewport(width: number, height: number) {\r\n        this.aspect = width / height;\r\n    }\r\n\r\n    screenToView(out: vec3, point: ReadonlyVec3) {\r\n        vec3.transformMat4(out, point, this._invPvMatrix);\r\n    }\r\n\r\n    private updateMatrix() {\r\n        mat4.perspective(this._projectionMatrix, this._fovYRad, this._aspect, this._near, this._far);\r\n        mat4.lookAt(this._viewMatrix, this._position, this._target, this._up);\r\n        mat4.mul(this._pvMatrix, this._projectionMatrix, this._viewMatrix);\r\n        mat4.invert(this._invPvMatrix, this._pvMatrix);\r\n        this.matrixNeedsUpdate = false;\r\n    }\r\n\r\n    get pvMatrix(): ReadonlyMat4 {\r\n        if (this.matrixNeedsUpdate) {\r\n            this.updateMatrix();\r\n        }\r\n        return this._pvMatrix;\r\n    }\r\n\r\n    get invPvMatrix(): ReadonlyMat4 {\r\n        if (this.matrixNeedsUpdate) {\r\n            this.updateMatrix();\r\n        }\r\n        return this._invPvMatrix;\r\n    }\r\n\r\n    get projectionMatrix(): ReadonlyMat4 {\r\n        if (this.matrixNeedsUpdate) {\r\n            this.updateMatrix();\r\n        }\r\n        return this._projectionMatrix;\r\n    }\r\n\r\n    get viewMatrix(): ReadonlyMat4 {\r\n        if (this.matrixNeedsUpdate) {\r\n            this.updateMatrix();\r\n        }\r\n        return this._viewMatrix;\r\n    }\r\n\r\n    get position(): ReadonlyVec3 {\r\n        return this._position;\r\n    }\r\n\r\n    set position(value: ReadonlyVec3) {\r\n        if (vec3.exactEquals(value, this._position)) {\r\n            return;\r\n        }\r\n        this.matrixNeedsUpdate = true;\r\n        this._position.set(value);\r\n    }\r\n\r\n    get target(): ReadonlyVec3 {\r\n        return this._target;\r\n    }\r\n\r\n    set target(value: ReadonlyVec3) {\r\n        if (vec3.exactEquals(value, this._target)) {\r\n            return;\r\n        }\r\n        this.matrixNeedsUpdate = true;\r\n        this._target.set(value);\r\n    }\r\n\r\n    get up(): ReadonlyVec3 {\r\n        return this._up;\r\n    }\r\n\r\n    set up(value: ReadonlyVec3) {\r\n        if (vec3.exactEquals(value, this._up)) {\r\n            return;\r\n        }\r\n        this.matrixNeedsUpdate = true;\r\n        this._up.set(value);\r\n    }\r\n\r\n    get fovYRad(): number {\r\n        return this._fovYRad;\r\n    }\r\n\r\n    set fovYRad(value: number) {\r\n        if (this._fovYRad === value) {\r\n            return;\r\n        }\r\n        this.matrixNeedsUpdate = true;\r\n        this._fovYRad = value;\r\n    }\r\n\r\n    get aspect(): number {\r\n        return this._aspect;\r\n    }\r\n\r\n    set aspect(value: number) {\r\n        if (this._aspect === value) {\r\n            return;\r\n        }\r\n        this.matrixNeedsUpdate = true;\r\n        this._aspect = value;\r\n    }\r\n\r\n    get near(): number {\r\n        return this._near;\r\n    }\r\n\r\n    set near(value: number) {\r\n        if (this._near === value) {\r\n            return;\r\n        }\r\n        this.matrixNeedsUpdate = true;\r\n        this._near = value;\r\n    }\r\n\r\n    get far(): number {\r\n        return this._far;\r\n    }\r\n\r\n    set far(value: number) {\r\n        if (this._far === value) {\r\n            return;\r\n        }\r\n        this.matrixNeedsUpdate = true;\r\n        this._far = value;\r\n    }\r\n\r\n}\r\n","import {quat, ReadonlyMat4, ReadonlyVec3, vec3} from 'gl-matrix';\r\nimport Input from './input/Input';\r\nimport {MouseDragContext3D, raycastViewPlaneDragMove, raycastViewPlaneDragStart} from './input/mouse-drag';\r\nimport Camera3D from './render/camera/Camera3D';\r\nimport OrthographicCamera from './render/camera/OrthographicCamera';\r\nimport PerspectiveCamera from './render/camera/PerspectiveCamera';\r\n\r\nconst CAMERA_ZOOM_IN_STEP = 0.9;\r\nconst CAMERA_ZOOM_MIN = -12;\r\nconst CAMERA_ZOOM_OUT_STEP = 1.2;\r\nconst CAMERA_ZOOM_MAX = 4;\r\n\r\nexport default class DraggableCamera {\r\n\r\n    private viewportWidth: number = 1;\r\n    private viewportHeight: number = 1;\r\n\r\n    private readonly perspectiveCamera: PerspectiveCamera;\r\n    private readonly orthographicCamera: OrthographicCamera;\r\n\r\n    perspective: boolean = true;\r\n    far: number = 2;\r\n    target: vec3 = vec3.fromValues(0, 0, 0);\r\n    rotateX: number = 0;\r\n    rotateY: number = 0;\r\n    zoom: number = 1;\r\n    private position: vec3 = vec3.fromValues(0, 0, 0);\r\n    private orthographicZoomRatio: number = 1.6;\r\n\r\n    private defaultPosition = vec3.fromValues(0, 0, 1);\r\n    private defaultUp = vec3.fromValues(0, 1, 0);\r\n    private up = vec3.fromValues(0, 0, 0);\r\n    private rotationQuat = quat.create();\r\n\r\n    private draggingRotation: boolean = false;\r\n    private draggingPosition: boolean = false;\r\n    private dragStartProjectedMouseX: number = 0;\r\n    private dragStartProjectedMouseY: number = 0;\r\n    private dragStartRotateX = 0;\r\n    private dragStartRotateY = 0;\r\n    private positionDragContext = new MouseDragContext3D();\r\n\r\n    constructor(fovYRad: number = 45 / 180 * Math.PI, near: number = 0.1, far: number = 1000) {\r\n        this.perspectiveCamera = new PerspectiveCamera(fovYRad, 1, near, far);\r\n        this.orthographicCamera = new OrthographicCamera(-1, 1, -1, 1, near, far);\r\n    }\r\n\r\n    screenToView(out: vec3, point: ReadonlyVec3) {\r\n        const camera = this.perspective ? this.perspectiveCamera : this.orthographicCamera;\r\n        camera.screenToView(out, point);\r\n        return out;\r\n    }\r\n\r\n    get pvMatrix(): ReadonlyMat4 {\r\n        const camera = this.perspective ? this.perspectiveCamera : this.orthographicCamera;\r\n        return camera.pvMatrix;\r\n    }\r\n\r\n    get viewMatrix(): ReadonlyMat4 {\r\n        const camera = this.perspective ? this.perspectiveCamera : this.orthographicCamera;\r\n        return camera.viewMatrix;\r\n    }\r\n\r\n    get camera(): Camera3D {\r\n        return this.perspective ? this.perspectiveCamera : this.orthographicCamera;\r\n    }\r\n\r\n    fitViewport(width: number, height: number) {\r\n        this.viewportWidth = width;\r\n        this.viewportHeight = height;\r\n        this.update();\r\n    }\r\n\r\n    update() {\r\n        const camera = this.camera;\r\n        const zoom = this.zoom <= 0 ? CAMERA_ZOOM_IN_STEP ** (-this.zoom) : CAMERA_ZOOM_OUT_STEP ** this.zoom;\r\n        const viewPortZoom = zoom / 25 * (this.perspective ? 1 : this.orthographicZoomRatio);\r\n        camera.fitViewport(this.viewportWidth * viewPortZoom, this.viewportHeight * viewPortZoom);\r\n        vec3.scale(this.position, this.defaultPosition, this.far * zoom * 2);\r\n        quat.fromEuler(this.rotationQuat, this.rotateX, this.rotateY, 0);\r\n        vec3.transformQuat(this.position, this.position, this.rotationQuat);\r\n        vec3.add(this.position, this.position, this.target);\r\n        camera.position = this.position;\r\n        if (this.rotateX === 90 || this.rotateX === -90) {\r\n            vec3.transformQuat(this.up, this.defaultUp, this.rotationQuat);\r\n            camera.up = this.up;\r\n        } else {\r\n            camera.up = this.defaultUp;\r\n        }\r\n        camera.target = this.target;\r\n    }\r\n\r\n    onInput(input: Input) {\r\n        const projectedMouseX = (-this.viewportWidth / 2 + input.mouseX) / this.viewportWidth * 2;\r\n        const projectedMouseY = (+this.viewportHeight / 2 - input.mouseY) / this.viewportHeight * 2;\r\n\r\n        // rotation\r\n        if (input.mouseMiddle) {\r\n            if (this.draggingRotation) {\r\n                const dx = projectedMouseX - this.dragStartProjectedMouseX;\r\n                const dy = projectedMouseY - this.dragStartProjectedMouseY;\r\n                this.rotateX = Math.max(-90, Math.min(90, this.dragStartRotateX + dy * 90));\r\n                this.rotateY = (this.dragStartRotateY - dx * 90) % 360;\r\n            } else {\r\n                this.draggingRotation = true;\r\n                this.dragStartProjectedMouseX = projectedMouseX;\r\n                this.dragStartProjectedMouseY = projectedMouseY;\r\n                this.dragStartRotateX = this.rotateX;\r\n                this.dragStartRotateY = this.rotateY;\r\n            }\r\n        } else {\r\n            this.draggingRotation = false;\r\n        }\r\n\r\n        // position\r\n        if (input.mouseRight) {\r\n            if (this.draggingPosition) {\r\n                if (raycastViewPlaneDragMove(\r\n                    this.positionDragContext,\r\n                    projectedMouseX, projectedMouseY,\r\n                    this.camera\r\n                )) {\r\n                    vec3.sub(this.target, this.positionDragContext.dragStartTargetPosition, this.positionDragContext.offset);\r\n                }\r\n            } else if (!this.draggingRotation) {\r\n                this.draggingPosition = true;\r\n                raycastViewPlaneDragStart(\r\n                    this.positionDragContext,\r\n                    projectedMouseX, projectedMouseY,\r\n                    this.target[0], this.target[1], this.target[2],\r\n                    this.camera\r\n                );\r\n            }\r\n        } else {\r\n            this.draggingPosition = false;\r\n        }\r\n\r\n        // zoom\r\n        if (input.wheelDetY) {\r\n            this.zoom = Math.max(CAMERA_ZOOM_MIN, Math.min(CAMERA_ZOOM_MAX, this.zoom + input.wheelDetY));\r\n        }\r\n\r\n        this.update();\r\n    }\r\n\r\n}","export const enum MouseButton {\r\n    LEFT, MIDDLE, RIGHT\r\n}","import {MouseButton} from './MouseButton';\r\n\r\nexport default class Input {\r\n\r\n    callback?: (input: Input) => void;\r\n    private needsUpdate: boolean = false;\r\n\r\n    mouseOver: boolean = false;\r\n    mouseX: number = 0;\r\n    mouseY: number = 0;\r\n    mouseLeft: boolean = false;\r\n    mouseLeftDownThisFrame: boolean = false;\r\n    mouseRight: boolean = false;\r\n    mouseRightDownThisFrame: boolean = false;\r\n    mouseMiddle: boolean = false;\r\n    mouseMiddleDownThisFrame: boolean = false;\r\n    wheelDetX: number = 0;\r\n    wheelDetY: number = 0;\r\n\r\n    private readonly onContextmenu: (e: MouseEvent) => void;\r\n    private readonly onMouseMove: (e: MouseEvent) => void;\r\n    private readonly onMouseDown: (e: MouseEvent) => void;\r\n    private readonly onMouseUp: (e: MouseEvent) => void;\r\n    private readonly onMouseLeave: () => void;\r\n    private readonly onMouseOut: (e: MouseEvent) => void;\r\n    private readonly onWheel: (e: WheelEvent) => void;\r\n    private readonly onKeyDown: (e: KeyboardEvent) => void;\r\n    private readonly onKeyUp: (e: KeyboardEvent) => void;\r\n    private readonly onBlur: () => void;\r\n\r\n    private readonly keyMap: Map<string, number> = new Map();\r\n\r\n    private timestamp: number = 0;\r\n\r\n    constructor() {\r\n        this.onContextmenu = (e: MouseEvent) => {\r\n            e.preventDefault();\r\n        };\r\n        this.onMouseMove = (e: MouseEvent) => {\r\n            this.mouseOver = true;\r\n            this.mouseX = e.offsetX;\r\n            this.mouseY = e.offsetY;\r\n            this.triggerCallback();\r\n        };\r\n        this.onMouseDown = (e: MouseEvent) => {\r\n            switch (e.button) {\r\n                case MouseButton.LEFT:\r\n                    this.mouseLeft = true;\r\n                    this.mouseLeftDownThisFrame = true;\r\n                    break;\r\n                case MouseButton.MIDDLE:\r\n                    this.mouseMiddle = true;\r\n                    this.mouseMiddleDownThisFrame = true;\r\n                    break;\r\n                case MouseButton.RIGHT:\r\n                    this.mouseRight = true;\r\n                    this.mouseRightDownThisFrame = true;\r\n                    break;\r\n            }\r\n            this.triggerCallback();\r\n        };\r\n        this.onMouseUp = (e: MouseEvent) => {\r\n            switch (e.button) {\r\n                case MouseButton.LEFT:\r\n                    this.mouseLeft = false;\r\n                    this.mouseLeftDownThisFrame = false;\r\n                    break;\r\n                case MouseButton.MIDDLE:\r\n                    this.mouseMiddle = false;\r\n                    this.mouseMiddleDownThisFrame = false;\r\n                    break;\r\n                case MouseButton.RIGHT:\r\n                    this.mouseRight = false;\r\n                    this.mouseLeftDownThisFrame = false;\r\n                    break;\r\n            }\r\n            this.triggerCallback();\r\n        };\r\n        this.onMouseLeave = () => {\r\n            this.mouseOver = false;\r\n            this.triggerCallback();\r\n        };\r\n        this.onMouseOut = (e) => {\r\n            if (e.clientY <= 0 || e.clientX <= 0 || (e.clientX >= window.innerWidth || e.clientY >= window.innerHeight)) {\r\n                this.mouseLeft = false;\r\n                this.mouseLeftDownThisFrame = false;\r\n                this.mouseRight = false;\r\n                this.mouseLeftDownThisFrame = false;\r\n            }\r\n            this.triggerCallback();\r\n        };\r\n        this.onWheel = (e: WheelEvent) => {\r\n            e.preventDefault();\r\n            this.wheelDetX += Math.round(e.deltaX / 100);\r\n            this.wheelDetY += Math.round(e.deltaY / 100);\r\n            this.triggerCallback();\r\n        };\r\n        this.onKeyDown = (e: KeyboardEvent) => {\r\n            const target = e.target;\r\n            if (target && 'tagName' in target && (target as HTMLElement).tagName === 'INPUT') {\r\n                return;\r\n            }\r\n            if (e.ctrlKey) {\r\n                e.preventDefault();\r\n            }\r\n            this.keyMap.set(e.key, this.timestamp);\r\n            this.triggerCallback();\r\n        };\r\n        this.onKeyUp = (e: KeyboardEvent) => {\r\n            const target = e.target;\r\n            if (target && 'tagName' in target && (target as HTMLElement).tagName === 'INPUT') {\r\n                return;\r\n            }\r\n            this.keyMap.delete(e.key);\r\n            this.triggerCallback();\r\n        };\r\n        this.onBlur = () => {\r\n            this.keyMap.clear();\r\n            this.triggerCallback();\r\n        };\r\n    }\r\n\r\n    setup(element: HTMLElement) {\r\n        element.addEventListener('contextmenu', this.onContextmenu);\r\n        element.addEventListener('mousemove', this.onMouseMove);\r\n        element.addEventListener('mousedown', this.onMouseDown);\r\n        element.addEventListener('mouseleave', this.onMouseLeave);\r\n        document.addEventListener('mouseup', this.onMouseUp);\r\n        document.addEventListener('mouseout', this.onMouseOut);\r\n        element.addEventListener('wheel', this.onWheel);\r\n        window.addEventListener('keydown', this.onKeyDown);\r\n        window.addEventListener('keyup', this.onKeyUp);\r\n        window.addEventListener('blur', this.onBlur);\r\n    }\r\n\r\n    unload(element: HTMLElement) {\r\n        element.removeEventListener('contextmenu', this.onContextmenu);\r\n        element.removeEventListener('mousemove', this.onMouseMove);\r\n        element.removeEventListener('mousedown', this.onMouseDown);\r\n        element.removeEventListener('mouseleave', this.onMouseLeave);\r\n        document.removeEventListener('mouseup', this.onMouseUp);\r\n        document.removeEventListener('mouseout', this.onMouseOut);\r\n        element.removeEventListener('wheel', this.onWheel);\r\n        window.removeEventListener('keydown', this.onKeyDown);\r\n        window.removeEventListener('keyup', this.onKeyUp);\r\n        window.removeEventListener('blur', this.onBlur);\r\n    }\r\n\r\n    update() {\r\n        this.mouseLeftDownThisFrame = false;\r\n        this.mouseRightDownThisFrame = false;\r\n        this.mouseMiddleDownThisFrame = false;\r\n        this.wheelDetX = 0;\r\n        this.wheelDetY = 0;\r\n        this.timestamp += 1;\r\n    }\r\n\r\n    isKeyPressed(key: string): boolean {\r\n        return this.keyMap.has(key);\r\n    }\r\n\r\n    isKeyPressedThisFrame(key: string): boolean {\r\n        return this.keyMap.get(key) === this.timestamp;\r\n    }\r\n\r\n    private triggerCallback() {\r\n        this.needsUpdate = true;\r\n        requestAnimationFrame(() => {\r\n            if (!this.needsUpdate) {\r\n                return;\r\n            }\r\n            this.needsUpdate = false;\r\n            this.callback && this.callback(this);\r\n            this.update();\r\n        });\r\n    }\r\n\r\n}\r\n","export function isPointInCircle(px: number, py: number, cx: number, cy: number, radius: number): boolean {\r\n    return (px - cx) ** 2 + (py - cy) ** 2 <= radius ** 2;\r\n}\r\n\r\nexport function isPointInTriangle(\r\n    x: number,\r\n    y: number,\r\n    ax: number,\r\n    ay: number,\r\n    bx: number,\r\n    by: number,\r\n    cx: number,\r\n    cy: number\r\n): boolean {\r\n    const v0x = cx - ax;\r\n    const v0y = cy - ay;\r\n    const v1x = cx - bx;\r\n    const v1y = cy - by;\r\n    const v2x = cx - x;\r\n    const v2y = cy - y;\r\n    const d00 = v0x * v0x + v0y * v0y;\r\n    const d01 = v0x * v1x + v0y * v1y;\r\n    const d02 = v0x * v2x + v0y * v2y;\r\n    const d11 = v1x * v1x + v1y * v1y;\r\n    const d12 = v1x * v2x + v1y * v2y;\r\n    const inv = 1 / (d00 * d11 - d01 * d01);\r\n    const u = (d11 * d02 - d01 * d12) * inv;\r\n    const v = (d00 * d12 - d01 * d02) * inv;\r\n    if (u < 0 || u > 1 || v < 0 || v > 1) {\r\n        return false;\r\n    }\r\n    return u + v <= 1;\r\n}\r\n\r\nexport function isCircleInRect(\r\n    cx: number,\r\n    cy: number,\r\n    radius: number,\r\n    x0: number,\r\n    y0: number,\r\n    x1: number,\r\n    y1: number\r\n): boolean {\r\n    if (x0 > x1) {\r\n        [x0, x1] = [x1, x0];\r\n    }\r\n    if (y0 > y1) {\r\n        [y0, y1] = [y1, y0];\r\n    }\r\n    return !(\r\n        cx + radius < x0\r\n        || cx - radius > x1\r\n        || cy + radius < y0\r\n        || cy - radius > y1\r\n    );\r\n}","export const A_POSITION = 'a_position';\r\nexport const A_TEX_COORD = 'a_texCoord';\r\nexport const A_COLOR = 'a_color';\r\n\r\nexport const U_TEXTURE = 'u_texture';\r\n","import Texture from './Texture';\r\n\r\nexport default class FrameBuffer {\r\n\r\n    glFrameBuffer?: WebGLFramebuffer;\r\n    textures: Texture[] = [];\r\n    depthTexture?: Texture;\r\n    stencilTexture?: Texture;\r\n\r\n    constructor(glFrameBuffer: WebGLFramebuffer) {\r\n        this.glFrameBuffer = glFrameBuffer;\r\n    }\r\n\r\n    get texture(): Texture | undefined {\r\n        return this.textures[0];\r\n    }\r\n\r\n}\r\n","export default class Texture {\r\n    glTexture?: WebGLTexture;\r\n\r\n    level: GLint;\r\n    internalFormat: GLint;\r\n    width: number;\r\n    height: number;\r\n    border: GLint;\r\n    format: GLenum;\r\n    type: GLenum;\r\n\r\n    flipY: boolean = false;\r\n    image?: HTMLImageElement;\r\n\r\n    constructor(glTexture: WebGLTexture,\r\n                level: number,\r\n                internalformat: number,\r\n                width: number,\r\n                height: number,\r\n                border: number,\r\n                format: number,\r\n                type: number\r\n    ) {\r\n        this.glTexture = glTexture;\r\n        this.level = level;\r\n        this.internalFormat = internalformat;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.border = border;\r\n        this.format = format;\r\n        this.type = type;\r\n    }\r\n\r\n}\r\n","import Texture from './Texture';\r\n\r\nexport default function getUniformSetter(\r\n    gl: WebGL2RenderingContext,\r\n    name: string,\r\n    size: GLint,\r\n    type: GLenum,\r\n    location: WebGLUniformLocation,\r\n    samplerCounter: { count: number }\r\n): (val: any) => void {\r\n    if (name.substr(-3) === '[0]') {\r\n        switch (type) {\r\n            case gl.FLOAT:\r\n                return function (val: Float32List) {\r\n                    gl.uniform1fv(location, val);\r\n                };\r\n            case gl.INT:\r\n                return function (val: Int32List) {\r\n                    gl.uniform1iv(location, val);\r\n                };\r\n            case gl.UNSIGNED_INT:\r\n                return function (val: Uint32List) {\r\n                    gl.uniform1uiv(location, val);\r\n                };\r\n            case gl.SAMPLER_2D:\r\n                const units = new Int32Array(size);\r\n                for (let ii = 0; ii < size; ++ii) {\r\n                    units[ii] = samplerCounter.count++;\r\n                }\r\n                return function (textures: (WebGLTexture | Texture | null | undefined)[]) {\r\n                    gl.uniform1iv(location, units);\r\n                    for (let ii = 0; ii < size; ++ii) {\r\n                        let texture = textures[ii];\r\n                        if (texture instanceof Texture) {\r\n                            texture = texture.glTexture;\r\n                        }\r\n                        gl.activeTexture(gl.TEXTURE0 + units[ii]);\r\n                        gl.bindTexture(gl.TEXTURE_2D, texture || null);\r\n                    }\r\n                };\r\n            default:\r\n                throw new Error(`Unimplemented setter type (uniform: ${name}, type: ${type})`);\r\n        }\r\n    }\r\n    switch (type) {\r\n        case gl.FLOAT:\r\n            return function (val: GLfloat) {\r\n                gl.uniform1f(location, val);\r\n            };\r\n        case gl.FLOAT_VEC2:\r\n            return function (val: Float32List) {\r\n                gl.uniform2fv(location, val);\r\n            };\r\n        case gl.FLOAT_VEC3:\r\n            return function (val: Float32List) {\r\n                gl.uniform3fv(location, val);\r\n            };\r\n        case gl.FLOAT_VEC4:\r\n            return function (val: Float32List) {\r\n                gl.uniform4fv(location, val);\r\n            };\r\n        case gl.BOOL:\r\n        case gl.INT:\r\n            return function (val: GLint) {\r\n                gl.uniform1i(location, val);\r\n            };\r\n        case gl.BOOL_VEC2:\r\n        case gl.INT_VEC2:\r\n            return function (val: Int32List) {\r\n                gl.uniform2iv(location, val);\r\n            };\r\n        case gl.BOOL_VEC3:\r\n        case gl.INT_VEC3:\r\n            return function (val: Int32List) {\r\n                gl.uniform3iv(location, val);\r\n            };\r\n        case gl.BOOL_VEC4:\r\n        case gl.INT_VEC4:\r\n            return function (val: Int32List) {\r\n                gl.uniform4iv(location, val);\r\n            };\r\n        case gl.FLOAT_MAT2:\r\n            return function (val: Float32List) {\r\n                gl.uniformMatrix2fv(location, false, val);\r\n            };\r\n        case gl.FLOAT_MAT3:\r\n            return function (val: Float32List) {\r\n                gl.uniformMatrix3fv(location, false, val);\r\n            };\r\n        case gl.FLOAT_MAT4:\r\n            return function (val: Float32List) {\r\n                gl.uniformMatrix4fv(location, false, val);\r\n            };\r\n        case gl.SAMPLER_2D:\r\n            const ii = samplerCounter.count++;\r\n            return function (val: WebGLTexture | Texture | null | undefined) {\r\n                if (val instanceof Texture) {\r\n                    val = val.glTexture;\r\n                }\r\n                gl.uniform1i(location, ii);\r\n                gl.activeTexture(gl.TEXTURE0 + ii);\r\n                gl.bindTexture(gl.TEXTURE_2D, val || null);\r\n            };\r\n        default:\r\n            throw new Error(`Unimplemented setter type (uniform: ${name}, type: ${type})`);\r\n    }\r\n}\r\n","class AttributeInfo {\r\n    name: string;\r\n    size: GLint;\r\n    type: GLenum;\r\n    location: GLint;\r\n\r\n    constructor(name: string, size: GLint, type: GLenum, location: GLint) {\r\n        this.name = name;\r\n        this.size = size;\r\n        this.type = type;\r\n        this.location = location;\r\n    }\r\n}\r\n\r\nclass UniformInfo {\r\n    name: string;\r\n    size: GLint;\r\n    type: GLenum;\r\n    location: WebGLUniformLocation;\r\n    setter: (val: any) => void;\r\n\r\n    constructor(name: string, size: GLint, type: GLenum, location: WebGLUniformLocation, setter: (val: any) => void) {\r\n        this.name = name;\r\n        this.size = size;\r\n        this.type = type;\r\n        this.location = location;\r\n        this.setter = setter;\r\n    }\r\n}\r\n\r\nexport default class Shader {\r\n    vertShader?: WebGLShader;\r\n    fragShader?: WebGLShader;\r\n    program?: WebGLProgram;\r\n\r\n    attributes: { [name: string]: AttributeInfo } = {};\r\n    uniforms: { [name: string]: UniformInfo } = {};\r\n\r\n    constructor(vertShader: WebGLShader, fragShader: WebGLShader, program: WebGLProgram) {\r\n        this.vertShader = vertShader;\r\n        this.fragShader = fragShader;\r\n        this.program = program;\r\n    }\r\n\r\n    registerAttribute(name: string, size: GLint, type: GLenum, location: GLint) {\r\n        this.attributes[name] = new AttributeInfo(name, size, type, location);\r\n    }\r\n\r\n    registerUniform(name: string, size: GLint, type: GLenum, location: WebGLUniformLocation, setter: (val: any) => void) {\r\n        if (name.endsWith('[0]')) {\r\n            name = name.substr(0, name.length - '[0]'.length);\r\n        }\r\n        this.uniforms[name] = new UniformInfo(name, size, type, location, setter);\r\n    }\r\n}\r\n","import {A_COLOR, A_POSITION, A_TEX_COORD, U_TEXTURE} from './constants';\r\nimport FrameBuffer from './FrameBuffer';\r\nimport Geometry from './Geometry';\r\nimport getUniformSetter from './get-uniform-setter';\r\nimport Label from './Label';\r\nimport Shader from './Shader';\r\nimport color2dFrag from './shaders/color-2d.frag';\r\nimport color2dVert from './shaders/color-2d.vert';\r\nimport image2dFrag from './shaders/image-2d.frag';\r\nimport image2dVert from './shaders/image-2d.vert';\r\nimport Texture from './Texture';\r\n\r\nenum Side {\r\n    NONE, FRONT, BACK\r\n}\r\n\r\nenum BatchType {\r\n    MESH, LINES\r\n}\r\n\r\nenum BlendMode {\r\n    OVERLAP, LIGHT, PIGMENT\r\n}\r\n\r\ninterface RendererState {\r\n    /** Viewport width. */\r\n    width: number;\r\n    /** Viewport height. */\r\n    height: number;\r\n    /** 2D draw color. */\r\n    color: { r: number, g: number, b: number, a: number };\r\n    /** 2D camera x. */\r\n    cameraX: number;\r\n    /** 2D camera y. */\r\n    cameraY: number;\r\n    /** 2D camera zoom. */\r\n    zoom: number;\r\n    blendMode: BlendMode;\r\n}\r\n\r\nexport default class Renderer {\r\n\r\n    private static _sharedInstance?: Renderer;\r\n\r\n    static sharedInstance(): Renderer {\r\n        if (!Renderer._sharedInstance) {\r\n            Renderer._sharedInstance = new Renderer();\r\n        }\r\n        return Renderer._sharedInstance;\r\n    }\r\n\r\n    readonly SIDE_NONE = Side.NONE;\r\n    readonly SIDE_FRONT = Side.FRONT;\r\n    readonly SIDE_BACK = Side.BACK;\r\n\r\n    readonly BLEND_MODE_OVERLAP = BlendMode.OVERLAP;\r\n    readonly BLEND_MODE_LIGHT = BlendMode.LIGHT;\r\n    readonly BLEND_MODE_PIGMENT = BlendMode.PIGMENT;\r\n\r\n    readonly canvas: HTMLCanvasElement;\r\n    readonly gl: WebGL2RenderingContext;\r\n    attribLocations?: { [name: string]: number };\r\n\r\n    /** An 1x1 0xfff pixel. */\r\n    readonly BLANK_WHITE: Texture;\r\n    readonly IMAGE_2D_SHADER: Shader;\r\n    readonly COLOR_2D_SHADER: Shader;\r\n\r\n    private currentShader?: Shader;\r\n    private readonly frameBufferStack: FrameBuffer[] = [];\r\n    private currentFrameBuffer?: FrameBuffer;\r\n\r\n    private readonly batchSize: number;\r\n    private readonly batchPositionVertices: Float32Array;\r\n    private readonly batchTexCoordVertices: Float32Array;\r\n    private readonly batchColorVertices: Float32Array;\r\n    private readonly batchPositionBuffer: WebGLBuffer;\r\n    private readonly batchTexCoordBuffer: WebGLBuffer;\r\n    private readonly batchColorBuffer: WebGLBuffer;\r\n    private batchType: BatchType = BatchType.MESH;\r\n    private batchTexture?: Texture;\r\n    private batchIndex: number = 0;\r\n    private drawing2D: boolean = false;\r\n\r\n    public state: RendererState = {\r\n        width: 0,\r\n        height: 0,\r\n        color: {r: 1, g: 1, b: 1, a: 1},\r\n        cameraX: 0,\r\n        cameraY: 0,\r\n        zoom: 1,\r\n        blendMode: BlendMode.OVERLAP\r\n    };\r\n    private stateStack: RendererState[] = [];\r\n\r\n    constructor(target?: HTMLCanvasElement | WebGL2RenderingContext, batchSize: number = 2000) {\r\n        let canvas: HTMLCanvasElement;\r\n        let gl: WebGL2RenderingContext | null = null;\r\n        if (!target) {\r\n            canvas = document.createElement('canvas');\r\n        } else {\r\n            if (target instanceof HTMLCanvasElement) {\r\n                canvas = target;\r\n            } else {\r\n                canvas = target.canvas as HTMLCanvasElement;\r\n                gl = target;\r\n            }\r\n        }\r\n        if (!gl) {\r\n            gl = canvas.getContext('webgl2',\r\n                {\r\n                    alpha: true,\r\n                    antialias: false,\r\n                    depth: true,\r\n                    premultipliedAlpha: false,\r\n                    preserveDrawingBuffer: false,\r\n                    stencil: false\r\n                }\r\n            );\r\n            if (!gl) {\r\n                throw new Error('Failed to create WebGL2 rendering context');\r\n            }\r\n        }\r\n        this.canvas = canvas;\r\n        this.gl = gl;\r\n        this.state.width = canvas.width;\r\n        this.state.height = canvas.height;\r\n        gl.viewport(0, 0, this.state.width, this.state.height);\r\n        gl.enable(gl.BLEND);\r\n\r\n        this.BLANK_WHITE = this.createTextureFromRgbaPixels(1, 1, new Uint8Array([0xff, 0xff, 0xff, 0xff]));\r\n\r\n        this.IMAGE_2D_SHADER = this.createShader(image2dVert, image2dFrag);\r\n        this.COLOR_2D_SHADER = this.createShader(color2dVert, color2dFrag);\r\n\r\n        this.batchSize = batchSize;\r\n        this.batchPositionVertices = new Float32Array(batchSize * 3 * 2 * 2);\r\n        this.batchPositionBuffer = this.createDynamicDrawBuffer(this.batchPositionVertices);\r\n        this.batchTexCoordVertices = new Float32Array(batchSize * 3 * 2 * 2);\r\n        this.batchTexCoordBuffer = this.createDynamicDrawBuffer(this.batchTexCoordVertices);\r\n        this.batchColorVertices = new Float32Array(batchSize * 3 * 2 * 4);\r\n        this.batchColorBuffer = this.createDynamicDrawBuffer(this.batchColorVertices);\r\n    }\r\n\r\n    copyTo(\r\n        ctx: CanvasRenderingContext2D,\r\n        dx: number = 0,\r\n        dy: number = 0,\r\n        dw: number = this.state.width,\r\n        dh: number = this.state.height,\r\n        sx: number = 0,\r\n        sy: number = 0,\r\n        sw: number = this.state.width,\r\n        sh: number = this.state.height\r\n    ) {\r\n        ctx.drawImage(this.canvas, sx, sy, sw, sh, dx, dy, dw, dh);\r\n    }\r\n\r\n    viewport(width: number, height: number) {\r\n        this.state.width = width;\r\n        this.state.height = height;\r\n        this.gl.viewport(0, 0, this.state.width, this.state.height);\r\n    }\r\n\r\n    resizeCanvas(width: number, height: number) {\r\n        if (this.canvas.width !== width || this.canvas.height !== height) {\r\n            this.canvas.width = width;\r\n            this.canvas.height = height;\r\n        }\r\n        this.viewport(width, height);\r\n    }\r\n\r\n    clearColor(r: number = 0, g: number = 0, b: number = 0, a: number = 0) {\r\n        const gl = this.gl;\r\n        gl.clearColor(r, g, b, a);\r\n    }\r\n\r\n    clear(color: boolean, depth: boolean, stencil: boolean) {\r\n        this.flush2D();\r\n        this.switchFrameBuffer();\r\n        const gl = this.gl;\r\n        let mask = 0;\r\n        if (color) {\r\n            mask |= gl.COLOR_BUFFER_BIT;\r\n        }\r\n        if (depth) {\r\n            mask |= gl.DEPTH_BUFFER_BIT;\r\n        }\r\n        if (stencil) {\r\n            mask |= gl.STENCIL_BUFFER_BIT;\r\n        }\r\n        gl.clear(mask);\r\n    }\r\n\r\n    depthTest(enabled: boolean) {\r\n        const gl = this.gl;\r\n        if (enabled) {\r\n            gl.enable(gl.DEPTH_TEST);\r\n            gl.depthFunc(gl.LEQUAL);\r\n        } else {\r\n            gl.disable(gl.DEPTH_TEST);\r\n        }\r\n    }\r\n\r\n    depthMask(enabled: boolean) {\r\n        this.gl.depthMask(enabled);\r\n    }\r\n\r\n    cullFace(side: Side) {\r\n        const gl = this.gl;\r\n        switch (side) {\r\n            case Side.NONE:\r\n                gl.disable(gl.CULL_FACE);\r\n                break;\r\n            case Side.FRONT:\r\n                gl.enable(gl.CULL_FACE);\r\n                gl.cullFace(gl.FRONT);\r\n                break;\r\n            case Side.BACK:\r\n                gl.enable(gl.CULL_FACE);\r\n                gl.cullFace(gl.BACK);\r\n                break;\r\n        }\r\n    }\r\n\r\n    blendMode(blendMode: BlendMode) {\r\n        if (blendMode === this.state.blendMode) {\r\n            return;\r\n        }\r\n        this.state.blendMode = blendMode;\r\n        this.flush2D();\r\n        const gl = this.gl;\r\n        switch (blendMode) {\r\n            case BlendMode.OVERLAP:\r\n                gl.blendEquation(gl.FUNC_ADD);\r\n                gl.blendFunc(gl.ONE, gl.ZERO);\r\n                break;\r\n            case BlendMode.LIGHT:\r\n                gl.blendEquation(gl.FUNC_ADD);\r\n                gl.blendFunc(gl.SRC_ALPHA, gl.ONE);\r\n                break;\r\n            case BlendMode.PIGMENT: {\r\n                gl.blendEquationSeparate(gl.FUNC_ADD, gl.MAX);\r\n                gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\r\n            }\r\n                break;\r\n        }\r\n    }\r\n\r\n    useShader(shader?: Shader) {\r\n        if (shader !== this.currentShader) {\r\n            this.flush2D();\r\n            this.currentShader = shader;\r\n            if (shader) {\r\n                const gl = this.gl;\r\n                gl.useProgram(shader.program!);\r\n            }\r\n        }\r\n    }\r\n\r\n    uniform(name: string, value: any) {\r\n        const shader = this.currentShader;\r\n        if (!shader) {\r\n            return;\r\n        }\r\n        this.flush2D();\r\n        const uniform = shader.uniforms[name];\r\n        uniform?.setter(value);\r\n    }\r\n\r\n    save() {\r\n        if (this.stateStack.length > 999) {\r\n            throw new Error('State stack has reach a max size of 999');\r\n        }\r\n        const state = this.state;\r\n        const color = state.color;\r\n        this.stateStack.push({\r\n            width: state.width,\r\n            height: state.height,\r\n            color: {r: color.r, g: color.g, b: color.b, a: color.a},\r\n            cameraX: state.cameraX,\r\n            cameraY: state.cameraY,\r\n            zoom: state.zoom,\r\n            blendMode: state.blendMode\r\n        });\r\n    }\r\n\r\n    restore() {\r\n        const state = this.stateStack.pop();\r\n        if (!state) {\r\n            throw new Error('State stack is empty');\r\n        }\r\n        this.state.color.r = state.color.r;\r\n        this.state.color.g = state.color.g;\r\n        this.state.color.b = state.color.b;\r\n        this.state.color.a = state.color.a;\r\n        this.state.cameraX = state.cameraX;\r\n        this.state.cameraY = state.cameraY;\r\n        this.state.zoom = state.zoom;\r\n        this.viewport(state.width, state.height);\r\n        this.blendMode(state.blendMode);\r\n    }\r\n\r\n    private createDynamicDrawBuffer(vertices: Float32Array) {\r\n        const gl = this.gl;\r\n        const buffer = gl.createBuffer();\r\n        if (!buffer) {\r\n            throw new Error('Failed to create WebGL buffer');\r\n        }\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\r\n        gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.DYNAMIC_DRAW);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n        return buffer;\r\n    }\r\n\r\n    private createVBO(vertices: Float32Array) {\r\n        const gl = this.gl;\r\n        const vbo = gl.createBuffer();\r\n        if (!vbo) {\r\n            throw new Error('Failed to create WebGL buffer');\r\n        }\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\r\n        gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n        return vbo;\r\n    }\r\n\r\n    private createIBO(indices: number[]) {\r\n        const gl = this.gl;\r\n        const ibo = gl.createBuffer();\r\n        if (!ibo) {\r\n            throw new Error('Failed to create WebGL buffer');\r\n        }\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibo);\r\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indices), gl.STATIC_DRAW);\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\r\n        return ibo;\r\n    }\r\n\r\n    private bindVertexArrayAttribute(\r\n        location: GLint,\r\n        buffer: WebGLBuffer,\r\n        componentSize: GLint = 4,\r\n        type: GLenum = this.gl.FLOAT,\r\n        normalized: GLboolean = false,\r\n        stride: GLsizei = 0,\r\n        offset: GLintptr = 0\r\n    ) {\r\n        const gl = this.gl;\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\r\n        gl.enableVertexAttribArray(location);\r\n        gl.vertexAttribPointer(location, componentSize, type, normalized, stride, offset);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n    }\r\n\r\n    // ====================== texture ======================\r\n\r\n    createEmptyTexture(width: number = this.state.width, height: number = this.state.height, flipY: boolean = false): Texture {\r\n        if (width < 0 || height < 0) {\r\n            throw new Error('Negative width/height');\r\n        }\r\n        const gl = this.gl;\r\n        const texture = gl.createTexture();\r\n        if (!texture) {\r\n            throw new Error('Failed to create WebGL texture');\r\n        }\r\n        gl.bindTexture(gl.TEXTURE_2D, texture);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\r\n        gl.bindTexture(gl.TEXTURE_2D, null);\r\n        const ret = new Texture(texture, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE);\r\n        ret.flipY = flipY;\r\n        return ret;\r\n    }\r\n\r\n    createTexture(image: TexImageSource): Texture {\r\n        const texture = this.createEmptyTexture(image.width, image.height);\r\n        const gl = this.gl;\r\n        gl.bindTexture(gl.TEXTURE_2D, texture.glTexture!);\r\n        gl.texImage2D(gl.TEXTURE_2D, texture.level, texture.internalFormat, texture.format, texture.type, image);\r\n        gl.bindTexture(gl.TEXTURE_2D, null);\r\n        return texture;\r\n    }\r\n\r\n    createTextureFromImageUrl(url: string): Promise<Texture> {\r\n        return new Promise((resolve, reject) => {\r\n            try {\r\n                const image = new Image();\r\n                image.onload = () => {\r\n                    try {\r\n                        const texture = this.createTexture(image);\r\n                        texture.image = image;\r\n                        resolve(texture);\r\n                    } catch (e) {\r\n                        reject(e);\r\n                    }\r\n                };\r\n                image.onabort = image.onerror = (e: string | Event) => {\r\n                    reject(e);\r\n                };\r\n                image.src = url;\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    }\r\n\r\n    createDepthTexture(width: number = this.state.width, height: number = this.state.height) {\r\n        if (width < 0 || height < 0) {\r\n            throw new Error('Negative width/height');\r\n        }\r\n        const gl = this.gl;\r\n        const texture = gl.createTexture();\r\n        if (!texture) {\r\n            throw new Error('Failed to create WebGL texture');\r\n        }\r\n        gl.bindTexture(gl.TEXTURE_2D, texture);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.DEPTH_COMPONENT32F, width, height, 0, gl.DEPTH_COMPONENT, gl.FLOAT, null);\r\n        gl.bindTexture(gl.TEXTURE_2D, null);\r\n        return new Texture(texture, 0, gl.DEPTH_COMPONENT32F, width, height, 0, gl.DEPTH_COMPONENT, gl.FLOAT);\r\n    }\r\n\r\n    createTextureFromRgbaPixels(width: number, height: number, pixels: ArrayBufferView) {\r\n        const texture = this.createEmptyTexture(width, height);\r\n        const gl = this.gl;\r\n        gl.bindTexture(gl.TEXTURE_2D, texture.glTexture!);\r\n        gl.texImage2D(gl.TEXTURE_2D, texture.level, texture.internalFormat, width, height, texture.border, texture.format, texture.type, pixels);\r\n        gl.bindTexture(gl.TEXTURE_2D, null);\r\n        return texture;\r\n    }\r\n\r\n    setTextureFromPixels(texture: Texture, width: number, height: number, pixels: ArrayBufferView) {\r\n        const gl = this.gl;\r\n        if (!texture.glTexture) {\r\n            throw new Error('Texture has been deleted');\r\n        }\r\n        gl.bindTexture(gl.TEXTURE_2D, texture.glTexture);\r\n        gl.texImage2D(gl.TEXTURE_2D, texture.level, texture.internalFormat, width, height, texture.border, texture.format, texture.type, pixels);\r\n        gl.bindTexture(gl.TEXTURE_2D, null);\r\n        texture.width = width;\r\n        texture.height = height;\r\n    }\r\n\r\n    deleteTexture(texture: Texture) {\r\n        if (texture.glTexture) {\r\n            this.gl.deleteTexture(texture.glTexture);\r\n            texture.glTexture = undefined;\r\n        }\r\n        texture.width = 0;\r\n        texture.height = 0;\r\n    }\r\n\r\n    resizeTexture(texture: Texture,\r\n                  width: number = this.state.width,\r\n                  height: number = this.state.height,\r\n                  recreate: boolean = false\r\n    ) {\r\n        if (width < 0 || height < 0) {\r\n            throw new Error('Negative width/height');\r\n        }\r\n        if (texture.width === width && texture.height === height) {\r\n            return;\r\n        }\r\n        const gl = this.gl;\r\n        if (!texture.glTexture) {\r\n            throw new Error('Texture has been deleted');\r\n        }\r\n        gl.bindTexture(gl.TEXTURE_2D, texture.glTexture);\r\n        gl.texImage2D(gl.TEXTURE_2D, texture.level, texture.internalFormat, width, height, texture.border, texture.format, texture.type, null);\r\n        gl.bindTexture(gl.TEXTURE_2D, null);\r\n        texture.width = width;\r\n        texture.height = height;\r\n    }\r\n\r\n    // ====================== shader ======================\r\n\r\n    private createGlShader(src: string, type: GLenum): WebGLShader {\r\n        const gl = this.gl;\r\n        const shader = gl.createShader(type);\r\n        if (!shader) {\r\n            throw new Error('Failed to create WebGL shader');\r\n        }\r\n        gl.shaderSource(shader, src);\r\n        gl.compileShader(shader);\r\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n            throw new Error('Failed to compile WebGL shader:\\n\\n' + gl.getShaderInfoLog(shader));\r\n        }\r\n        return shader;\r\n    }\r\n\r\n    createShader(vertSrc: string, fragSrc: string): Shader {\r\n        const gl = this.gl;\r\n        const vertShader = this.createGlShader(vertSrc, gl.VERTEX_SHADER);\r\n        const fragShader = this.createGlShader(fragSrc, gl.FRAGMENT_SHADER);\r\n        const program = gl.createProgram();\r\n        if (!program) {\r\n            throw new Error('Failed to create WebGL program');\r\n        }\r\n        gl.attachShader(program, vertShader);\r\n        gl.attachShader(program, fragShader);\r\n        const attribLocations = this.attribLocations;\r\n        if (attribLocations) {\r\n            for (let attrName in attribLocations) {\r\n                if (attribLocations.hasOwnProperty(attrName)) {\r\n                    gl.bindAttribLocation(program, attribLocations[attrName], attrName);\r\n                }\r\n            }\r\n        }\r\n        gl.linkProgram(program);\r\n        if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\r\n            throw new Error('Failed to link WebGL program:\\n\\n' + gl.getProgramInfoLog(program));\r\n        }\r\n\r\n        const shader = new Shader(vertShader, fragShader, program);\r\n\r\n        const numOfAttrs = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\r\n        for (let i = 0; i < numOfAttrs; ++i) {\r\n            const info = gl.getActiveAttrib(program, i);\r\n            if (!info) {\r\n                throw new Error('Failed to get WebGL attribute info');\r\n            }\r\n            const location = gl.getAttribLocation(program, info.name);\r\n            shader.registerAttribute(info.name, info.size, info.type, location);\r\n        }\r\n\r\n        const numOfUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\r\n        const samplerCounter = {count: 0};\r\n        for (let i = 0; i < numOfUniforms; ++i) {\r\n            const info = gl.getActiveUniform(program, i);\r\n            if (!info) {\r\n                throw new Error('Failed to get WebGL uniform info');\r\n            }\r\n            const location = gl.getUniformLocation(program, info.name);\r\n            if (location == null) {\r\n                throw new Error('Failed to get uniform location');\r\n            }\r\n            shader.registerUniform(\r\n                info.name,\r\n                info.size,\r\n                info.type,\r\n                location,\r\n                getUniformSetter(gl, info.name, info.size, info.type, location, samplerCounter)\r\n            );\r\n        }\r\n\r\n        return shader;\r\n    }\r\n\r\n    deleteShader(shader: Shader) {\r\n        const gl = this.gl;\r\n        if (shader.program) {\r\n            gl.deleteProgram(shader.program);\r\n            shader.program = undefined;\r\n        }\r\n        if (shader.vertShader) {\r\n            gl.deleteShader(shader.vertShader);\r\n            shader.vertShader = undefined;\r\n        }\r\n        if (shader.fragShader) {\r\n            gl.deleteShader(shader.fragShader);\r\n            shader.fragShader = undefined;\r\n        }\r\n        shader.uniforms = {};\r\n        shader.attributes = {};\r\n    }\r\n\r\n    // ====================== frame buffer ======================\r\n\r\n    createFrameBuffer(): FrameBuffer {\r\n        const gl = this.gl;\r\n        const frameBuffer = gl.createFramebuffer();\r\n        if (!frameBuffer) {\r\n            throw new Error('Failed to create WebGL frame buffer');\r\n        }\r\n        return new FrameBuffer(frameBuffer);\r\n    }\r\n\r\n    attachColorTexture(frameBuffer: FrameBuffer, texture: Texture | null) {\r\n        this.attachColorTextures(frameBuffer, texture ? [texture] : []);\r\n    }\r\n\r\n    attachColorTextures(frameBuffer: FrameBuffer, textures: Texture[]) {\r\n        const gl = this.gl;\r\n        if (!frameBuffer.glFrameBuffer) {\r\n            throw new Error('Frame buffer has been deleted');\r\n        }\r\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer.glFrameBuffer);\r\n        frameBuffer.textures.length = textures.length;\r\n        textures.forEach((texture, index) => {\r\n            if (!texture.glTexture) {\r\n                throw new Error('Texture has been deleted');\r\n            }\r\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + index, gl.TEXTURE_2D, texture.glTexture, texture.level);\r\n\r\n            frameBuffer.textures[index] = texture;\r\n        });\r\n        gl.drawBuffers(textures.map((texture, index) => (gl.COLOR_ATTACHMENT0 + index)));\r\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n        this.currentFrameBuffer = undefined;\r\n    }\r\n\r\n    attachDepthTexture(frameBuffer: FrameBuffer, texture: Texture | null) {\r\n        const gl = this.gl;\r\n        if (!frameBuffer.glFrameBuffer) {\r\n            throw new Error('Frame buffer has been deleted');\r\n        }\r\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer.glFrameBuffer);\r\n        if (texture) {\r\n            if (!texture.glTexture) {\r\n                throw new Error('Texture has been deleted');\r\n            }\r\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.TEXTURE_2D, texture.glTexture, texture.level);\r\n            frameBuffer.depthTexture = texture;\r\n        } else {\r\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.TEXTURE_2D, null, 0);\r\n            frameBuffer.depthTexture = undefined;\r\n        }\r\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n        this.currentFrameBuffer = undefined;\r\n    }\r\n\r\n    attachStencilTexture(frameBuffer: FrameBuffer, texture: Texture | null) {\r\n        const gl = this.gl;\r\n        if (!frameBuffer.glFrameBuffer) {\r\n            throw new Error('Frame buffer has been deleted');\r\n        }\r\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer.glFrameBuffer);\r\n        if (texture) {\r\n            if (!texture.glTexture) {\r\n                throw new Error('Texture has been deleted');\r\n            }\r\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.STENCIL_ATTACHMENT, gl.TEXTURE_2D, texture.glTexture, texture.level);\r\n            frameBuffer.stencilTexture = texture;\r\n        } else {\r\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.STENCIL_ATTACHMENT, gl.TEXTURE_2D, null, 0);\r\n            frameBuffer.stencilTexture = undefined;\r\n        }\r\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n        this.currentFrameBuffer = undefined;\r\n    }\r\n\r\n    deleteFrameBuffer(frameBuffer: FrameBuffer, deleteTexture: boolean = false) {\r\n        if (frameBuffer.glFrameBuffer) {\r\n            this.gl.deleteFramebuffer(frameBuffer.glFrameBuffer);\r\n            frameBuffer.glFrameBuffer = undefined;\r\n        }\r\n        if (deleteTexture) {\r\n            frameBuffer.textures.forEach(texture => this.deleteTexture(texture));\r\n        }\r\n    }\r\n\r\n    resizeFrameBuffer(frameBuffer: FrameBuffer, width: number = this.state.width, height: number = this.state.height) {\r\n        frameBuffer.textures.forEach(texture => this.resizeTexture(texture, width, height));\r\n        frameBuffer.depthTexture && this.resizeTexture(frameBuffer.depthTexture, width, height);\r\n        frameBuffer.stencilTexture && this.resizeTexture(frameBuffer.stencilTexture, width, height);\r\n    }\r\n\r\n    startCapture(frameBuffer: FrameBuffer) {\r\n        this.flush2D();\r\n        this.frameBufferStack.push(frameBuffer);\r\n    }\r\n\r\n    endCapture() {\r\n        this.flush2D();\r\n        this.frameBufferStack.pop();\r\n    }\r\n\r\n    private switchFrameBuffer() {\r\n        const stack = this.frameBufferStack;\r\n        const frameBuffer = stack.length ? stack[stack.length - 1] : undefined;\r\n        if (frameBuffer !== this.currentFrameBuffer) {\r\n            this.currentFrameBuffer = frameBuffer || undefined;\r\n            const gl = this.gl;\r\n            gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer?.glFrameBuffer || null);\r\n        }\r\n    }\r\n\r\n    // ====================== 3d - geometry ======================\r\n\r\n    disposeGeometry(geometry: Geometry) {\r\n        const gl = this.gl;\r\n        if (geometry.vao) {\r\n            gl.deleteVertexArray(geometry.vao);\r\n            geometry.vao = undefined;\r\n        }\r\n        if (geometry.ibo) {\r\n            gl.deleteBuffer(geometry.ibo);\r\n            geometry.ibo = undefined;\r\n        }\r\n        geometry.attributes.forEach(attr => {\r\n            if (attr.vbo) {\r\n                gl.deleteBuffer(attr.vbo);\r\n                attr.vbo = undefined;\r\n            }\r\n        });\r\n    }\r\n\r\n    drawGeometry(geometry: Geometry) {\r\n        if (this.drawing2D) {\r\n            throw new Error('Renderer.end2D must be call before draw geometry');\r\n        }\r\n\r\n        const gl = this.gl;\r\n\r\n        if (!geometry.vao) {\r\n            const vao = gl.createVertexArray();\r\n            if (!vao) {\r\n                throw new Error('Failed to create Vertex Array Object');\r\n            }\r\n            geometry.vao = vao;\r\n            gl.bindVertexArray(vao);\r\n            const shader = this.currentShader;\r\n            if (!shader) {\r\n                throw new Error('Shader not set');\r\n            }\r\n            const attribLocations = this.attribLocations;\r\n            geometry.attributes.forEach(geoAttr => {\r\n                if (!geoAttr.vbo) {\r\n                    geoAttr.vbo = this.createVBO(geoAttr.vertices);\r\n                }\r\n                if (attribLocations && attribLocations.hasOwnProperty(geoAttr.name)) {\r\n                    this.bindVertexArrayAttribute(\r\n                        attribLocations[geoAttr.name],\r\n                        geoAttr.vbo,\r\n                        geoAttr.componentSize\r\n                    );\r\n                } else {\r\n                    const attribute = shader.attributes[geoAttr.name];\r\n                    if (attribute) {\r\n                        this.bindVertexArrayAttribute(\r\n                            attribute.location,\r\n                            geoAttr.vbo,\r\n                            geoAttr.componentSize\r\n                        );\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        gl.bindVertexArray(geometry.vao);\r\n\r\n        if (!geometry.ibo) {\r\n            geometry.ibo = this.createIBO(geometry.indices);\r\n        }\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, geometry.ibo);\r\n\r\n        this.switchFrameBuffer();\r\n        switch (geometry.type) {\r\n            case Geometry.TYPE_TRIANGLES:\r\n                gl.drawElements(gl.TRIANGLES, geometry.indices.length, gl.UNSIGNED_SHORT, 0);\r\n                break;\r\n            case Geometry.TYPE_LINES:\r\n                gl.drawElements(gl.LINES, geometry.indices.length, gl.UNSIGNED_SHORT, 0);\r\n                break;\r\n        }\r\n\r\n        gl.bindVertexArray(null);\r\n    }\r\n\r\n    // ====================== 2D - instanced drawing ======================\r\n\r\n    begin2D() {\r\n        if (this.drawing2D) {\r\n            throw new Error('Renderer.end2D must be call before begin');\r\n        }\r\n        this.drawing2D = true;\r\n    }\r\n\r\n    end2D() {\r\n        if (!this.drawing2D) {\r\n            throw new Error('Renderer.begin2D must be call before end');\r\n        }\r\n        this.flush2D();\r\n        this.drawing2D = false;\r\n    }\r\n\r\n    setCameraPosition(x: number, y: number) {\r\n        this.state.cameraX = x;\r\n        this.state.cameraY = y;\r\n    }\r\n\r\n    centerCamera() {\r\n        this.setCameraPosition(this.state.width / 2, this.state.height / 2);\r\n    }\r\n\r\n    setZoom(zoom: number) {\r\n        this.state.zoom = zoom;\r\n    }\r\n\r\n    setColor(r: number, g: number, b: number, a: number = 1) {\r\n        this.state.color.r = r;\r\n        this.state.color.g = g;\r\n        this.state.color.b = b;\r\n        this.state.color.a = a;\r\n    }\r\n\r\n    private flush2D() {\r\n        if (!this.drawing2D) {\r\n            return;\r\n        }\r\n        if (this.batchIndex === 0) {\r\n            return;\r\n        }\r\n        switch (this.batchType) {\r\n            case BatchType.MESH:\r\n                this.flushMesh();\r\n                break;\r\n            case BatchType.LINES:\r\n                this.flushLines();\r\n                break;\r\n        }\r\n    }\r\n\r\n    private flushMesh() {\r\n        const texture = this.batchTexture;\r\n\r\n        const len = this.batchIndex;\r\n        this.batchIndex = 0;\r\n\r\n        const gl = this.gl;\r\n        let shader = this.currentShader;\r\n        if (!shader) {\r\n            shader = this.IMAGE_2D_SHADER;\r\n        }\r\n        if (!shader.program) {\r\n            throw new Error('Shader has been deleted');\r\n        }\r\n        gl.useProgram(shader.program);\r\n\r\n        // position\r\n        const aPosition = shader.attributes[A_POSITION];\r\n        if (aPosition) {\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, this.batchPositionBuffer);\r\n            gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.batchPositionVertices);\r\n            const location = aPosition.location;\r\n            gl.enableVertexAttribArray(location);\r\n            gl.vertexAttribPointer(location, 2, gl.FLOAT, false, 0, 0);\r\n        }\r\n\r\n        // tex-coord\r\n        const aTexCoord = shader.attributes[A_TEX_COORD];\r\n        if (aTexCoord) {\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, this.batchTexCoordBuffer);\r\n            gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.batchTexCoordVertices);\r\n            const location = aTexCoord.location;\r\n            gl.enableVertexAttribArray(location);\r\n            gl.vertexAttribPointer(location, 2, gl.FLOAT, false, 0, 0);\r\n        }\r\n\r\n        // color\r\n        const aColor = shader.attributes[A_COLOR];\r\n        if (aColor) {\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, this.batchColorBuffer);\r\n            gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.batchColorVertices);\r\n            const location = aColor.location;\r\n            gl.enableVertexAttribArray(location);\r\n            gl.vertexAttribPointer(location, 4, gl.FLOAT, false, 0, 0);\r\n        }\r\n\r\n        // texture\r\n        shader.uniforms[U_TEXTURE]?.setter(texture?.glTexture);\r\n\r\n        // draw\r\n        this.switchFrameBuffer();\r\n        gl.drawArrays(gl.TRIANGLES, 0, len * 6);\r\n    }\r\n\r\n    private flushLines() {\r\n        const len = this.batchIndex;\r\n        this.batchIndex = 0;\r\n\r\n        const gl = this.gl;\r\n        let shader = this.currentShader;\r\n        if (!shader) {\r\n            shader = this.COLOR_2D_SHADER;\r\n        }\r\n        if (!shader.program) {\r\n            throw new Error('Shader has been deleted');\r\n        }\r\n        gl.useProgram(shader.program);\r\n\r\n        // position\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.batchPositionBuffer);\r\n        gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.batchPositionVertices);\r\n        const positionLocation = shader.attributes[A_POSITION].location;\r\n        gl.enableVertexAttribArray(positionLocation);\r\n        gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);\r\n\r\n        // color\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.batchColorBuffer);\r\n        gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.batchColorVertices);\r\n        const colorLocation = shader.attributes[A_COLOR].location;\r\n        gl.enableVertexAttribArray(colorLocation);\r\n        gl.vertexAttribPointer(colorLocation, 4, gl.FLOAT, false, 0, 0);\r\n\r\n        // draw\r\n        this.switchFrameBuffer();\r\n        gl.drawArrays(gl.LINES, 0, len * 2);\r\n    }\r\n\r\n    drawLine(x0: number, y0: number, x1: number, y1: number) {\r\n        if (!this.drawing2D) {\r\n            throw new Error('Renderer.begin2D must be call before draw');\r\n        }\r\n        if (\r\n            this.batchIndex >= this.batchSize * 3\r\n            || this.batchType !== BatchType.LINES\r\n        ) {\r\n            this.flush2D();\r\n        }\r\n        this.batchType = BatchType.LINES;\r\n\r\n        const zoom = this.state.zoom;\r\n        const invW = 2 / this.state.width * zoom;\r\n        const invH = 2 / this.state.height * zoom;\r\n        const cameraX = this.state.cameraX;\r\n        const cameraY = this.state.cameraY;\r\n\r\n        const positionVertices = this.batchPositionVertices;\r\n        const index = this.batchIndex * 2 * 2;\r\n        positionVertices[index] = (x0 - cameraX) * invW;\r\n        positionVertices[index + 1] = (y0 - cameraY) * invH;\r\n        positionVertices[index + 2] = (x1 - cameraX) * invW;\r\n        positionVertices[index + 3] = (y1 - cameraY) * invH;\r\n\r\n        const colorIndex = this.batchIndex * 2 * 4;\r\n        const vertexColors = this.batchColorVertices;\r\n        const color = this.state.color;\r\n        for (let i = 0; i < 2; ++i) {\r\n            const offset = i * 4;\r\n            vertexColors[colorIndex + offset] = color.r;\r\n            vertexColors[colorIndex + 1 + offset] = color.g;\r\n            vertexColors[colorIndex + 2 + offset] = color.b;\r\n            vertexColors[colorIndex + 3 + offset] = color.a;\r\n        }\r\n\r\n        this.batchIndex += 1;\r\n    }\r\n\r\n    private pushCwQuadVertices(\r\n        texture: Texture,\r\n        x0: number,\r\n        y0: number,\r\n        x1: number,\r\n        y1: number,\r\n        x2: number,\r\n        y2: number,\r\n        x3: number,\r\n        y3: number,\r\n        texX0: number,\r\n        texY0: number,\r\n        texX1: number,\r\n        texY1: number,\r\n        texX2: number,\r\n        texY2: number,\r\n        texX3: number,\r\n        texY3: number\r\n    ) {\r\n        if (!this.drawing2D) {\r\n            throw new Error('Renderer.begin2D must be call before draw');\r\n        }\r\n        if (\r\n            this.batchIndex >= this.batchSize\r\n            || texture !== this.batchTexture\r\n            || this.batchType !== BatchType.MESH\r\n        ) {\r\n            this.flush2D();\r\n        }\r\n        this.batchType = BatchType.MESH;\r\n\r\n        this.batchTexture = texture;\r\n        const index = this.batchIndex * 3 * 2 * 2;\r\n        const positionVertices = this.batchPositionVertices;\r\n        const texCoordVertices = this.batchTexCoordVertices;\r\n\r\n        positionVertices[index] = x0;\r\n        positionVertices[index + 1] = y0;\r\n        positionVertices[index + 2] = x1;\r\n        positionVertices[index + 3] = y1;\r\n        positionVertices[index + 4] = x3;\r\n        positionVertices[index + 5] = y3;\r\n\r\n        positionVertices[index + 6] = x1;\r\n        positionVertices[index + 7] = y1;\r\n        positionVertices[index + 8] = x2;\r\n        positionVertices[index + 9] = y2;\r\n        positionVertices[index + 10] = x3;\r\n        positionVertices[index + 11] = y3;\r\n\r\n        if (texture.flipY) {\r\n            [texX0, texY0, texX3, texY3] = [texX3, texY3, texX0, texY0];\r\n            [texX1, texY1, texX2, texY2] = [texX2, texY2, texX1, texY1];\r\n        }\r\n\r\n        texCoordVertices[index] = texX0;\r\n        texCoordVertices[index + 1] = texY0;\r\n        texCoordVertices[index + 2] = texX1;\r\n        texCoordVertices[index + 3] = texY1;\r\n        texCoordVertices[index + 4] = texX3;\r\n        texCoordVertices[index + 5] = texY3;\r\n\r\n        texCoordVertices[index + 6] = texX1;\r\n        texCoordVertices[index + 7] = texY1;\r\n        texCoordVertices[index + 8] = texX2;\r\n        texCoordVertices[index + 9] = texY2;\r\n        texCoordVertices[index + 10] = texX3;\r\n        texCoordVertices[index + 11] = texY3;\r\n\r\n        const colorIndex = this.batchIndex * 3 * 2 * 4;\r\n        const vertexColors = this.batchColorVertices;\r\n        const color = this.state.color;\r\n        for (let i = 0; i < 2 * 3; ++i) {\r\n            const offset = i * 4;\r\n            vertexColors[colorIndex + offset] = color.r;\r\n            vertexColors[colorIndex + 1 + offset] = color.g;\r\n            vertexColors[colorIndex + 2 + offset] = color.b;\r\n            vertexColors[colorIndex + 3 + offset] = color.a;\r\n        }\r\n        this.batchIndex += 1;\r\n    }\r\n\r\n    drawCwQuad(\r\n        texture: Texture,\r\n        x0: number,\r\n        y0: number,\r\n        x1: number,\r\n        y1: number,\r\n        x2: number,\r\n        y2: number,\r\n        x3: number,\r\n        y3: number,\r\n        texX0: number = 0,\r\n        texY0: number = texture.height,\r\n        texX1: number = texture.width,\r\n        texY1: number = texture.height,\r\n        texX2: number = texture.width,\r\n        texY2: number = 0,\r\n        texX3: number = 0,\r\n        texY3: number = 0\r\n    ) {\r\n        const zoom = this.state.zoom;\r\n        const invW = 2 / this.state.width * zoom;\r\n        const invH = 2 / this.state.height * zoom;\r\n        const invSW = 1 / texture.width;\r\n        const invSH = 1 / texture.height;\r\n        const cameraX = this.state.cameraX;\r\n        const cameraY = this.state.cameraY;\r\n        this.pushCwQuadVertices(\r\n            texture,\r\n            (x0 - cameraX) * invW,\r\n            (y0 - cameraY) * invH,\r\n            (x1 - cameraX) * invW,\r\n            (y1 - cameraY) * invH,\r\n            (x2 - cameraX) * invW,\r\n            (y2 - cameraY) * invH,\r\n            (x3 - cameraX) * invW,\r\n            (y3 - cameraY) * invH,\r\n            texX0 * invSW,\r\n            texY0 * invSH,\r\n            texX1 * invSW,\r\n            texY1 * invSH,\r\n            texX2 * invSW,\r\n            texY2 * invSH,\r\n            texX3 * invSW,\r\n            texY3 * invSH\r\n        );\r\n    }\r\n\r\n    drawRect(\r\n        texture: Texture,\r\n        dx: number = 0,\r\n        dy: number = 0,\r\n        dw: number = texture.width,\r\n        dh: number = texture.height,\r\n        flipX: boolean = false,\r\n        flipY: boolean = false,\r\n        sx: number = 0,\r\n        sy: number = 0,\r\n        sw: number = texture.width,\r\n        sh: number = texture.height\r\n    ) {\r\n        const dstLeft = dx;\r\n        const dstRight = dx + dw;\r\n        const dstTop = dy + dh;\r\n        const dstBottom = dy;\r\n        let texLeft = sx;\r\n        let texRight = sx + sw;\r\n        let texTop = sy;\r\n        let texBottom = sy + sh;\r\n        if (flipX) {\r\n            [texLeft, texRight] = [texRight, texLeft];\r\n        }\r\n        if (flipY) {\r\n            [texTop, texBottom] = [texBottom, texTop];\r\n        }\r\n        this.drawCwQuad(\r\n            texture,\r\n            dstLeft,\r\n            dstBottom,\r\n            dstRight,\r\n            dstBottom,\r\n            dstRight,\r\n            dstTop,\r\n            dstLeft,\r\n            dstTop,\r\n            texLeft,\r\n            texBottom,\r\n            texRight,\r\n            texBottom,\r\n            texRight,\r\n            texTop,\r\n            texLeft,\r\n            texTop\r\n        );\r\n    }\r\n\r\n    draw(\r\n        texture: Texture,\r\n        dstX: number = 0,\r\n        dstY: number = 0,\r\n        dstW: number = texture.width,\r\n        dstH: number = texture.height,\r\n        flipX: boolean = false,\r\n        flipY: boolean = false,\r\n        srcX: number = 0,\r\n        srcY: number = 0,\r\n        srcW: number = texture.width,\r\n        srcH: number = texture.height,\r\n        dx: number = 0,\r\n        dy: number = 0,\r\n        ox: number = 0,\r\n        oy: number = 0,\r\n        rotation: number = 0,\r\n        sx: number = 1,\r\n        sy: number = 1\r\n    ) {\r\n        const left = dstX;\r\n        const right = dstX + dstW;\r\n        const top = dstY + dstH;\r\n        const bottom = dstY;\r\n\r\n        const cosR = Math.cos(rotation);\r\n        const sinR = Math.sin(rotation);\r\n\r\n        const m11 = cosR * sx;\r\n        const m12 = -sinR * sy;\r\n        const m13 = -cosR * ox * sx + dx + ox + oy * sinR * sy;\r\n        const m21 = sinR * sx;\r\n        const m22 = cosR * sy;\r\n        const m23 = -cosR * oy * sy + dy - ox * sinR * sx + oy;\r\n\r\n        const v0x = left;\r\n        const v0y = bottom;\r\n        const v1x = right;\r\n        const v1y = bottom;\r\n        const v2x = right;\r\n        const v2y = top;\r\n        const v3x = left;\r\n        const v3y = top;\r\n\r\n        let texLeft = srcX;\r\n        let texRight = srcX + srcW;\r\n        let texTop = srcY;\r\n        let texBottom = srcY + srcH;\r\n        if (flipX) {\r\n            [texLeft, texRight] = [texRight, texLeft];\r\n        }\r\n        if (flipY) {\r\n            [texTop, texBottom] = [texBottom, texTop];\r\n        }\r\n\r\n        this.drawCwQuad(\r\n            texture,\r\n            m11 * v0x + m12 * v0y + m13,\r\n            m21 * v0x + m22 * v0y + m23,\r\n            m11 * v1x + m12 * v1y + m13,\r\n            m21 * v1x + m22 * v1y + m23,\r\n            m11 * v2x + m12 * v2y + m13,\r\n            m21 * v2x + m22 * v2y + m23,\r\n            m11 * v3x + m12 * v3y + m13,\r\n            m21 * v3x + m22 * v3y + m23,\r\n            texLeft,\r\n            texBottom,\r\n            texRight,\r\n            texBottom,\r\n            texRight,\r\n            texTop,\r\n            texLeft,\r\n            texTop\r\n        );\r\n    }\r\n\r\n    drawLabel(\r\n        label: Label,\r\n        dstX: number = 0,\r\n        dstY: number = 0,\r\n        dstW: number = label.width,\r\n        dstH: number = label.height,\r\n        flipX: boolean = false,\r\n        flipY: boolean = false,\r\n        srcX: number = 0,\r\n        srcY: number = 0,\r\n        srcW: number = label.width,\r\n        srcH: number = label.height,\r\n        dx: number = 0,\r\n        dy: number = 0,\r\n        ox: number = 0,\r\n        oy: number = 0,\r\n        rotation: number = 0,\r\n        sx: number = 1,\r\n        sy: number = 1\r\n    ) {\r\n        this.draw(\r\n            label.texture(this),\r\n            dstX,\r\n            dstY,\r\n            dstW,\r\n            dstH,\r\n            flipX,\r\n            flipY,\r\n            srcX,\r\n            srcY,\r\n            srcW,\r\n            srcH,\r\n            dx,\r\n            dy,\r\n            ox,\r\n            oy,\r\n            rotation,\r\n            sx,\r\n            sy\r\n        );\r\n    }\r\n\r\n}\r\n","import Renderer from '../../utils/render/Renderer';\r\n\r\nexport function drawCircle(\r\n    renderer: Renderer,\r\n    radius: number,\r\n    cx: number,\r\n    cy: number,\r\n    precision: number = Math.min(8, radius / 2)\r\n) {\r\n    let x0 = 0;\r\n    let y0 = radius;\r\n    const num = Math.ceil(2 * Math.PI * radius / (precision / renderer.state.zoom));\r\n    const detAngle = Math.PI * 2 / num;\r\n    const cos = Math.cos(detAngle);\r\n    const sin = Math.sin(detAngle);\r\n    const px = cx;\r\n    const py = cy;\r\n    for (let i = 0; i < num; ++i) {\r\n        const x1 = x0 * cos - y0 * sin;\r\n        const y1 = x0 * sin + y0 * cos;\r\n        renderer.drawLine(\r\n            x0 + px,\r\n            y0 + py,\r\n            x1 + px,\r\n            y1 + py\r\n        );\r\n        x0 = x1;\r\n        y0 = y1;\r\n    }\r\n}","import {quat, vec3} from 'gl-matrix';\r\nimport {getVerticalInDir, quatLookRotation} from '../../utils/math/math';\r\nimport {BodyPart} from './model/BodyPart';\r\n\r\ntype Vec = [number, number, number];\r\n\r\ntype Quat = [number, number, number, number];\r\n\r\nfunction mid(p1: Vec, p2: Vec): Vec {\r\n    return [(p1[0] + p2[0]) / 2, (p1[1] + p2[1]) / 2, (p1[2] + p2[2]) / 2];\r\n}\r\n\r\nfunction sub(p1: Vec, p2: Vec): Vec {\r\n    return [p1[0] - p2[0], p1[1] - p2[1], p1[2] - p2[2]];\r\n}\r\n\r\nfunction normalize(vec: Vec): Vec {\r\n    const invLen = 1 / Math.sqrt(vec[0] ** 2 + vec[1] ** 2 + vec[2] ** 2);\r\n    return [vec[0] * invLen, vec[1] * invLen, vec[2] * invLen];\r\n}\r\n\r\nfunction vert(right: Vec, up: Vec): Vec {\r\n    let forward: Vec = [0, 0, 0];\r\n    vec3.cross(forward, right, up);\r\n    return normalize(forward);\r\n}\r\n\r\nfunction vertInDir(v: Vec, dir: Vec): Vec {\r\n    return getVerticalInDir([0, 0, 0], v, dir) as Vec;\r\n}\r\n\r\nfunction quatLook(forward: Vec, up: Vec): Quat {\r\n    return quatLookRotation([0, 0, 0, 1], forward, up) as Quat;\r\n}\r\n\r\nfunction invQuat(q: Quat): Quat {\r\n    return quat.invert([0, 0, 0, 1], q) as Quat;\r\n}\r\n\r\nfunction invQuatLook(forward: Vec, up: Vec): Quat {\r\n    return invQuat(quatLook(forward, up));\r\n}\r\n\r\nexport function landmarksToTransforms(landmarks: { point: [number, number, number], visibility: number }[]): {\r\n    [name in BodyPart]: {\r\n        up: [number, number, number],\r\n        forward: [number, number, number],\r\n        visibility: number\r\n    }\r\n} {\r\n    const points: Vec[] = landmarks.map(item => item.point);\r\n\r\n    function avgVisibility(...indices: number[]) {\r\n        return indices.reduce((visibility, index) => visibility + landmarks[index].visibility, 0) / indices.length;\r\n    }\r\n\r\n    // =============== trunk ===============\r\n    const trunkUp = normalize(\r\n        sub(\r\n            mid(points[11], points[12]),\r\n            mid(points[24], points[23])\r\n        )\r\n    );\r\n    const trunkRight = normalize(sub(\r\n        mid(points[11], points[23]),\r\n        mid(points[12], points[24])\r\n    ));\r\n    const trunkForward = vert(trunkRight, trunkUp);\r\n    const invTrunkQuat = invQuatLook(trunkForward, trunkUp);\r\n    const trunkVisibility = avgVisibility(11, 12, 23, 24);\r\n\r\n    // =============== head ===============\r\n    const headUp = sub(\r\n        mid(points[3], points[6]),\r\n        mid(points[9], points[10])\r\n    );\r\n    const headForward = vert(\r\n        sub(points[7], points[8]),\r\n        headUp\r\n    );\r\n    vec3.transformQuat(headUp, headUp, invTrunkQuat);\r\n    vec3.transformQuat(headForward, headForward, invTrunkQuat);\r\n    const headVisibility = avgVisibility(8, 6, 5, 4, 1, 2, 3, 7, 0, 9, 10);\r\n\r\n    // =============== upper arms ===============\r\n    const leftUpperArmUp = normalize(sub(points[11], points[13]));\r\n    const leftUpperArmForward = vert(trunkRight, leftUpperArmUp);\r\n    const invLeftUpperArmQuat = invQuatLook(leftUpperArmForward, leftUpperArmUp);\r\n    vec3.transformQuat(leftUpperArmUp, leftUpperArmUp, invTrunkQuat);\r\n    vec3.transformQuat(leftUpperArmForward, leftUpperArmForward, invTrunkQuat);\r\n    const leftUpperArmVisibility = avgVisibility(11, 13);\r\n\r\n    const rightUpperArmUp = normalize(sub(points[12], points[14]));\r\n    const rightUpperArmForward = vert(trunkRight, rightUpperArmUp);\r\n    const invRightUpperArmQuat = invQuatLook(rightUpperArmForward, rightUpperArmUp);\r\n    vec3.transformQuat(rightUpperArmUp, rightUpperArmUp, invTrunkQuat);\r\n    vec3.transformQuat(rightUpperArmForward, rightUpperArmForward, invTrunkQuat);\r\n    const rightUpperArmVisibility = avgVisibility(12, 14);\r\n\r\n    // =============== lower arms ===============\r\n    const leftLowerArmUp = normalize(sub(points[13], points[15]));\r\n    const leftLowerArmForward = vert(trunkRight, leftLowerArmUp);\r\n    const invLeftLowerArmQuat = invQuatLook(leftLowerArmForward, leftLowerArmUp);\r\n    vec3.transformQuat(leftLowerArmUp, leftLowerArmUp, invLeftUpperArmQuat);\r\n    vec3.transformQuat(leftLowerArmForward, leftLowerArmForward, invLeftUpperArmQuat);\r\n    const leftLowerArmVisibility = avgVisibility(13, 15);\r\n\r\n    const rightLowerArmUp = normalize(sub(points[14], points[16]));\r\n    const rightLowerArmForward = vert(trunkRight, rightLowerArmUp);\r\n    const invRightLowerArmQuat = invQuatLook(rightLowerArmForward, rightLowerArmUp);\r\n    vec3.transformQuat(rightLowerArmUp, rightLowerArmUp, invRightUpperArmQuat);\r\n    vec3.transformQuat(rightLowerArmForward, rightLowerArmForward, invRightUpperArmQuat);\r\n    const rightLowerArmVisibility = avgVisibility(14, 16);\r\n\r\n    // =============== hands ===============\r\n    const leftHandUp = normalize(sub(\r\n        points[15],\r\n        mid(points[17], points[19])\r\n    ));\r\n    const leftHandForward = vertInDir(leftHandUp, sub(points[21], points[15]));\r\n    vec3.transformQuat(leftHandUp, leftHandUp, invLeftLowerArmQuat);\r\n    vec3.transformQuat(leftHandForward, leftHandForward, invLeftLowerArmQuat);\r\n    const leftHandVisibility = avgVisibility(15, 17, 19, 21);\r\n\r\n    const rightHandUp = normalize(sub(\r\n        points[16],\r\n        mid(points[18], points[20])\r\n    ));\r\n    const rightHandForward = vertInDir(rightHandUp, sub(points[22], points[16]));\r\n    vec3.transformQuat(rightHandUp, rightHandUp, invRightLowerArmQuat);\r\n    vec3.transformQuat(rightHandForward, rightHandForward, invRightLowerArmQuat);\r\n    const rightHandVisibility = avgVisibility(16, 18, 20, 22);\r\n\r\n    // =============== thighs ===============\r\n    const leftThighUp = normalize(sub(points[23], points[25]));\r\n    const leftThighForward = vert(trunkRight, leftThighUp);\r\n    const invLeftThighQuat = invQuatLook(leftThighForward, leftThighUp);\r\n    vec3.transformQuat(leftThighUp, leftThighUp, invTrunkQuat);\r\n    vec3.transformQuat(leftThighForward, leftThighForward, invTrunkQuat);\r\n    const leftThighVisibility = avgVisibility(23, 25);\r\n\r\n    const rightThighUp = normalize(sub(points[24], points[26]));\r\n    const rightThighForward = vert(trunkRight, rightThighUp);\r\n    const invRightThighQuat = invQuatLook(rightThighForward, rightThighUp);\r\n    vec3.transformQuat(rightThighUp, rightThighUp, invTrunkQuat);\r\n    vec3.transformQuat(rightThighForward, rightThighForward, invTrunkQuat);\r\n    const rightThighVisibility = avgVisibility(24, 26);\r\n\r\n    // =============== calves ===============\r\n    const leftCalfUp = normalize(sub(points[25], points[27]));\r\n    const leftCalfForward = vert(trunkRight, leftCalfUp);\r\n    const invLeftCalfQuat = invQuatLook(leftCalfForward, leftCalfUp);\r\n    vec3.transformQuat(leftCalfUp, leftCalfUp, invLeftThighQuat);\r\n    vec3.transformQuat(leftCalfForward, leftCalfForward, invLeftThighQuat);\r\n    const leftCalfVisibility = avgVisibility(25, 27);\r\n\r\n    const rightCalfUp = normalize(sub(points[26], points[28]));\r\n    const rightCalfForward = vert(trunkRight, rightCalfUp);\r\n    const invRightCalfQuat = invQuatLook(rightCalfForward, rightCalfUp);\r\n    vec3.transformQuat(rightCalfUp, rightCalfUp, invRightThighQuat);\r\n    vec3.transformQuat(rightCalfForward, rightCalfForward, invRightThighQuat);\r\n    const rightCalfVisibility = avgVisibility(26, 28);\r\n\r\n    // =============== feet ===============\r\n    const leftFootForward = normalize(sub(points[31], points[29]));\r\n    const leftFootUp = vertInDir(leftFootForward, sub(points[27], points[31]));\r\n    vec3.transformQuat(leftFootForward, leftFootForward, invLeftCalfQuat);\r\n    vec3.transformQuat(leftFootUp, leftFootUp, invLeftCalfQuat);\r\n    const leftFootVisibility = avgVisibility(27, 29, 31);\r\n\r\n    const rightFootForward = normalize(sub(points[32], points[30]));\r\n    const rightFootUp = vertInDir(rightFootForward, sub(points[28], points[32]));\r\n    vec3.transformQuat(rightFootForward, rightFootForward, invRightCalfQuat);\r\n    vec3.transformQuat(rightFootUp, rightFootUp, invRightCalfQuat);\r\n    const rightFootVisibility = avgVisibility(28, 30, 32);\r\n\r\n    return {\r\n        trunk: {\r\n            up: trunkUp,\r\n            forward: trunkForward,\r\n            visibility: trunkVisibility,\r\n        },\r\n        head: {\r\n            up: headUp,\r\n            forward: headForward,\r\n            visibility: headVisibility,\r\n        },\r\n        leftUpperArm: {\r\n            up: leftUpperArmUp,\r\n            forward: leftUpperArmForward,\r\n            visibility: leftUpperArmVisibility,\r\n        },\r\n        leftLowerArm: {\r\n            up: leftLowerArmUp,\r\n            forward: leftLowerArmForward,\r\n            visibility: leftLowerArmVisibility,\r\n        },\r\n        leftHand: {\r\n            up: leftHandUp,\r\n            forward: leftHandForward,\r\n            visibility: leftHandVisibility,\r\n        },\r\n        leftThigh: {\r\n            up: leftThighUp,\r\n            forward: leftThighForward,\r\n            visibility: leftThighVisibility,\r\n        },\r\n        leftCalf: {\r\n            up: leftCalfUp,\r\n            forward: leftCalfForward,\r\n            visibility: leftCalfVisibility,\r\n        },\r\n        leftFoot: {\r\n            up: leftFootUp,\r\n            forward: leftFootForward,\r\n            visibility: leftFootVisibility,\r\n        },\r\n        rightUpperArm: {\r\n            up: rightUpperArmUp,\r\n            forward: rightUpperArmForward,\r\n            visibility: rightUpperArmVisibility,\r\n        },\r\n        rightLowerArm: {\r\n            up: rightLowerArmUp,\r\n            forward: rightLowerArmForward,\r\n            visibility: rightLowerArmVisibility,\r\n        },\r\n        rightHand: {\r\n            up: rightHandUp,\r\n            forward: rightHandForward,\r\n            visibility: rightHandVisibility,\r\n        },\r\n        rightThigh: {\r\n            up: rightThighUp,\r\n            forward: rightThighForward,\r\n            visibility: rightThighVisibility,\r\n        },\r\n        rightCalf: {\r\n            up: rightCalfUp,\r\n            forward: rightCalfForward,\r\n            visibility: rightCalfVisibility,\r\n        },\r\n        rightFoot: {\r\n            up: rightFootUp,\r\n            forward: rightFootForward,\r\n            visibility: rightFootVisibility,\r\n        },\r\n    };\r\n}","import {InfoCircleOutlined, UndoOutlined} from '@vicons/antd';\r\nimport {quat, vec3} from 'gl-matrix';\r\nimport {NIcon, NPopconfirm, NSpin} from 'naive-ui';\r\nimport {defineComponent, onBeforeUnmount, onMounted, PropType, ref, watch} from 'vue';\r\nimport {LANDMARK_VISIBILITY_ACCEPTABLE_THRESHOLD} from '../../config';\r\nimport DraggableCamera from '../../utils/DraggableCamera';\r\nimport Input from '../../utils/input/Input';\r\nimport {MouseDragContext3D, raycastSphereDragMove, raycastSphereDragStart} from '../../utils/input/mouse-drag';\r\nimport {isPointInCircle} from '../../utils/math/intersect';\r\nimport {quatFromTwoVec, transformInvMat4} from '../../utils/math/math';\r\nimport FrameBuffer from '../../utils/render/FrameBuffer';\r\nimport Renderer from '../../utils/render/Renderer';\r\nimport Shader from '../../utils/render/Shader';\r\nimport image2dVert from '../../utils/render/shaders/image-2d.vert';\r\nimport Texture from '../../utils/render/Texture';\r\nimport {drawCircle} from './draw-shape';\r\nimport {landmarksToTransforms} from './landmarks-to-transforms';\r\nimport {BodyPart} from './model/BodyPart';\r\nimport SkeletonModel from './model/SkeletonModel';\r\nimport SkeletonModelNode from './model/SkeletonModelNode';\r\nimport lightFrag from './shaders/light.frag';\r\nimport lightVert from './shaders/light.vert';\r\nimport outlineFrag from './shaders/outline.frag';\r\n\r\nconst CONTROL_POINT_RADIUS = 8;\r\n\r\nexport default defineComponent({\r\n    components: {\r\n        NSpin,\r\n        NIcon,\r\n        NPopconfirm,\r\n        InfoCircleOutlined,\r\n        UndoOutlined,\r\n    },\r\n    props: {\r\n        model: SkeletonModel,\r\n        camera: DraggableCamera,\r\n        landmarks: Array as PropType<{ point: [number, number, number], visibility: number }[]>,\r\n        readonly: Boolean,\r\n        highlights: Array as PropType<BodyPart[]>,\r\n    },\r\n    setup(props) {\r\n        const container = ref<HTMLDivElement>();\r\n        const canvas = ref<HTMLCanvasElement>();\r\n        const loading = ref(false);\r\n\r\n        let width = 0;\r\n        let height = 0;\r\n\r\n        let renderer: Renderer;\r\n        let lightShader: Shader;\r\n        let outlineShader: Shader;\r\n        let modelTexture: Texture;\r\n        let deepTexture: Texture;\r\n        let modelFrameBuffer: FrameBuffer;\r\n\r\n        const lightDirection = [0, -1, 0];\r\n        const camera = props.camera || new DraggableCamera();\r\n        camera.far = 5;\r\n        const input = new Input();\r\n        input.callback = onInput;\r\n\r\n        const model = props.model || new SkeletonModel();\r\n        let hoveredControlPointNode: SkeletonModelNode | null = null;\r\n        let dragging = false;\r\n        let shiftPressedLastFrame = false;\r\n        const dragContext = new MouseDragContext3D();\r\n        const dragOrigin = vec3.create();\r\n        const dragStartVec = vec3.create();\r\n        const dragEndVec = vec3.create();\r\n        const dragRotation = quat.create();\r\n        const dragStartForward = vec3.create();\r\n        const dragStartUp = vec3.create();\r\n\r\n        onMounted(async function () {\r\n            try {\r\n                loading.value = true;\r\n                await model.init();\r\n            } finally {\r\n                loading.value = false;\r\n            }\r\n\r\n            renderer = new Renderer(canvas.value!);\r\n\r\n            lightShader = renderer.createShader(lightVert, lightFrag);\r\n            outlineShader = renderer.createShader(image2dVert, outlineFrag);\r\n\r\n            modelTexture = renderer.createEmptyTexture();\r\n            modelTexture.flipY = true;\r\n            deepTexture = renderer.createDepthTexture();\r\n            deepTexture.flipY = true;\r\n            modelFrameBuffer = renderer.createFrameBuffer();\r\n            renderer.attachColorTexture(modelFrameBuffer, modelTexture);\r\n            renderer.attachDepthTexture(modelFrameBuffer, deepTexture);\r\n\r\n            resizeCanvas();\r\n            input.setup(canvas.value!);\r\n\r\n            setLandmarks(props.landmarks);\r\n        });\r\n\r\n        onBeforeUnmount(function () {\r\n            renderer.deleteShader(lightShader);\r\n            renderer.deleteShader(outlineShader);\r\n\r\n            renderer.deleteFrameBuffer(modelFrameBuffer, true);\r\n\r\n            input.unload(canvas.value!);\r\n        });\r\n\r\n        watch(() => props.landmarks, setLandmarks);\r\n\r\n        watch(() => props.highlights, function (highlights) {\r\n            Object.keys(BodyPart).forEach(name => {\r\n                const node = model[name as BodyPart];\r\n                if (highlights?.length) {\r\n                    node.active = !!highlights.includes(name as BodyPart);\r\n                } else {\r\n                    node.active = true;\r\n                }\r\n            });\r\n            render();\r\n        });\r\n\r\n        function reset() {\r\n            Object.keys(BodyPart).forEach(name => {\r\n                const node = model[name as BodyPart];\r\n                node.forward = [0, 0, 1];\r\n                node.up = [0, 1, 0];\r\n            });\r\n            camera.zoom = 1;\r\n            camera.rotateX = 0;\r\n            camera.rotateY = 0;\r\n            vec3.set(camera.target, 0, 0, 0);\r\n            camera.update();\r\n            model.update(camera.camera);\r\n            render();\r\n        }\r\n\r\n        function setLandmarks(landmarks?: { point: [number, number, number], visibility: number }[]) {\r\n            if (landmarks?.length) {\r\n                const transforms = landmarksToTransforms(landmarks);\r\n                Object.keys(BodyPart).forEach(name => {\r\n                    const node = model[name as BodyPart];\r\n                    const transform = transforms[name as keyof typeof transforms];\r\n                    node.forward = transform.forward;\r\n                    node.up = transform.up;\r\n                    node.active = transform.visibility > LANDMARK_VISIBILITY_ACCEPTABLE_THRESHOLD;\r\n                });\r\n            } else {\r\n                Object.keys(BodyPart).forEach(name => {\r\n                    const node = model[name as BodyPart];\r\n                    node.forward = [0, 0, 1];\r\n                    node.up = [0, 1, 0];\r\n                    node.active = true;\r\n                });\r\n            }\r\n            camera.zoom = 1;\r\n            camera.rotateX = 0;\r\n            camera.rotateY = 0;\r\n            vec3.set(camera.target, 0, 0, 0);\r\n            camera.update();\r\n            model.update(camera.camera);\r\n            render();\r\n        }\r\n\r\n        function resizeCanvas() {\r\n            const rect = container.value!.getBoundingClientRect();\r\n            width = rect.width;\r\n            height = rect.height;\r\n\r\n            renderer.resizeCanvas(width, height);\r\n            renderer.resizeFrameBuffer(modelFrameBuffer);\r\n\r\n            camera.fitViewport(width, height);\r\n        }\r\n\r\n        function onInput(input: Input) {\r\n            camera.onInput(input);\r\n            model.update(camera.camera);\r\n\r\n            if (!props.readonly) {\r\n                if (!input.mouseLeft) {\r\n                    dragging = false;\r\n                }\r\n                if (shiftPressedLastFrame && !input.isKeyPressed('Shift')) {\r\n                    shiftPressedLastFrame = false;\r\n                    dragging = false;\r\n                }\r\n\r\n                // find hovered\r\n                if (!dragging) {\r\n                    hoveredControlPointNode = null;\r\n                    let hoveredControlPointZ = Infinity;\r\n                    if (model.root) {\r\n                        const stack: SkeletonModelNode[] = [model.root];\r\n                        for (; ;) {\r\n                            const node = stack.pop();\r\n                            if (!node) {\r\n                                break;\r\n                            }\r\n                            stack.push(...node.children);\r\n                            if (!node.controlPoint) {\r\n                                continue;\r\n                            }\r\n                            const cx = (node.controlPointScreenPosition[0] + 1) / 2 * width;\r\n                            const cy = (node.controlPointScreenPosition[1] + 1) / 2 * height;\r\n                            if (isPointInCircle(input.mouseX, height - input.mouseY, cx, cy, CONTROL_POINT_RADIUS)\r\n                                && node.controlPointScreenPosition[2] < hoveredControlPointZ\r\n                            ) {\r\n                                hoveredControlPointNode = node;\r\n                                hoveredControlPointZ = node.controlPointScreenPosition[2];\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                const projectedMX = (input.mouseX / width - 0.5) * 2;\r\n                const projectedMY = (-input.mouseY / height + 0.5) * 2;\r\n\r\n                if (\r\n                    (input.mouseLeft && !dragging\r\n                        || input.isKeyPressedThisFrame('Shift') && dragging)\r\n                    && hoveredControlPointNode\r\n                ) {\r\n                    // drag start\r\n                    dragging = true;\r\n                    const node = hoveredControlPointNode;\r\n                    raycastSphereDragStart(\r\n                        dragContext,\r\n                        projectedMX, projectedMY,\r\n                        node.originWorldPosition[0], node.originWorldPosition[1], node.originWorldPosition[2],\r\n                        node.controlPointWorldPosition[0], node.controlPointWorldPosition[1], node.controlPointWorldPosition[2],\r\n                        camera.camera\r\n                    );\r\n                    vec3.copy(dragOrigin, node.originWorldPosition);\r\n                    vec3.copy(dragStartVec, node.controlPointWorldPosition);\r\n                    if (node.parent) {\r\n                        transformInvMat4(dragStartVec, dragStartVec, node.parent.worldMatrix);\r\n                        transformInvMat4(dragOrigin, dragOrigin, node.parent.worldMatrix);\r\n                    }\r\n                    vec3.sub(dragStartVec, dragStartVec, dragOrigin);\r\n                    vec3.normalize(dragStartVec, dragStartVec);\r\n                    vec3.copy(dragStartForward, node.forward);\r\n                    vec3.copy(dragStartUp, node.up);\r\n                } else if (input.mouseLeft && dragging && hoveredControlPointNode) {\r\n                    // drag move\r\n                    if (input.isKeyPressed('Shift')) {\r\n                        shiftPressedLastFrame = true;\r\n                        const dx = projectedMX - dragContext.dragStartMousePosition[0];\r\n                        const dy = projectedMY - dragContext.dragStartMousePosition[1];\r\n                        const offset = dx + dy;\r\n                        quat.setAxisAngle(dragRotation, dragStartVec, offset * Math.PI * 2);\r\n                        const node = hoveredControlPointNode;\r\n                        vec3.transformQuat(node.forward, dragStartForward, dragRotation);\r\n                        vec3.normalize(node.forward, node.forward);\r\n                        vec3.transformQuat(node.up, dragStartUp, dragRotation);\r\n                        vec3.normalize(node.up, node.up);\r\n                        model.update(camera.camera, node);\r\n                    } else {\r\n                        if (raycastSphereDragMove(dragContext, projectedMX, projectedMY, camera.camera)) {\r\n                            const node = hoveredControlPointNode;\r\n                            vec3.copy(dragEndVec, dragContext.rayResult1);\r\n                            if (node.parent) {\r\n                                transformInvMat4(dragEndVec, dragEndVec, node.parent.worldMatrix);\r\n                            }\r\n                            vec3.sub(dragEndVec, dragEndVec, dragOrigin);\r\n                            quatFromTwoVec(dragRotation, dragStartVec, dragEndVec);\r\n                            vec3.transformQuat(node.forward, dragStartForward, dragRotation);\r\n                            vec3.normalize(node.forward, node.forward);\r\n                            vec3.transformQuat(node.up, dragStartUp, dragRotation);\r\n                            vec3.normalize(node.up, node.up);\r\n                            model.update(camera.camera, node);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            render();\r\n        }\r\n\r\n        function render() {\r\n            renderer.blendMode(renderer.BLEND_MODE_PIGMENT);\r\n\r\n            // model\r\n            renderer.depthTest(true);\r\n            renderer.cullFace(renderer.SIDE_BACK);\r\n            renderer.startCapture(modelFrameBuffer);\r\n            renderer.clearColor(0, 0, 0, 0);\r\n            renderer.clear(true, true, false);\r\n            renderer.useShader(lightShader);\r\n            renderer.uniform('u_directionalLightDirection', lightDirection);\r\n            renderer.uniform('u_pvMatrix', camera.pvMatrix);\r\n            model.render(renderer);\r\n            renderer.endCapture();\r\n\r\n            renderer.save();\r\n            renderer.depthTest(false);\r\n            renderer.clearColor(0xf2 / 0xff, 0xf2 / 0xff, 0xf2 / 0xff, 1.0);\r\n            renderer.clear(true, false, false);\r\n            renderer.centerCamera();\r\n            // begin\r\n            renderer.begin2D();\r\n            // model\r\n            renderer.setColor(1, 1, 1, 1);\r\n            renderer.useShader();\r\n            renderer.draw(modelTexture);\r\n            // outline\r\n            renderer.setColor(0, 0, 0, 0.5);\r\n            renderer.useShader(outlineShader);\r\n            renderer.uniform('u_threshold', 1 / 1000 / (camera.far / 2));\r\n            renderer.uniform('u_deep', deepTexture);\r\n            renderer.draw(modelTexture);\r\n            // end\r\n            renderer.end2D();\r\n            renderer.restore();\r\n\r\n            // control points\r\n            if (!props.readonly) {\r\n                renderer.depthTest(false);\r\n                renderer.useShader();\r\n                renderer.begin2D();\r\n                const stack: SkeletonModelNode[] = [model.root];\r\n                for (; ;) {\r\n                    const node = stack.pop();\r\n                    if (!node) {\r\n                        break;\r\n                    }\r\n                    stack.push(...node.children);\r\n\r\n                    if (node.controlPoint) {\r\n                        if (node.active) {\r\n                            renderer.setColor(1, 0, 0, node === hoveredControlPointNode ? 1 : 0.25);\r\n                        } else {\r\n                            renderer.setColor(0, 0, 0, node === hoveredControlPointNode ? 1 : 0.25);\r\n                        }\r\n                        const position = node.controlPointScreenPosition;\r\n                        drawCircle(renderer,\r\n                            CONTROL_POINT_RADIUS,\r\n                            position[0] * width / 2,\r\n                            position[1] * height / 2,\r\n                        );\r\n                        drawCircle(renderer,\r\n                            CONTROL_POINT_RADIUS - 2,\r\n                            position[0] * width / 2,\r\n                            position[1] * height / 2,\r\n                        );\r\n                    }\r\n                }\r\n                renderer.end2D();\r\n            }\r\n        }\r\n\r\n        return {\r\n            container,\r\n            canvas,\r\n            loading,\r\n            reset,\r\n        };\r\n    }\r\n});","export const enum PhotoGender {\r\n    UNMARKED, MALE, FEMALE\r\n}\r\n\r\nexport function getPhotoGenderByTags(tags: string[]): PhotoGender {\r\n    let male = false;\r\n    let female = false;\r\n    if (\r\n        tags.includes('male')\r\n        || tags.includes('man')\r\n        || tags.includes('men')\r\n        || tags.includes('boy')\r\n        || tags.includes('boys')\r\n    ) {\r\n        male = true;\r\n    }\r\n    if (\r\n        tags.includes('female')\r\n        || tags.includes('woman')\r\n        || tags.includes('women')\r\n        || tags.includes('girl')\r\n        || tags.includes('girls')\r\n    ) {\r\n        female = true;\r\n    }\r\n    if (male && !female) {\r\n        return PhotoGender.MALE;\r\n    }\r\n    if (!male && female) {\r\n        return PhotoGender.FEMALE;\r\n    }\r\n    return PhotoGender.UNMARKED;\r\n}\r\n\r\nexport default class Photo {\r\n    id: string = '';\r\n    width: number = 0;\r\n    height: number = 0;\r\n\r\n    full: string = '';\r\n    regular: string = '';\r\n\r\n    authorName: string = '';\r\n    authorUsername: string = '';\r\n\r\n    gender: PhotoGender = PhotoGender.UNMARKED;\r\n\r\n    /** @see https://google.github.io/mediapipe/solutions/pose.html */\r\n    normalizedLandmarks: { point: [number, number, number], visibility: number }[] = [];\r\n    /** @see https://google.github.io/mediapipe/solutions/pose.html */\r\n    worldLandmarks: { point: [number, number, number], visibility: number }[] = [];\r\n}","export const file = {\r\n    async read(path: string): Promise<ArrayBuffer> {\r\n        const res = await fetch(path, {method: 'GET'});\r\n        return res.arrayBuffer();\r\n    },\r\n    async write(path: string, content: Blob) {\r\n        const formData = new FormData();\r\n        formData.append('file', content);\r\n        await fetch('file/' + path, {\r\n            method: 'POST',\r\n            body: formData,\r\n        });\r\n    }\r\n};","import {file} from './file';\r\nimport Photo from './Photo';\r\n\r\nexport default class PhotoDataset {\r\n\r\n    data: Photo[] = [];\r\n\r\n    async load() {\r\n        const buffer = await file.read('data.json');\r\n        const str = await new Blob([buffer]).text();\r\n        this.data = await (JSON.parse(str));\r\n    }\r\n\r\n    async writeToFile() {\r\n        const str = JSON.stringify(this.data);\r\n        const blob = new Blob([str]);\r\n        await file.write('data.json', blob);\r\n    }\r\n\r\n    findById(id: string): Photo | null {\r\n        return this.data.find(item => item.id === id) || null;\r\n    }\r\n\r\n    add(photo: Photo) {\r\n        this.data.push(photo);\r\n    }\r\n\r\n}"],"names":["_hoisted_1","_hoisted_2","_createVNode","_hoisted_3","_openBlock","_createBlock","prefix","freeGlobal","Symbol","root","objectProto","hasOwnProperty","nativeObjectToString","symToStringTag","isArray","funcTag","coreJsData","funcProto","funcToString","defineProperty","identity","baseSetToString","MAX_SAFE_INTEGER","setToString","argsTag","freeExports","freeModule","moduleExports","Buffer","objectTag","nodeUtil","isArguments","isBuffer","isTypedArray","nativeCreate","HASH_UNDEFINED","Map","getPrototype","rsAstralRange","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboRange","rsVarRange","rsZWJ","Uint8Array","baseCreate","baseFor","hash","c","CSSRender","BEMPlugin","commonVariables","isBrowser","warn","merge","formatDistance","formatLong","formatRelative","localize","match","enUS","upperFirst","useIsMounted","style","iconSwitchTransition","ctxKey","zindexable","ResizeObserver","cubicBezierEaseInOut","self","popoverLight","clickoutside","mousemoveoutside","buttonLight","useRadio","radioLight","iconLight","useLocale","popconfirmLight","spinLight","glMatrix.ARRAY_TYPE","glMatrix.EPSILON","sub","create","normalize","vec4.normalize","vec4.exactEquals","vec3.create","vec3.fromValues","dot","vec3.dot","vec3.cross","vec3.len","vec3.normalize","mat3.create","vec3.exactEquals","quat.normalize","quat.fromMat3","mat4.create","vec3.transformMat4","sqrLen","vec3.sqrLen","quat.create","vec3.distance","quat.invert"],"mappings":"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"}