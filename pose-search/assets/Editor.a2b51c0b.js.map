{"version":3,"file":"Editor.a2b51c0b.js","sources":["../../node_modules/@vicons/antd/es/KeyOutlined.js","../../node_modules/@vicons/antd/es/LeftOutlined.js","../../node_modules/@vicons/antd/es/RightOutlined.js","../../node_modules/@vicons/antd/es/SaveFilled.js","../../node_modules/@vicons/antd/es/SearchOutlined.js","../../node_modules/naive-ui/es/_internal/icons/Eye.js","../../node_modules/naive-ui/es/_internal/icons/EyeOff.js","../../node_modules/naive-ui/es/input/styles/_common.js","../../node_modules/naive-ui/es/input/styles/light.js","../../node_modules/naive-ui/es/input/src/interface.js","../../node_modules/naive-ui/es/input/src/utils.js","../../node_modules/naive-ui/es/input/src/WordCount.js","../../node_modules/naive-ui/es/input/src/styles/input.cssr.js","../../node_modules/naive-ui/es/input/src/Input.js","../../node_modules/naive-ui/es/switch/styles/_common.js","../../node_modules/naive-ui/es/switch/styles/light.js","../../node_modules/naive-ui/es/switch/src/styles/index.cssr.js","../../node_modules/naive-ui/es/switch/src/Switch.js","../../src/components/NormalizedLandmarksCanvas/NormalizedLandmarksCanvas.ts?vue&type=script&src&lang.ts","../../src/utils/render/Transform3D.ts","../../src/components/WorldLandmarksCanvas/LandmarksGeometry.ts","../../src/components/WorldLandmarksCanvas/WorldLandmarksCanvas.ts?vue&type=script&src&lang.ts","../../src/utils/unsplash.ts","../../src/Editor/Editor.ts?vue&type=script&src&lang.ts"],"sourcesContent":["import { createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 1024 1024'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createVNode(\n  'path',\n  {\n    d: 'M608 112c-167.9 0-304 136.1-304 304c0 70.3 23.9 135 63.9 186.5l-41.1 41.1l-62.3-62.3a8.15 8.15 0 0 0-11.4 0l-39.8 39.8a8.15 8.15 0 0 0 0 11.4l62.3 62.3l-44.9 44.9l-62.3-62.3a8.15 8.15 0 0 0-11.4 0l-39.8 39.8a8.15 8.15 0 0 0 0 11.4l62.3 62.3l-65.3 65.3a8.03 8.03 0 0 0 0 11.3l42.3 42.3c3.1 3.1 8.2 3.1 11.3 0l253.6-253.6A304.06 304.06 0 0 0 608 720c167.9 0 304-136.1 304-304S775.9 112 608 112zm161.2 465.2C726.2 620.3 668.9 644 608 644c-60.9 0-118.2-23.7-161.2-66.8c-43.1-43-66.8-100.3-66.8-161.2c0-60.9 23.7-118.2 66.8-161.2c43-43.1 100.3-66.8 161.2-66.8c60.9 0 118.2 23.7 161.2 66.8c43.1 43 66.8 100.3 66.8 161.2c0 60.9-23.7 118.2-66.8 161.2z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nexport default defineComponent({\n  name: 'KeyOutlined',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createBlock('svg', _hoisted_1, [_hoisted_2])\n  }\n})\n","import { createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 1024 1024'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createVNode(\n  'path',\n  {\n    d: 'M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281l360-281.1c3.8-3 6.1-7.7 6.1-12.6z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nexport default defineComponent({\n  name: 'LeftOutlined',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createBlock('svg', _hoisted_1, [_hoisted_2])\n  }\n})\n","import { createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 1024 1024'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createVNode(\n  'path',\n  {\n    d: 'M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1l-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nexport default defineComponent({\n  name: 'RightOutlined',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createBlock('svg', _hoisted_1, [_hoisted_2])\n  }\n})\n","import { createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 1024 1024'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createVNode(\n  'path',\n  {\n    d: 'M893.3 293.3L730.7 130.7c-12-12-28.3-18.7-45.3-18.7H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 176h256v112H384V176zm128 554c-79.5 0-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144s-64.5 144-144 144zm0-224c-44.2 0-80 35.8-80 80s35.8 80 80 80s80-35.8 80-80s-35.8-80-80-80z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nexport default defineComponent({\n  name: 'SaveFilled',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createBlock('svg', _hoisted_1, [_hoisted_2])\n  }\n})\n","import { createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 1024 1024'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createVNode(\n  'path',\n  {\n    d: 'M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1c-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nexport default defineComponent({\n  name: 'SearchOutlined',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createBlock('svg', _hoisted_1, [_hoisted_2])\n  }\n})\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'Eye',\n    render() {\n        return (h(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 512 512\" },\n            h(\"path\", { d: \"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z\", fill: \"none\", stroke: \"currentColor\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\", \"stroke-width\": \"32\" }),\n            h(\"circle\", { cx: \"256\", cy: \"256\", r: \"80\", fill: \"none\", stroke: \"currentColor\", \"stroke-miterlimit\": \"10\", \"stroke-width\": \"32\" })));\n    }\n});\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'EyeOff',\n    render() {\n        return (h(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 512 512\" },\n            h(\"path\", { d: \"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z\", fill: \"currentColor\" }),\n            h(\"path\", { d: \"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z\", fill: \"currentColor\" }),\n            h(\"path\", { d: \"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z\", fill: \"currentColor\" }),\n            h(\"path\", { d: \"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z\", fill: \"currentColor\" }),\n            h(\"path\", { d: \"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z\", fill: \"currentColor\" })));\n    }\n});\n","export default {\n    paddingTiny: '0 8px',\n    paddingSmall: '0 10px',\n    paddingMedium: '0 12px',\n    paddingLarge: '0 14px',\n    clearSize: '16px'\n};\n","import commonVariables from './_common';\nimport { changeColor } from 'seemly';\nimport { commonLight } from '../../_styles/common';\nconst self = (vars) => {\n    const { textColor2, textColor3, textColorDisabled, primaryColor, primaryColorHover, inputColor, inputColorDisabled, borderColor, warningColor, warningColorHover, errorColor, errorColorHover, borderRadius, lineHeight, fontSizeTiny, fontSizeSmall, fontSizeMedium, fontSizeLarge, heightTiny, heightSmall, heightMedium, heightLarge, actionColor, clearColor, clearColorHover, clearColorPressed, placeholderColor, placeholderColorDisabled, iconColor, iconColorDisabled, iconColorHover, iconColorPressed } = vars;\n    return Object.assign(Object.assign({}, commonVariables), { countTextColor: textColor3, heightTiny,\n        heightSmall,\n        heightMedium,\n        heightLarge,\n        fontSizeTiny,\n        fontSizeSmall,\n        fontSizeMedium,\n        fontSizeLarge,\n        lineHeight, lineHeightTextarea: lineHeight, borderRadius, iconSize: '16px', groupLabelColor: actionColor, groupLabelTextColor: textColor2, textColor: textColor2, textColorDisabled, textDecorationColor: textColor2, caretColor: primaryColor, placeholderColor,\n        placeholderColorDisabled, color: inputColor, colorDisabled: inputColorDisabled, colorFocus: inputColor, groupLabelBorder: `1px solid ${borderColor}`, border: `1px solid ${borderColor}`, borderHover: `1px solid ${primaryColorHover}`, borderDisabled: `1px solid ${borderColor}`, borderFocus: `1px solid ${primaryColorHover}`, boxShadowFocus: `0 0 0 2px ${changeColor(primaryColor, { alpha: 0.2 })}`, loadingColor: primaryColor, \n        // warning\n        loadingColorWarning: warningColor, borderWarning: `1px solid ${warningColor}`, borderHoverWarning: `1px solid ${warningColorHover}`, colorFocusWarning: inputColor, borderFocusWarning: `1px solid ${warningColorHover}`, boxShadowFocusWarning: `0 0 0 2px ${changeColor(warningColor, {\n            alpha: 0.2\n        })}`, caretColorWarning: warningColor, \n        // error\n        loadingColorError: errorColor, borderError: `1px solid ${errorColor}`, borderHoverError: `1px solid ${errorColorHover}`, colorFocusError: inputColor, borderFocusError: `1px solid ${errorColorHover}`, boxShadowFocusError: `0 0 0 2px ${changeColor(errorColor, {\n            alpha: 0.2\n        })}`, caretColorError: errorColor, clearColor,\n        clearColorHover,\n        clearColorPressed,\n        iconColor,\n        iconColorDisabled,\n        iconColorHover,\n        iconColorPressed, suffixTextColor: textColor2 });\n};\nconst inputLight = {\n    name: 'Input',\n    common: commonLight,\n    self\n};\nexport default inputLight;\n","export const inputInjectionKey = Symbol('input');\n","export function len(s) {\n    let count = 0;\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    for (const _ of s) {\n        count++;\n    }\n    return count;\n}\nexport function isEmptyValue(value) {\n    return ['', undefined, null].includes(value);\n}\n","import { defineComponent, inject, h, computed } from 'vue';\nimport { inputInjectionKey } from './interface';\nimport { len } from './utils';\nexport default defineComponent({\n    name: 'InputWordCount',\n    setup(_, { slots }) {\n        const { mergedValueRef, maxlengthRef, mergedClsPrefixRef } = \n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        inject(inputInjectionKey);\n        const wordCountRef = computed(() => {\n            const { value: mergedValue } = mergedValueRef;\n            if (mergedValue === null || Array.isArray(mergedValue))\n                return 0;\n            return len(mergedValue);\n        });\n        return () => {\n            const { value: maxlength } = maxlengthRef;\n            const { value: mergedValue } = mergedValueRef;\n            return (h(\"span\", { class: `${mergedClsPrefixRef.value}-input-word-count` }, slots.default\n                ? slots.default({\n                    value: mergedValue === null || Array.isArray(mergedValue)\n                        ? ''\n                        : mergedValue\n                })\n                : maxlength === undefined\n                    ? wordCountRef.value\n                    : `${wordCountRef.value} / ${maxlength}`));\n        };\n    }\n});\n","import { cB, c, cE, cM, cNotM, insideFormItem } from '../../../_utils/cssr'; // vars:\n// --bezier\n// --color\n// --font-size\n// --border-radius\n// --height\n// --padding-left\n// --padding-right\n// --text-color\n// --text-color-disabled\n// --caret-color\n// --text-decoration-color\n// --border\n// --border-disabled\n// --border-hover\n// --border-focus\n// --placeholder-color\n// --placeholder-color-disabled\n// --line-height-textarea\n// --color-disabled\n// --color-focus\n// --box-shadow-focus\n// --clear-color\n// --clear-size\n// --clear-color-hover\n// --clear-color-pressed\n// --suffix-text-color\n// --icon-color\n// --icon-color-hover\n// --icon-color-pressed\n// --icon-color-disabled\n// --count-text-color\n// --loading-color\n// ...form item vars\n\nexport default c([cB('input', `\n max-width: 100%;\n cursor: text;\n line-height: 1.5;\n z-index: auto;\n outline: none;\n box-sizing: border-box;\n position: relative;\n display: inline-flex;\n border-radius: var(--border-radius);\n background-color: var(--color);\n transition: background-color .3s var(--bezier);\n font-size: var(--font-size);\n --padding-vertical: calc((var(--height) - 1.5 * var(--font-size)) / 2);\n `, [// common\ncE('input, textarea', `\n overflow: hidden;\n flex-grow: 1;\n position: relative;\n `), cE('input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder', `\n box-sizing: border-box;\n font-size: inherit;\n line-height: 1.5;\n font-family: inherit;\n border: none;\n outline: none;\n background-color: #0000;\n text-align: inherit;\n transition:\n caret-color .3s var(--bezier),\n color .3s var(--bezier),\n text-decoration-color .3s var(--bezier);\n `), cE('input-el, textarea-el', `\n -webkit-appearance: none;\n width: 100%;\n min-width: 0;\n text-decoration-color: var(--text-decoration-color);\n color: var(--text-color);\n caret-color: var(--caret-color);\n `, [c('&::placeholder', {\n  color: '#0000'\n})]), cM('round', [cNotM('textarea', {\n  borderRadius: 'calc(var(--height) / 2)'\n})]), cE('placeholder', `\n pointer-events: none;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n overflow: hidden;\n color: var(--placeholder-color);\n `, [c('span', {\n  width: '100%',\n  display: 'inline-block'\n})]), cNotM('autosize', {\n  width: '100%'\n}), cM('autosize', [cE('textarea-el, input-el', `\n position: absolute;\n top: 0;\n left: 0;\n height: 100%;\n `)]), // input\ncB('input-wrapper', `\n overflow: hidden;\n display: inline-flex;\n flex-grow: 1;\n position: relative;\n padding-left: var(--padding-left);\n padding-right: var(--padding-right);\n `), cE('input-mirror', `\n padding: 0;\n height: var(--height);\n overflow: hidden;\n visibility: hidden;\n position: static;\n white-space: nowrap;\n pointer-events: none;\n `), cE('input-el', `\n padding: 0;\n height: var(--height);\n line-height: var(--height);\n `, [c('+', [cE('placeholder', `\n display: flex;\n align-items: center; \n `)])]), cNotM('textarea', [cE('placeholder', {\n  whiteSpace: 'nowrap'\n})]), cE('eye', `\n transition: color .3s var(--bezier);\n `), // textarea\ncM('textarea', {\n  width: '100%'\n}, [cB('input-word-count', `\n position: absolute;\n right: var(--padding-right);\n bottom: var(--padding-vertical);\n `), cM('resizable', [cB('input-wrapper', `\n resize: vertical;\n overflow: auto;\n min-height: var(--height);\n `)]), cE('textarea-el, textarea-mirror, placeholder', `\n width: 100%;\n height: 100%;\n padding-left: 0;\n padding-right: 0;\n padding-top: var(--padding-vertical);\n padding-bottom: var(--padding-vertical);\n display: inline-block;\n vertical-align: bottom;\n box-sizing: border-box;\n line-height: var(--line-height-textarea);\n margin: 0;\n resize: none;\n `), cE('textarea-mirror', `\n pointer-events: none;\n overflow: hidden;\n visibility: hidden;\n position: static;\n white-space: pre-wrap;\n overflow-wrap: break-word;\n `)]), // pair\ncM('pair', [cE('input-el, placeholder', {\n  textAlign: 'center'\n}), cE('separator', `\n display: flex;\n align-items: center;\n transition: color .3s var(--bezier);\n color: var(--text-color);\n `, [cB('icon', `\n color: var(--icon-color);\n `), cB('base-icon', `\n color: var(--icon-color);\n `)])]), cM('disabled', {\n  cursor: 'not-allowed',\n  backgroundColor: 'var(--color-disabled)'\n}, [cE('border', {\n  border: 'var(--border-disabled)'\n}), cE('input-el, textarea-el', {\n  cursor: 'not-allowed',\n  color: 'var(--text-color-disabled)',\n  textDecorationColor: 'var(--text-color-disabled)'\n}), cE('placeholder', {\n  color: 'var(--placeholder-color-disabled)'\n}), cE('separator', {\n  color: 'var(--text-color-disabled)'\n}, [cB('icon', `\n color: var(--icon-color-disabled);\n `), cB('base-icon', `\n color: var(--icon-color-disabled);\n `)]), cE('suffix, prefix', {\n  color: 'var(--text-color-disabled)'\n}, [cB('icon', `\n color: var(--icon-color-disabled);\n `), cB('internal-icon', `\n color: var(--icon-color-disabled);\n `)])]), cNotM('disabled', [cE('eye', `\n color: var(--icon-color);\n cursor: pointer;\n `, [c('&:hover', `\n color: var(--icon-color-hover);\n `), c('&:active', `\n color: var(--icon-color-pressed);\n `)]), cM('focus', {\n  backgroundColor: 'var(--color-focus)'\n}, [cE('state-border', {\n  border: 'var(--border-focus)',\n  boxShadow: 'var(--box-shadow-focus)'\n})]), c('&:hover', [cE('state-border', {\n  border: 'var(--border-focus)'\n})])]), cE('border, state-border', `\n box-sizing: border-box;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n pointer-events: none;\n border-radius: inherit;\n border: var(--border);\n transition:\n box-shadow .3s var(--bezier),\n border-color .3s var(--bezier);\n `), cE('state-border', `\n border-color: #0000;\n z-index: 1;\n `), cE('prefix', {\n  marginRight: '4px'\n}), cE('suffix', `\n margin-left: 4px;\n `), cE('suffix, prefix', `\n transition: color .3s var(--bezier);\n flex-wrap: nowrap;\n flex-shrink: 0;\n line-height: var(--height);\n white-space: nowrap;\n display: inline-flex;\n align-items: center;\n justify-content: center;\n color: var(--suffix-text-color);\n `, [cB('base-loading', `\n font-size: var(--icon-size);\n margin-left: 4px;\n color: var(--loading-color);\n `), cB('base-clear', `\n font-size: var(--icon-size);\n margin-left: 4px;\n `, [cE('placeholder', [cB('base-icon', `\n transition: color .3s var(--bezier);\n color: var(--icon-color);\n font-size: var(--icon-size);\n `)])]), cB('icon', `\n transition: color .3s var(--bezier);\n color: var(--icon-color);\n font-size: var(--icon-size);\n `), cB('base-icon', `\n font-size: var(--icon-size);\n `)]), cB('input-word-count', `\n pointer-events: none;\n line-height: 1.5;\n font-size: .85em;\n color: var(--count-text-color);\n transition: color .3s var(--bezier);\n margin-left: 4px;\n font-variant: tabular-nums;\n `)]), ['warning', 'error'].map(status => insideFormItem(status, cB('input', [cNotM('disabled', [cB('base-loading', `\n color: var(--loading-color-${status})\n `), cE('input-el, textarea-el', {\n  caretColor: `var(--caret-color-${status})`\n}), cE('state-border', {\n  border: `var(--border-${status})`\n}), c('&:hover', [cE('state-border', `\n border: var(--border-hover-${status});\n `)]), c('&:focus', {\n  backgroundColor: `var(--color-focus-${status})`\n}, [cE('state-border', `\n box-shadow: var(--box-shadow-focus-${status});\n border: var(--border-focus-${status});\n `)]), cM('focus', {\n  backgroundColor: `var(--color-focus-${status})`\n}, [cE('state-border', `\n box-shadow: var(--box-shadow-focus-${status});\n border: var(--border-focus-${status});\n `)])])])))]);","import { h, computed, defineComponent, nextTick, ref, toRef, onMounted, getCurrentInstance, renderSlot, watch, watchEffect, provide } from 'vue';\nimport { useMergedState, useMemo } from 'vooks';\nimport { getPadding } from 'seemly';\nimport { VResizeObserver } from 'vueuc';\nimport { NBaseClear, NBaseIcon, NBaseSuffix } from '../../_internal';\nimport { EyeIcon, EyeOffIcon } from '../../_internal/icons';\nimport { useTheme, useLocale, useFormItem, useConfig } from '../../_mixins';\nimport { call, createKey, warnOnce } from '../../_utils';\nimport { inputLight } from '../styles';\nimport { inputInjectionKey } from './interface';\nimport { isEmptyValue } from './utils';\nimport WordCount from './WordCount';\nimport style from './styles/input.cssr';\nimport { off, on } from 'evtd';\nconst inputProps = Object.assign(Object.assign({}, useTheme.props), { bordered: {\n        type: Boolean,\n        default: undefined\n    }, type: {\n        type: String,\n        default: 'text'\n    }, placeholder: [Array, String], defaultValue: {\n        type: [String, Array],\n        default: null\n    }, value: [String, Array], disabled: {\n        type: Boolean,\n        default: undefined\n    }, size: String, rows: {\n        type: [Number, String],\n        default: 3\n    }, round: Boolean, minlength: [String, Number], maxlength: [String, Number], clearable: Boolean, autosize: {\n        type: [Boolean, Object],\n        default: false\n    }, pair: Boolean, separator: String, readonly: {\n        type: [String, Boolean],\n        default: false\n    }, passivelyActivated: Boolean, showPasswordOn: String, stateful: {\n        type: Boolean,\n        default: true\n    }, autofocus: Boolean, inputProps: Object, resizable: {\n        type: Boolean,\n        default: true\n    }, showCount: Boolean, loading: {\n        type: Boolean,\n        default: undefined\n    }, onMousedown: Function, onKeydown: Function, onKeyup: Function, onInput: [Function, Array], onFocus: [Function, Array], onBlur: [Function, Array], onClick: [Function, Array], onChange: [Function, Array], onClear: [Function, Array], 'onUpdate:value': [Function, Array], onUpdateValue: [Function, Array], \n    /** private */\n    textDecoration: [String, Array], attrSize: {\n        type: Number,\n        default: 20\n    }, onInputBlur: [Function, Array], onInputFocus: [Function, Array], onDeactivate: [Function, Array], onActivate: [Function, Array], onWrapperFocus: [Function, Array], onWrapperBlur: [Function, Array], internalDeactivateOnEnter: Boolean, internalForceFocus: Boolean, \n    /** deprecated */\n    showPasswordToggle: Boolean });\nexport default defineComponent({\n    name: 'Input',\n    props: inputProps,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.showPasswordToggle) {\n                    warnOnce('input', '`show-password-toggle` is deprecated, please use `showPasswordOn=\"click\"` instead');\n                }\n            });\n        }\n        const { mergedClsPrefixRef, mergedBorderedRef } = useConfig(props);\n        const themeRef = useTheme('Input', 'Input', style, inputLight, props, mergedClsPrefixRef);\n        // dom refs\n        const wrapperElRef = ref(null);\n        const textareaElRef = ref(null);\n        const textareaMirrorElRef = ref(null);\n        const inputMirrorElRef = ref(null);\n        const inputElRef = ref(null);\n        const inputEl2Ref = ref(null);\n        // local\n        const { localeRef } = useLocale('Input');\n        // value\n        const uncontrolledValueRef = ref(props.defaultValue);\n        const controlledValueRef = toRef(props, 'value');\n        const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n        // form-item\n        const formItem = useFormItem(props);\n        const { mergedSizeRef, mergedDisabledRef } = formItem;\n        // states\n        const focusedRef = ref(false);\n        const hoverRef = ref(false);\n        const isComposingRef = ref(false);\n        const activatedRef = ref(false);\n        let syncSource = null;\n        // placeholder\n        const mergedPlaceholderRef = computed(() => {\n            const { placeholder, pair } = props;\n            if (pair) {\n                if (Array.isArray(placeholder)) {\n                    return placeholder;\n                }\n                else if (placeholder === undefined) {\n                    return ['', ''];\n                }\n                return [placeholder, placeholder];\n            }\n            else if (placeholder === undefined) {\n                return [localeRef.value.placeholder];\n            }\n            else {\n                return [placeholder];\n            }\n        });\n        const showPlaceholder1Ref = computed(() => {\n            const { value: isComposing } = isComposingRef;\n            const { value: mergedValue } = mergedValueRef;\n            const { value: mergedPlaceholder } = mergedPlaceholderRef;\n            return (!isComposing &&\n                (isEmptyValue(mergedValue) ||\n                    (Array.isArray(mergedValue) && isEmptyValue(mergedValue[0]))) &&\n                mergedPlaceholder[0]);\n        });\n        const showPlaceholder2Ref = computed(() => {\n            const { value: isComposing } = isComposingRef;\n            const { value: mergedValue } = mergedValueRef;\n            const { value: mergedPlaceholder } = mergedPlaceholderRef;\n            return (!isComposing &&\n                mergedPlaceholder[1] &&\n                (isEmptyValue(mergedValue) ||\n                    (Array.isArray(mergedValue) && isEmptyValue(mergedValue[1]))));\n        });\n        // focus\n        const mergedFocusRef = useMemo(() => {\n            return props.internalForceFocus || focusedRef.value;\n        });\n        // clear\n        const showClearButton = useMemo(() => {\n            if (mergedDisabledRef.value ||\n                props.readonly ||\n                !props.clearable ||\n                (!mergedFocusRef.value && !hoverRef.value)) {\n                return false;\n            }\n            const { value: mergedValue } = mergedValueRef;\n            const { value: mergedFocus } = mergedFocusRef;\n            if (props.pair) {\n                return (!!(Array.isArray(mergedValue) &&\n                    (mergedValue[0] || mergedValue[1])) &&\n                    (hoverRef.value || mergedFocus));\n            }\n            else {\n                return !!mergedValue && (hoverRef.value || mergedFocus);\n            }\n        });\n        // passwordVisible\n        const mergedShowPasswordOnRef = computed(() => {\n            const { showPasswordOn } = props;\n            if (showPasswordOn) {\n                return showPasswordOn;\n            }\n            if (props.showPasswordToggle)\n                return 'click';\n            return undefined;\n        });\n        const passwordVisibleRef = ref(false);\n        // text-decoration\n        const textDecorationStyleRef = computed(() => {\n            const { textDecoration } = props;\n            if (!textDecoration)\n                return ['', ''];\n            if (Array.isArray(textDecoration)) {\n                return textDecoration.map((v) => ({\n                    textDecoration: v\n                }));\n            }\n            return [\n                {\n                    textDecoration\n                }\n            ];\n        });\n        // textarea autosize\n        const updateTextAreaStyle = () => {\n            if (props.type === 'textarea') {\n                const { autosize } = props;\n                if (typeof autosize === 'boolean')\n                    return;\n                if (!textareaElRef.value)\n                    return;\n                const { paddingTop: stylePaddingTop, paddingBottom: stylePaddingBottom, lineHeight: styleLineHeight } = window.getComputedStyle(textareaElRef.value);\n                const paddingTop = Number(stylePaddingTop.slice(0, -2));\n                const paddingBottom = Number(stylePaddingBottom.slice(0, -2));\n                const lineHeight = Number(styleLineHeight.slice(0, -2));\n                const { value: textareaMirrorEl } = textareaMirrorElRef;\n                if (!textareaMirrorEl)\n                    return;\n                if (autosize.minRows) {\n                    const minRows = Math.max(autosize.minRows, 1);\n                    const styleMinHeight = `${paddingTop + paddingBottom + lineHeight * minRows}px`;\n                    textareaMirrorEl.style.minHeight = styleMinHeight;\n                }\n                if (autosize.maxRows) {\n                    const styleMaxHeight = `${paddingTop + paddingBottom + lineHeight * autosize.maxRows}px`;\n                    textareaMirrorEl.style.maxHeight = styleMaxHeight;\n                }\n            }\n        };\n        // word count\n        const maxlengthRef = computed(() => {\n            const { maxlength } = props;\n            return maxlength === undefined ? undefined : Number(maxlength);\n        });\n        onMounted(() => {\n            // sync mirror if is not pair\n            const { value } = mergedValueRef;\n            if (!Array.isArray(value)) {\n                syncMirror(value);\n            }\n        });\n        // other methods\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const vm = getCurrentInstance().proxy;\n        function doUpdateValue(value) {\n            const { onUpdateValue, 'onUpdate:value': _onUpdateValue, onInput } = props;\n            const { nTriggerFormInput } = formItem;\n            if (onUpdateValue)\n                call(onUpdateValue, value);\n            if (_onUpdateValue)\n                call(_onUpdateValue, value);\n            if (onInput)\n                call(onInput, value);\n            uncontrolledValueRef.value = value;\n            nTriggerFormInput();\n        }\n        function doChange(value) {\n            const { onChange } = props;\n            const { nTriggerFormChange } = formItem;\n            if (onChange)\n                call(onChange, value);\n            uncontrolledValueRef.value = value;\n            nTriggerFormChange();\n        }\n        function doBlur(e) {\n            const { onBlur } = props;\n            const { nTriggerFormBlur } = formItem;\n            if (onBlur)\n                call(onBlur, e);\n            nTriggerFormBlur();\n        }\n        function doFocus(e) {\n            const { onFocus } = props;\n            const { nTriggerFormFocus } = formItem;\n            if (onFocus)\n                call(onFocus, e);\n            nTriggerFormFocus();\n        }\n        function doClear(e) {\n            const { onClear } = props;\n            if (onClear)\n                call(onClear, e);\n        }\n        function doUpdateValueBlur(e) {\n            const { onInputBlur } = props;\n            if (onInputBlur)\n                call(onInputBlur, e);\n        }\n        function doUpdateValueFocus(e) {\n            const { onInputFocus } = props;\n            if (onInputFocus)\n                call(onInputFocus, e);\n        }\n        function doDeactivate() {\n            const { onDeactivate } = props;\n            if (onDeactivate)\n                call(onDeactivate);\n        }\n        function doActivate() {\n            const { onActivate } = props;\n            if (onActivate)\n                call(onActivate);\n        }\n        function doClick(e) {\n            const { onClick } = props;\n            if (onClick)\n                call(onClick, e);\n        }\n        function doWrapperFocus(e) {\n            const { onWrapperFocus } = props;\n            if (onWrapperFocus)\n                call(onWrapperFocus, e);\n        }\n        function doWrapperBlur(e) {\n            const { onWrapperBlur } = props;\n            if (onWrapperBlur)\n                call(onWrapperBlur, e);\n        }\n        // methods\n        function handleCompositionStart() {\n            isComposingRef.value = true;\n        }\n        function handleCompositionEnd(e) {\n            isComposingRef.value = false;\n            if (e.target === inputEl2Ref.value) {\n                handleInput(e, 1);\n            }\n            else {\n                handleInput(e, 0);\n            }\n        }\n        function handleInput(e, index = 0, event = 'input') {\n            const targetValue = e.target.value;\n            syncMirror(targetValue);\n            syncSource = targetValue;\n            if (isComposingRef.value)\n                return;\n            const changedValue = targetValue;\n            if (!props.pair) {\n                event === 'input' ? doUpdateValue(changedValue) : doChange(changedValue);\n            }\n            else {\n                let { value } = mergedValueRef;\n                if (!Array.isArray(value)) {\n                    value = ['', ''];\n                }\n                else {\n                    value = [...value];\n                }\n                value[index] = changedValue;\n                event === 'input' ? doUpdateValue(value) : doChange(value);\n            }\n            // force update to sync input's view with value\n            // if not set, after input, input value won't sync with dom input value\n            ;\n            vm.$forceUpdate();\n        }\n        function handleInputBlur(e) {\n            doUpdateValueBlur(e);\n            if (e.relatedTarget === wrapperElRef.value) {\n                doDeactivate();\n            }\n            if (!(e.relatedTarget !== null &&\n                (e.relatedTarget === inputElRef.value ||\n                    e.relatedTarget === inputEl2Ref.value ||\n                    e.relatedTarget === textareaElRef.value))) {\n                activatedRef.value = false;\n            }\n            dealWithEvent(e, 'blur');\n        }\n        function handleInputFocus(e) {\n            doUpdateValueFocus(e);\n            focusedRef.value = true;\n            activatedRef.value = true;\n            doActivate();\n            dealWithEvent(e, 'focus');\n        }\n        function handleWrapperBlur(e) {\n            if (props.passivelyActivated) {\n                doWrapperBlur(e);\n                dealWithEvent(e, 'blur');\n            }\n        }\n        function handleWrapperFocus(e) {\n            if (props.passivelyActivated) {\n                focusedRef.value = true;\n                doWrapperFocus(e);\n                dealWithEvent(e, 'focus');\n            }\n        }\n        function dealWithEvent(e, type) {\n            if (e.relatedTarget !== null &&\n                (e.relatedTarget === inputElRef.value ||\n                    e.relatedTarget === inputEl2Ref.value ||\n                    e.relatedTarget === textareaElRef.value ||\n                    e.relatedTarget === wrapperElRef.value)) {\n                /**\n                 * activeElement transfer inside the input, do nothing\n                 */\n            }\n            else {\n                if (type === 'focus') {\n                    doFocus(e);\n                    focusedRef.value = true;\n                }\n                else if (type === 'blur') {\n                    doBlur(e);\n                    focusedRef.value = false;\n                }\n            }\n        }\n        function handleChange(e, index) {\n            handleInput(e, index, 'change');\n        }\n        function handleClick(e) {\n            doClick(e);\n        }\n        function handleClear(e) {\n            doClear(e);\n            if (props.pair) {\n                doUpdateValue(['', '']);\n            }\n            else {\n                doUpdateValue('');\n            }\n        }\n        function handleMouseDown(e) {\n            const { onMousedown } = props;\n            if (onMousedown)\n                onMousedown(e);\n            const { tagName } = e.target;\n            if (tagName !== 'INPUT' && tagName !== 'TEXTAREA') {\n                if (props.resizable) {\n                    const { value: wrapperEl } = wrapperElRef;\n                    if (wrapperEl) {\n                        const { left, top, width, height } = wrapperEl.getBoundingClientRect();\n                        const resizeHandleSize = 14;\n                        if (left + width - resizeHandleSize < e.clientX &&\n                            e.clientY < left + width &&\n                            top + height - resizeHandleSize < e.clientY &&\n                            e.clientY < top + height) {\n                            // touching resize handle, just let it go.\n                            // resize won't take focus, maybe there is a better way to do this.\n                            // hope someone can figure out a better solution\n                            return;\n                        }\n                    }\n                }\n                e.preventDefault();\n                if (!focusedRef.value) {\n                    focus();\n                }\n            }\n        }\n        function handleMouseEnter() {\n            hoverRef.value = true;\n        }\n        function handleMouseLeave() {\n            hoverRef.value = false;\n        }\n        function handlePasswordToggleClick() {\n            if (mergedDisabledRef.value)\n                return;\n            if (mergedShowPasswordOnRef.value !== 'click')\n                return;\n            passwordVisibleRef.value = !passwordVisibleRef.value;\n        }\n        function handlePasswordToggleMousedown(e) {\n            if (mergedDisabledRef.value)\n                return;\n            e.preventDefault();\n            const preventDefaultOnce = (e) => {\n                e.preventDefault();\n                off('mouseup', document, preventDefaultOnce);\n            };\n            on('mouseup', document, preventDefaultOnce);\n            if (mergedShowPasswordOnRef.value !== 'mousedown')\n                return;\n            passwordVisibleRef.value = true;\n            const hidePassword = () => {\n                passwordVisibleRef.value = false;\n                off('mouseup', document, hidePassword);\n            };\n            on('mouseup', document, hidePassword);\n        }\n        function handleWrapperKeyDown(e) {\n            var _a;\n            (_a = props.onKeydown) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            switch (e.code) {\n                case 'Escape':\n                    handleWrapperKeyDownEsc();\n                    break;\n                case 'Enter':\n                case 'NumpadEnter':\n                    handleWrapperKeyDownEnter(e);\n                    break;\n            }\n        }\n        function handleWrapperKeyDownEnter(e) {\n            var _a, _b;\n            if (props.passivelyActivated) {\n                const { value: focused } = activatedRef;\n                if (focused) {\n                    if (props.internalDeactivateOnEnter) {\n                        handleWrapperKeyDownEsc();\n                    }\n                    return;\n                }\n                e.preventDefault();\n                if (props.type === 'textarea') {\n                    (_a = textareaElRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n                }\n                else {\n                    (_b = inputElRef.value) === null || _b === void 0 ? void 0 : _b.focus();\n                }\n            }\n        }\n        function handleWrapperKeyDownEsc() {\n            if (props.passivelyActivated) {\n                activatedRef.value = false;\n                void nextTick(() => {\n                    var _a;\n                    (_a = wrapperElRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n                });\n            }\n        }\n        function focus() {\n            var _a, _b, _c;\n            if (mergedDisabledRef.value)\n                return;\n            if (props.passivelyActivated) {\n                (_a = wrapperElRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n            }\n            else {\n                (_b = textareaElRef.value) === null || _b === void 0 ? void 0 : _b.focus();\n                (_c = inputElRef.value) === null || _c === void 0 ? void 0 : _c.focus();\n            }\n        }\n        function blur() {\n            var _a;\n            if ((_a = wrapperElRef.value) === null || _a === void 0 ? void 0 : _a.contains(document.activeElement)) {\n                ;\n                document.activeElement.blur();\n            }\n        }\n        function activate() {\n            if (mergedDisabledRef.value)\n                return;\n            if (textareaElRef.value)\n                textareaElRef.value.focus();\n            else if (inputElRef.value)\n                inputElRef.value.focus();\n        }\n        function deactivate() {\n            const { value: wrapperEl } = wrapperElRef;\n            if ((wrapperEl === null || wrapperEl === void 0 ? void 0 : wrapperEl.contains(document.activeElement)) &&\n                wrapperEl !== document.activeElement) {\n                handleWrapperKeyDownEsc();\n            }\n        }\n        function syncMirror(value) {\n            const { type, pair, autosize } = props;\n            if (!pair && autosize) {\n                if (type === 'textarea') {\n                    const { value: textareaMirrorEl } = textareaMirrorElRef;\n                    if (textareaMirrorEl) {\n                        textareaMirrorEl.textContent = (value !== null && value !== void 0 ? value : '') + '\\r\\n';\n                    }\n                }\n                else {\n                    const { value: inputMirrorEl } = inputMirrorElRef;\n                    if (inputMirrorEl) {\n                        if (value) {\n                            inputMirrorEl.textContent = value;\n                        }\n                        else {\n                            inputMirrorEl.innerHTML = '&nbsp;';\n                        }\n                    }\n                }\n            }\n        }\n        function handleTextAreaMirrorResize() {\n            updateTextAreaStyle();\n        }\n        let stopWatchMergedValue = null;\n        watchEffect(() => {\n            const { autosize, type } = props;\n            if (autosize && type === 'textarea') {\n                stopWatchMergedValue = watch(mergedValueRef, (value) => {\n                    if (!Array.isArray(value) && value !== syncSource) {\n                        syncMirror(value);\n                    }\n                });\n            }\n            else {\n                stopWatchMergedValue === null || stopWatchMergedValue === void 0 ? void 0 : stopWatchMergedValue();\n            }\n        });\n        provide(inputInjectionKey, {\n            mergedValueRef,\n            maxlengthRef,\n            mergedClsPrefixRef\n        });\n        const exposedProps = {\n            wrapperElRef,\n            inputElRef,\n            textareaElRef,\n            isCompositing: isComposingRef,\n            focus,\n            blur,\n            deactivate,\n            activate\n        };\n        return Object.assign(Object.assign({}, exposedProps), { \n            // DOM ref\n            wrapperElRef,\n            inputElRef,\n            inputMirrorElRef,\n            inputEl2Ref,\n            textareaElRef,\n            textareaMirrorElRef, \n            // value\n            uncontrolledValue: uncontrolledValueRef, mergedValue: mergedValueRef, passwordVisible: passwordVisibleRef, mergedPlaceholder: mergedPlaceholderRef, showPlaceholder1: showPlaceholder1Ref, showPlaceholder2: showPlaceholder2Ref, mergedFocus: mergedFocusRef, isComposing: isComposingRef, activated: activatedRef, showClearButton, mergedSize: mergedSizeRef, mergedDisabled: mergedDisabledRef, textDecorationStyle: textDecorationStyleRef, mergedClsPrefix: mergedClsPrefixRef, mergedBordered: mergedBorderedRef, mergedShowPasswordOn: mergedShowPasswordOnRef, \n            // methods\n            handleCompositionStart,\n            handleCompositionEnd,\n            handleInput,\n            handleInputBlur,\n            handleInputFocus,\n            handleWrapperBlur,\n            handleWrapperFocus,\n            handleMouseEnter,\n            handleMouseLeave,\n            handleMouseDown,\n            handleChange,\n            handleClick,\n            handleClear,\n            handlePasswordToggleClick,\n            handlePasswordToggleMousedown,\n            handleWrapperKeyDown,\n            handleTextAreaMirrorResize, mergedTheme: themeRef, cssVars: computed(() => {\n                const { value: size } = mergedSizeRef;\n                const { common: { cubicBezierEaseInOut }, self: { color, borderRadius, textColor, caretColor, caretColorError, caretColorWarning, textDecorationColor, border, borderDisabled, borderHover, borderFocus, placeholderColor, placeholderColorDisabled, lineHeightTextarea, colorDisabled, colorFocus, textColorDisabled, boxShadowFocus, iconSize, colorFocusWarning, boxShadowFocusWarning, borderWarning, borderFocusWarning, borderHoverWarning, colorFocusError, boxShadowFocusError, borderError, borderFocusError, borderHoverError, clearSize, clearColor, clearColorHover, clearColorPressed, iconColor, iconColorDisabled, suffixTextColor, countTextColor, iconColorHover, iconColorPressed, loadingColor, loadingColorError, loadingColorWarning, [createKey('padding', size)]: padding, [createKey('fontSize', size)]: fontSize, [createKey('height', size)]: height } } = themeRef.value;\n                const { left: paddingLeft, right: paddingRight } = getPadding(padding);\n                return {\n                    '--bezier': cubicBezierEaseInOut,\n                    '--count-text-color': countTextColor,\n                    '--color': color,\n                    '--font-size': fontSize,\n                    '--border-radius': borderRadius,\n                    '--height': height,\n                    '--padding-left': paddingLeft,\n                    '--padding-right': paddingRight,\n                    '--text-color': textColor,\n                    '--caret-color': caretColor,\n                    '--text-decoration-color': textDecorationColor,\n                    '--border': border,\n                    '--border-disabled': borderDisabled,\n                    '--border-hover': borderHover,\n                    '--border-focus': borderFocus,\n                    '--placeholder-color': placeholderColor,\n                    '--placeholder-color-disabled': placeholderColorDisabled,\n                    '--icon-size': iconSize,\n                    '--line-height-textarea': lineHeightTextarea,\n                    '--color-disabled': colorDisabled,\n                    '--color-focus': colorFocus,\n                    '--text-color-disabled': textColorDisabled,\n                    '--box-shadow-focus': boxShadowFocus,\n                    '--loading-color': loadingColor,\n                    // form warning\n                    '--caret-color-warning': caretColorWarning,\n                    '--color-focus-warning': colorFocusWarning,\n                    '--box-shadow-focus-warning': boxShadowFocusWarning,\n                    '--border-warning': borderWarning,\n                    '--border-focus-warning': borderFocusWarning,\n                    '--border-hover-warning': borderHoverWarning,\n                    '--loading-color-warning': loadingColorWarning,\n                    // form error\n                    '--caret-color-error': caretColorError,\n                    '--color-focus-error': colorFocusError,\n                    '--box-shadow-focus-error': boxShadowFocusError,\n                    '--border-error': borderError,\n                    '--border-focus-error': borderFocusError,\n                    '--border-hover-error': borderHoverError,\n                    '--loading-color-error': loadingColorError,\n                    // clear-button\n                    '--clear-color': clearColor,\n                    '--clear-size': clearSize,\n                    '--clear-color-hover': clearColorHover,\n                    '--clear-color-pressed': clearColorPressed,\n                    '--icon-color': iconColor,\n                    '--icon-color-hover': iconColorHover,\n                    '--icon-color-pressed': iconColorPressed,\n                    '--icon-color-disabled': iconColorDisabled,\n                    '--suffix-text-color': suffixTextColor\n                };\n            }) });\n    },\n    render() {\n        const { mergedClsPrefix } = this;\n        return (h(\"div\", { ref: \"wrapperElRef\", class: [\n                `${mergedClsPrefix}-input`,\n                {\n                    [`${mergedClsPrefix}-input--disabled`]: this.mergedDisabled,\n                    [`${mergedClsPrefix}-input--textarea`]: this.type === 'textarea',\n                    [`${mergedClsPrefix}-input--resizable`]: this.resizable && !this.autosize,\n                    [`${mergedClsPrefix}-input--autosize`]: this.autosize,\n                    [`${mergedClsPrefix}-input--round`]: this.round && !(this.type === 'textarea'),\n                    [`${mergedClsPrefix}-input--pair`]: this.pair,\n                    [`${mergedClsPrefix}-input--focus`]: this.mergedFocus,\n                    [`${mergedClsPrefix}-input--stateful`]: this.stateful\n                }\n            ], style: this.cssVars, tabindex: !this.mergedDisabled && this.passivelyActivated && !this.activated\n                ? 0\n                : undefined, onFocus: this.handleWrapperFocus, onBlur: this.handleWrapperBlur, onClick: this.handleClick, onMousedown: this.handleMouseDown, onMouseenter: this.handleMouseEnter, onMouseleave: this.handleMouseLeave, onCompositionstart: this.handleCompositionStart, onCompositionend: this.handleCompositionEnd, onKeyup: this.onKeyup, onKeydown: this.handleWrapperKeyDown },\n            h(\"div\", { class: `${mergedClsPrefix}-input-wrapper` },\n                this.$slots.affix || this.$slots.prefix ? (h(\"div\", { class: `${mergedClsPrefix}-input__prefix` }, renderSlot(this.$slots, 'affix', undefined, () => {\n                    return [renderSlot(this.$slots, 'prefix')];\n                }))) : null,\n                this.type === 'textarea' ? (h(\"div\", { class: `${mergedClsPrefix}-input__textarea` },\n                    h(\"textarea\", Object.assign({}, this.inputProps, { ref: \"textareaElRef\", class: `${mergedClsPrefix}-input__textarea-el`, autofocus: this.autofocus, rows: Number(this.rows), placeholder: this.placeholder, value: this.mergedValue, disabled: this.mergedDisabled, maxlength: this.maxlength, minlength: this.minlength, readonly: this.readonly, tabindex: this.passivelyActivated && !this.activated ? -1 : undefined, style: this.textDecorationStyle[0], onBlur: this.handleInputBlur, onFocus: this.handleInputFocus, onInput: this.handleInput, onChange: this.handleChange })),\n                    this.showPlaceholder1 ? (h(\"div\", { class: `${mergedClsPrefix}-input__placeholder`, key: \"placeholder\" }, this.mergedPlaceholder[0])) : null,\n                    this.autosize ? (h(VResizeObserver, { onResize: this.handleTextAreaMirrorResize }, {\n                        default: () => (h(\"div\", { ref: \"textareaMirrorElRef\", class: `${mergedClsPrefix}-input__textarea-mirror`, key: \"mirror\" }))\n                    })) : null)) : (h(\"div\", { class: `${mergedClsPrefix}-input__input` },\n                    h(\"input\", Object.assign({}, this.inputProps, { ref: \"inputElRef\", type: this.type === 'password' &&\n                            this.mergedShowPasswordOn &&\n                            this.passwordVisible\n                            ? 'text'\n                            : this.type, class: `${mergedClsPrefix}-input__input-el`, tabindex: this.passivelyActivated && !this.activated ? -1 : undefined, placeholder: this.mergedPlaceholder[0], disabled: this.mergedDisabled, maxlength: this.maxlength, minlength: this.minlength, value: Array.isArray(this.mergedValue)\n                            ? this.mergedValue[0]\n                            : this.mergedValue, readonly: this.readonly, autofocus: this.autofocus, size: this.attrSize, style: this.textDecorationStyle[0], onBlur: this.handleInputBlur, onFocus: this.handleInputFocus, onInput: (e) => this.handleInput(e, 0), onChange: (e) => this.handleChange(e, 0) })),\n                    this.showPlaceholder1 ? (h(\"div\", { class: `${mergedClsPrefix}-input__placeholder` },\n                        h(\"span\", null, this.mergedPlaceholder[0]))) : null,\n                    this.autosize ? (h(\"div\", { class: `${mergedClsPrefix}-input__input-mirror`, key: \"mirror\", ref: \"inputMirrorElRef\" }, \"\\u00A0\")) : null)),\n                !this.pair &&\n                    (this.$slots.suffix ||\n                        this.clearable ||\n                        this.showCount ||\n                        this.mergedShowPasswordOn ||\n                        this.loading !== undefined) ? (h(\"div\", { class: `${mergedClsPrefix}-input__suffix` }, [\n                    this.clearable || this.$slots.clear ? (h(NBaseClear, { clsPrefix: mergedClsPrefix, show: this.showClearButton, onClear: this.handleClear }, { default: () => renderSlot(this.$slots, 'clear') })) : null,\n                    renderSlot(this.$slots, 'suffix'),\n                    this.loading !== undefined ? (h(NBaseSuffix, { clsPrefix: mergedClsPrefix, loading: this.loading, showArrow: false, showClear: false, style: this.cssVars })) : null,\n                    this.showCount && this.type !== 'textarea' ? (h(WordCount, null, { default: this.$slots.count })) : null,\n                    this.mergedShowPasswordOn && this.type === 'password' ? (h(NBaseIcon, { clsPrefix: mergedClsPrefix, class: `${mergedClsPrefix}-input__eye`, onMousedown: this.handlePasswordToggleMousedown, onClick: this.handlePasswordToggleClick }, {\n                        default: () => this.passwordVisible ? h(EyeIcon, null) : h(EyeOffIcon, null)\n                    })) : null\n                ])) : null),\n            this.pair ? (h(\"span\", { class: `${mergedClsPrefix}-input__separator` }, renderSlot(this.$slots, 'separator', undefined, () => [\n                this.separator\n            ]))) : null,\n            this.pair ? (h(\"div\", { class: `${mergedClsPrefix}-input-wrapper` },\n                h(\"div\", { class: `${mergedClsPrefix}-input__input` },\n                    h(\"input\", { ref: \"inputEl2Ref\", type: this.type, class: `${mergedClsPrefix}-input__input-el`, tabindex: this.passivelyActivated && !this.activated ? -1 : undefined, placeholder: this.mergedPlaceholder[1], disabled: this.mergedDisabled, maxlength: this.maxlength, minlength: this.minlength, value: Array.isArray(this.mergedValue)\n                            ? this.mergedValue[1]\n                            : undefined, readonly: this.readonly, style: this.textDecorationStyle[1], onBlur: this.handleInputBlur, onFocus: this.handleInputFocus, onInput: (e) => this.handleInput(e, 1), onChange: (e) => this.handleChange(e, 1) }),\n                    this.showPlaceholder2 ? (h(\"div\", { class: `${mergedClsPrefix}-input__placeholder` },\n                        h(\"span\", null, this.mergedPlaceholder[1]))) : null),\n                h(\"div\", { class: `${mergedClsPrefix}-input__suffix` }, [\n                    this.clearable || this.$slots.clear ? (h(NBaseClear, { clsPrefix: mergedClsPrefix, show: this.showClearButton, onClear: this.handleClear }, { default: () => renderSlot(this.$slots, 'clear') })) : null,\n                    renderSlot(this.$slots, 'suffix')\n                ]))) : null,\n            this.mergedBordered ? (h(\"div\", { class: `${mergedClsPrefix}-input__border` })) : null,\n            this.mergedBordered ? (h(\"div\", { class: `${mergedClsPrefix}-input__state-border` })) : null,\n            this.showCount && this.type === 'textarea' ? (h(WordCount, null, { default: this.$slots.count })) : null));\n    }\n});\n","export default {\n    buttonHeightSmall: '14px',\n    buttonHeightMedium: '18px',\n    buttonHeightLarge: '22px',\n    buttonWidthSmall: '14px',\n    buttonWidthMedium: '18px',\n    buttonWidthLarge: '22px',\n    buttonWidthPressedSmall: '20px',\n    buttonWidthPressedMedium: '24px',\n    buttonWidthPressedLarge: '28px',\n    railHeightSmall: '18px',\n    railHeightMedium: '22px',\n    railHeightLarge: '26px',\n    railWidthSmall: '32px',\n    railWidthMedium: '40px',\n    railWidthLarge: '48px'\n};\n","import { changeColor } from 'seemly';\nimport commonVars from './_common';\nimport { commonLight } from '../../_styles/common';\nconst self = (vars) => {\n    const { primaryColor, opacityDisabled, borderRadius } = vars;\n    const railOverlayColor = 'rgba(0, 0, 0, .14)';\n    return Object.assign(Object.assign({}, commonVars), { textColor: 'white', loadingColor: primaryColor, opacityDisabled, railColor: railOverlayColor, railColorActive: primaryColor, buttonBoxShadow: '0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)', buttonColor: '#FFF', railBorderRadiusSmall: borderRadius, railBorderRadiusMedium: borderRadius, railBorderRadiusLarge: borderRadius, buttonBorderRadiusSmall: borderRadius, buttonBorderRadiusMedium: borderRadius, buttonBorderRadiusLarge: borderRadius, boxShadowFocus: `0 0 0 2px ${changeColor(primaryColor, { alpha: 0.2 })}` });\n};\nconst switchLight = {\n    name: 'Switch',\n    common: commonLight,\n    self\n};\nexport default switchLight;\n","import fadeInScaleUpTransition from '../../../_styles/transitions/fade-in-scale-up.cssr';\nimport { c, cB, cE, cM, cNotM } from '../../../_utils/cssr'; // vars:\n// --bezier\n// --button-border-radius\n// --button-box-shadow\n// --button-color\n// --button-width\n// --button-width-pressed\n// --height\n// --offset\n// --rail-border-radius\n// --rail-color\n// --rail-color-active\n// --rail-height\n// --rail-width\n// --width\n// --box-shadow-focus\n// --loading-color\n// --text-color\n\nexport default cB('switch', `\n height: var(--height);\n min-width: var(--width);\n vertical-align: middle;\n user-select: none;\n display: inline-flex;\n outline: none;\n justify-content: center;\n align-items: center;\n`, [cE('children-placeholder', `\n height: var(--rail-height);\n display: flex;\n flex-direction: column;\n overflow: hidden;\n pointer-events: none;\n visibility: hidden;\n `), cE('rail-placeholder', `\n display: flex;\n flex-wrap: none;\n `), cE('button-placeholder', `\n width: calc(1.75 * var(--rail-height));\n height: var(--rail-height);\n `), cB('base-loading', `\n position: absolute;\n top: 50%;\n left: 50%;\n transform: translateX(-50%) translateY(-50%);\n font-size: calc(var(--button-width) - 4px);\n color: var(--loading-color);\n transition: color .3s var(--bezier);\n `, [fadeInScaleUpTransition({\n  originalTransform: 'translateX(-50%) translateY(-50%)'\n})]), cE('checked, unchecked', `\n transition: color .3s var(--bezier);\n color: var(--text-color);\n box-sizing: border-box;\n position: absolute;\n white-space: nowrap;\n top: 0;\n bottom: 0;\n display: flex;\n align-items: center;\n line-height: 1;\n `), cE('checked', `\n right: 0;\n padding-right: calc(1.25 * var(--rail-height) - var(--offset));\n `), cE('unchecked', `\n left: 0;\n justify-content: flex-end;\n padding-left: calc(1.25 * var(--rail-height) - var(--offset));\n `), c('&:focus', [cE('rail', `\n box-shadow: var(--box-shadow-focus);\n `)]), cM('round', [cE('rail', {\n  borderRadius: 'calc(var(--rail-height) / 2)'\n}, [cE('button', {\n  borderRadius: 'calc(var(--button-height) / 2)'\n})])]), cNotM('disabled', [cM('pressed', [cE('rail', [cE('button', {\n  maxWidth: 'var(--button-width-pressed)'\n})])]), cE('rail', [c('&:active', [cE('button', {\n  maxWidth: 'var(--button-width-pressed)'\n})])]), cM('active', [cM('pressed', [cE('rail', [cE('button', {\n  left: 'calc(100% - var(--offset) - var(--button-width-pressed))'\n})])]), cE('rail', [c('&:active', [cE('button', {\n  left: 'calc(100% - var(--offset) - var(--button-width-pressed))'\n})])])])]), cM('active', [cE('rail', [cE('button', {\n  left: 'calc(100% - (var(--rail-height) + var(--button-width)) / 2)'\n})])]), cE('rail', `\n overflow: hidden;\n height: var(--rail-height);\n min-width: var(--rail-width);\n border-radius: var(--rail-border-radius);\n cursor: pointer;\n position: relative;\n transition:\n background-color .3s var(--bezier),\n box-shadow .3s var(--bezier);\n background-color: var(--rail-color);\n `, [cE('button', `\n top: var(--offset);\n left: var(--offset);\n height: var(--button-width);\n width: var(--button-width-pressed);\n max-width: var(--button-width);\n border-radius: var(--button-border-radius);\n background-color: var(--button-color);\n box-shadow: var(--button-box-shadow);\n box-sizing: border-box;\n cursor: inherit;\n content: \"\";\n position: absolute;\n transition:\n background-color .3s var(--bezier),\n left .3s var(--bezier),\n opacity .3s var(--bezier),\n max-width .3s var(--bezier),\n box-shadow .3s var(--bezier);\n `)]), cM('active', [cE('rail', {\n  backgroundColor: 'var(--rail-color-active)'\n})]), cM('disabled', [cE('rail', `\n cursor: not-allowed;\n opacity: .5;\n `)])]);","import { h, ref, toRef, defineComponent, computed, Transition, watchEffect } from 'vue';\nimport { depx, pxfy } from 'seemly';\nimport { useMergedState } from 'vooks';\nimport { useConfig, useFormItem, useTheme } from '../../_mixins';\nimport { NBaseLoading } from '../../_internal';\nimport { call, createKey, warnOnce } from '../../_utils';\nimport { switchLight } from '../styles';\nimport style from './styles/index.cssr';\nconst switchProps = Object.assign(Object.assign({}, useTheme.props), { size: {\n        type: String,\n        default: 'medium'\n    }, value: {\n        type: [String, Number, Boolean],\n        default: undefined\n    }, loading: Boolean, defaultValue: {\n        type: [String, Number, Boolean],\n        default: false\n    }, disabled: {\n        type: Boolean,\n        default: undefined\n    }, round: {\n        type: Boolean,\n        default: true\n    }, 'onUpdate:value': [Function, Array], onUpdateValue: [Function, Array], checkedValue: {\n        type: [String, Number, Boolean],\n        default: true\n    }, uncheckedValue: {\n        type: [String, Number, Boolean],\n        default: false\n    }, \n    /** @deprecated */\n    onChange: [Function, Array] });\nexport default defineComponent({\n    name: 'Switch',\n    props: switchProps,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.onChange) {\n                    warnOnce('switch', '`on-change` is deprecated, please use `on-update:value` instead.');\n                }\n            });\n        }\n        const { mergedClsPrefixRef } = useConfig(props);\n        const themeRef = useTheme('Switch', 'Switch', style, switchLight, props, mergedClsPrefixRef);\n        const formItem = useFormItem(props);\n        const { mergedSizeRef, mergedDisabledRef } = formItem;\n        const uncontrolledValueRef = ref(props.defaultValue);\n        const controlledValueRef = toRef(props, 'value');\n        const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n        const pressedRef = ref(false);\n        function doUpdateValue(value) {\n            const { 'onUpdate:value': _onUpdateValue, onChange, onUpdateValue } = props;\n            const { nTriggerFormInput, nTriggerFormChange } = formItem;\n            if (_onUpdateValue)\n                call(_onUpdateValue, value);\n            if (onUpdateValue)\n                call(onUpdateValue, value);\n            if (onChange)\n                call(onChange, value);\n            uncontrolledValueRef.value = value;\n            nTriggerFormInput();\n            nTriggerFormChange();\n        }\n        function doFocus() {\n            const { nTriggerFormFocus } = formItem;\n            nTriggerFormFocus();\n        }\n        function doBlur() {\n            const { nTriggerFormBlur } = formItem;\n            nTriggerFormBlur();\n        }\n        function handleClick() {\n            if (!mergedDisabledRef.value) {\n                if (mergedValueRef.value !== props.checkedValue) {\n                    doUpdateValue(props.checkedValue);\n                }\n                else {\n                    doUpdateValue(props.uncheckedValue);\n                }\n            }\n        }\n        function handleFocus() {\n            doFocus();\n        }\n        function handleBlur() {\n            doBlur();\n            pressedRef.value = false;\n        }\n        function handleKeyup(e) {\n            if (e.code === 'Space') {\n                doUpdateValue(!mergedValueRef.value);\n                pressedRef.value = false;\n            }\n        }\n        function handleKeydown(e) {\n            if (e.code === 'Space') {\n                e.preventDefault();\n                pressedRef.value = true;\n            }\n        }\n        return {\n            handleClick,\n            handleBlur,\n            handleFocus,\n            handleKeyup,\n            handleKeydown,\n            pressed: pressedRef,\n            mergedClsPrefix: mergedClsPrefixRef,\n            mergedValue: mergedValueRef,\n            mergedDisabled: mergedDisabledRef,\n            cssVars: computed(() => {\n                const { value: size } = mergedSizeRef;\n                const { self: { opacityDisabled, railColor, railColorActive, buttonBoxShadow, buttonColor, boxShadowFocus, loadingColor, textColor, [createKey('buttonHeight', size)]: buttonHeight, [createKey('buttonWidth', size)]: buttonWidth, [createKey('buttonWidthPressed', size)]: buttonWidthPressed, [createKey('railHeight', size)]: railHeight, [createKey('railWidth', size)]: railWidth, [createKey('railBorderRadius', size)]: railBorderRadius, [createKey('buttonBorderRadius', size)]: buttonBorderRadius }, common: { cubicBezierEaseInOut } } = themeRef.value;\n                const offset = pxfy((depx(railHeight) - depx(buttonHeight)) / 2);\n                const height = pxfy(Math.max(depx(railHeight), depx(buttonHeight)));\n                const width = depx(railHeight) > depx(buttonHeight)\n                    ? railWidth\n                    : pxfy(depx(railWidth) + depx(buttonHeight) - depx(railHeight));\n                return {\n                    '--bezier': cubicBezierEaseInOut,\n                    '--button-border-radius': buttonBorderRadius,\n                    '--button-box-shadow': buttonBoxShadow,\n                    '--button-color': buttonColor,\n                    '--button-width': buttonWidth,\n                    '--button-width-pressed': buttonWidthPressed,\n                    '--button-height': buttonHeight,\n                    '--height': height,\n                    '--offset': offset,\n                    '--opacity-disabled': opacityDisabled,\n                    '--rail-border-radius': railBorderRadius,\n                    '--rail-color': railColor,\n                    '--rail-color-active': railColorActive,\n                    '--rail-height': railHeight,\n                    '--rail-width': railWidth,\n                    '--width': width,\n                    '--box-shadow-focus': boxShadowFocus,\n                    '--loading-color': loadingColor,\n                    '--text-color': textColor\n                };\n            })\n        };\n    },\n    render() {\n        const { mergedClsPrefix, mergedValue, mergedDisabled, checkedValue, $slots } = this;\n        const checked = mergedValue === checkedValue;\n        const { checked: checkedSlot, unchecked: uncheckedSlot } = $slots;\n        return (h(\"div\", { role: \"switch\", \"aria-checked\": checked, class: [\n                `${mergedClsPrefix}-switch`,\n                checked && `${mergedClsPrefix}-switch--active`,\n                mergedDisabled && `${mergedClsPrefix}-switch--disabled`,\n                this.round && `${mergedClsPrefix}-switch--round`,\n                this.pressed && `${mergedClsPrefix}-switch--pressed`\n            ], tabindex: !this.mergedDisabled ? 0 : undefined, style: this.cssVars, onClick: this.handleClick, onFocus: this.handleFocus, onBlur: this.handleBlur, onKeyup: this.handleKeyup, onKeydown: this.handleKeydown },\n            h(\"div\", { class: `${mergedClsPrefix}-switch__rail`, \"aria-hidden\": \"true\" },\n                (checkedSlot || uncheckedSlot) && (h(\"div\", { \"aria-hidden\": true, class: `${mergedClsPrefix}-switch__children-placeholder` },\n                    h(\"div\", { class: `${mergedClsPrefix}-switch__rail-placeholder` },\n                        h(\"div\", { class: `${mergedClsPrefix}-switch__button-placeholder` }), checkedSlot === null || checkedSlot === void 0 ? void 0 :\n                        checkedSlot()),\n                    h(\"div\", { class: `${mergedClsPrefix}-switch__rail-placeholder` },\n                        h(\"div\", { class: `${mergedClsPrefix}-switch__button-placeholder` }), uncheckedSlot === null || uncheckedSlot === void 0 ? void 0 :\n                        uncheckedSlot()))),\n                h(\"div\", { class: `${mergedClsPrefix}-switch__button` },\n                    h(Transition, { name: \"fade-in-scale-up-transition\" }, {\n                        default: () => this.loading ? (h(NBaseLoading, { key: \"loading\", clsPrefix: mergedClsPrefix, strokeWidth: 20 })) : null\n                    }),\n                    checkedSlot && (h(\"div\", { key: \"checked\", class: `${mergedClsPrefix}-switch__checked` }, checkedSlot())),\n                    uncheckedSlot && (h(\"div\", { key: \"unchecked\", class: `${mergedClsPrefix}-switch__unchecked` }, uncheckedSlot()))))));\n    }\n});\n","import {NSpin, NSwitch} from 'naive-ui';\r\nimport {defineComponent, onMounted, PropType, ref, watch} from 'vue';\r\nimport {NUM_OF_LANDMARKS} from '../../utils/detect-pose';\r\nimport {loadImage} from '../../utils/image';\r\n\r\nexport default defineComponent({\r\n    components: {\r\n        NSpin,\r\n        NSwitch,\r\n    },\r\n    props: {\r\n        landmarks: Array as PropType<{ point: [number, number, number], visibility: number }[]>,\r\n        imgUrl: String,\r\n    },\r\n    setup(props) {\r\n        const wrapper = ref<HTMLDivElement>();\r\n        const canvas = ref<HTMLCanvasElement>();\r\n        let ctx2d: CanvasRenderingContext2D;\r\n\r\n        let imageLoading = ref(false);\r\n        let image: HTMLImageElement;\r\n\r\n        const drawLandmarks = ref(true);\r\n\r\n        onMounted(async function () {\r\n            ctx2d = canvas.value!.getContext('2d')!;\r\n            await redraw();\r\n        });\r\n\r\n        watch([\r\n            () => props.landmarks,\r\n            () => props.imgUrl,\r\n            drawLandmarks,\r\n        ], redraw);\r\n\r\n        async function redraw() {\r\n            const rect = wrapper.value!.getBoundingClientRect();\r\n            const width = rect.width;\r\n            const height = rect.height;\r\n            if (canvas.value!.width !== width || canvas.value!.height !== height) {\r\n                canvas.value!.width = width;\r\n                canvas.value!.height = height;\r\n            }\r\n\r\n            ctx2d.clearRect(0, 0, width, height);\r\n\r\n            if (props.imgUrl) {\r\n                if (!image || image.src !== props.imgUrl) {\r\n                    try {\r\n                        imageLoading.value = true;\r\n                        image = await loadImage(props.imgUrl);\r\n                    } finally {\r\n                        imageLoading.value = false;\r\n                    }\r\n                }\r\n                let scale = 1;\r\n                if (image.width > width) {\r\n                    scale = width / image.width;\r\n                }\r\n                if (image.height > height) {\r\n                    scale = Math.min(scale, height / image.height);\r\n                }\r\n                const cx = width / 2;\r\n                const cy = height / 2;\r\n                const drawWidth = image.width * scale;\r\n                const drawHeight = image.height * scale;\r\n                const dx = cx - drawWidth / 2;\r\n                const dy = cy - drawHeight / 2;\r\n                ctx2d.drawImage(image, dx, dy, drawWidth, drawHeight);\r\n\r\n                if (\r\n                    props.landmarks?.length === NUM_OF_LANDMARKS\r\n                    && drawLandmarks.value\r\n                ) {\r\n                    ctx2d.lineWidth = 1.5;\r\n\r\n                    let count = 0;\r\n                    let sum = 0;\r\n\r\n                    function moveTo(index: number) {\r\n                        ctx2d.beginPath();\r\n                        const point = props.landmarks![index].point;\r\n                        const x = point[0] * drawWidth + dx;\r\n                        const y = point[1] * drawHeight + dy;\r\n                        ctx2d.moveTo(x, y);\r\n                        count += 1;\r\n                        sum += props.landmarks![index].visibility;\r\n                    }\r\n\r\n                    function lineTo(index: number) {\r\n                        const point = props.landmarks![index].point;\r\n                        const x = point[0] * drawWidth + dx;\r\n                        const y = point[1] * drawHeight + dy;\r\n                        ctx2d.lineTo(x, y);\r\n                        count += 1;\r\n                        sum += props.landmarks![index].visibility;\r\n                    }\r\n\r\n                    function stroke() {\r\n                        const score = sum / count || 0;\r\n                        const r = Math.floor(255 * score);\r\n                        const g = 0;\r\n                        const b = Math.floor(255 * (1 - score));\r\n                        ctx2d.strokeStyle = `rgb(${r},${g},${b})`;\r\n                        ctx2d.stroke();\r\n                        count = 0;\r\n                        sum = 0;\r\n                    }\r\n\r\n                    // eyes\r\n                    moveTo(8);\r\n                    lineTo(6);\r\n                    lineTo(5);\r\n                    lineTo(4);\r\n                    lineTo(0);\r\n                    lineTo(1);\r\n                    lineTo(2);\r\n                    lineTo(3);\r\n                    lineTo(7);\r\n                    stroke();\r\n\r\n                    // mouth\r\n                    moveTo(10);\r\n                    lineTo(9);\r\n                    stroke();\r\n\r\n                    // trunk\r\n                    moveTo(12);\r\n                    lineTo(24);\r\n                    lineTo(23);\r\n                    lineTo(11);\r\n                    lineTo(12);\r\n                    stroke();\r\n\r\n                    // right arm\r\n                    moveTo(12);\r\n                    lineTo(14);\r\n                    lineTo(16);\r\n                    stroke();\r\n\r\n                    // left arm\r\n                    moveTo(11);\r\n                    lineTo(13);\r\n                    lineTo(15);\r\n                    stroke();\r\n\r\n                    // right leg\r\n                    moveTo(24);\r\n                    lineTo(26);\r\n                    lineTo(28);\r\n                    stroke();\r\n\r\n                    // left leg\r\n                    moveTo(23);\r\n                    lineTo(25);\r\n                    lineTo(27);\r\n                    stroke();\r\n\r\n                    // right hand\r\n                    moveTo(16);\r\n                    lineTo(18);\r\n                    lineTo(20);\r\n                    lineTo(16);\r\n                    lineTo(22);\r\n                    stroke();\r\n\r\n                    // left hand\r\n                    moveTo(15);\r\n                    lineTo(17);\r\n                    lineTo(19);\r\n                    lineTo(15);\r\n                    lineTo(21);\r\n                    stroke();\r\n\r\n                    // right foot\r\n                    moveTo(28);\r\n                    lineTo(32);\r\n                    lineTo(30);\r\n                    lineTo(28);\r\n                    stroke();\r\n\r\n                    // left foot\r\n                    moveTo(27);\r\n                    lineTo(29);\r\n                    lineTo(31);\r\n                    lineTo(27);\r\n                    stroke();\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            wrapper,\r\n            canvas,\r\n            imageLoading,\r\n            drawLandmarks,\r\n        };\r\n    }\r\n});","import {mat4, quat, ReadonlyMat4, ReadonlyQuat, ReadonlyVec3, vec3} from 'gl-matrix';\r\n\r\nconst DEFAULT_UP: ReadonlyVec3 = [0, 1, 0];\r\n\r\nexport default class Transform3D {\r\n\r\n    private _matrix: Float32Array = new Float32Array(16);\r\n    private _position: Float32Array = new Float32Array([0, 0, 0]);\r\n    private _quaternion: Float32Array = quat.fromEuler(new Float32Array(4), 0, 0, 0) as Float32Array;\r\n    private _scale: Float32Array = new Float32Array([1, 1, 1]);\r\n\r\n    private matrixNeedsUpdate: boolean = true;\r\n\r\n    private updateMatrix() {\r\n        mat4.fromRotationTranslationScale(\r\n            this._matrix,\r\n            this._quaternion,\r\n            this._position,\r\n            this._scale\r\n        );\r\n        this.matrixNeedsUpdate = false;\r\n    }\r\n\r\n    get matrix(): ReadonlyMat4 {\r\n        if (this.matrixNeedsUpdate) {\r\n            this.updateMatrix();\r\n        }\r\n        return this._matrix;\r\n    }\r\n\r\n    set matrix(value: ReadonlyMat4) {\r\n        this._matrix.set(value);\r\n        mat4.getTranslation(this._position, this._matrix);\r\n        mat4.getRotation(this._quaternion, this._matrix);\r\n        mat4.getScaling(this._scale, this._matrix);\r\n        this.matrixNeedsUpdate = false;\r\n    }\r\n\r\n    get x(): number {\r\n        return this._position[0];\r\n    }\r\n\r\n    set x(x: number) {\r\n        if (x === this._position[0]) {\r\n            return;\r\n        }\r\n        this._position[0] = x;\r\n        this.matrixNeedsUpdate = true;\r\n    }\r\n\r\n    get y(): number {\r\n        return this._position[1];\r\n    }\r\n\r\n    set y(y: number) {\r\n        if (y === this._position[1]) {\r\n            return;\r\n        }\r\n        this._position[1] = y;\r\n        this.matrixNeedsUpdate = true;\r\n    }\r\n\r\n\r\n    get z(): number {\r\n        return this._position[2];\r\n    }\r\n\r\n    set z(z: number) {\r\n        if (z === this._position[2]) {\r\n            return;\r\n        }\r\n        this._position[2] = z;\r\n        this.matrixNeedsUpdate = true;\r\n    }\r\n\r\n    get position(): ReadonlyVec3 {\r\n        return this._position;\r\n    }\r\n\r\n    set position(value: ReadonlyVec3) {\r\n        if (vec3.exactEquals(value, this._position)) {\r\n            return;\r\n        }\r\n        this._position.set(value);\r\n        this.matrixNeedsUpdate = true;\r\n    }\r\n\r\n    get scaleX(): number {\r\n        return this._scale[0];\r\n    }\r\n\r\n    set scaleX(x: number) {\r\n        if (x === this._scale[0]) {\r\n            return;\r\n        }\r\n        this._scale[0] = x;\r\n        this.matrixNeedsUpdate = true;\r\n    }\r\n\r\n    get scaleY(): number {\r\n        return this._scale[1];\r\n    }\r\n\r\n    set scaleY(y: number) {\r\n        if (y === this._scale[1]) {\r\n            return;\r\n        }\r\n        this._scale[1] = y;\r\n        this.matrixNeedsUpdate = true;\r\n    }\r\n\r\n    get scaleZ(): number {\r\n        return this._scale[2];\r\n    }\r\n\r\n    set scaleZ(z: number) {\r\n        if (z === this._scale[2]) {\r\n            return;\r\n        }\r\n        this._scale[2] = z;\r\n        this.matrixNeedsUpdate = true;\r\n    }\r\n\r\n    get scale(): ReadonlyVec3 {\r\n        return this._scale;\r\n    }\r\n\r\n    set scale(value: ReadonlyVec3) {\r\n        if (vec3.exactEquals(value, this._scale)) {\r\n            return;\r\n        }\r\n        this._scale.set(value);\r\n        this.matrixNeedsUpdate = true;\r\n    }\r\n\r\n    get quaternion(): ReadonlyQuat {\r\n        return this._quaternion;\r\n    }\r\n\r\n    set quaternion(value: ReadonlyQuat) {\r\n        if (quat.exactEquals(value, this._quaternion)) {\r\n            return;\r\n        }\r\n        this._quaternion.set(value);\r\n        this.matrixNeedsUpdate = true;\r\n    }\r\n\r\n    setRotationDegrees(xDegrees: number, yDegrees: number, zDegrees: number) {\r\n        quat.fromEuler(this._quaternion, xDegrees, yDegrees, zDegrees);\r\n        this.matrixNeedsUpdate = true;\r\n    }\r\n\r\n    rotateX(rad: number) {\r\n        quat.rotateX(this._quaternion, this._quaternion, rad);\r\n        this.matrixNeedsUpdate = true;\r\n    }\r\n\r\n    rotateY(rad: number) {\r\n        quat.rotateY(this._quaternion, this._quaternion, rad);\r\n        this.matrixNeedsUpdate = true;\r\n    }\r\n\r\n    rotateZ(rad: number) {\r\n        quat.rotateZ(this._quaternion, this._quaternion, rad);\r\n        this.matrixNeedsUpdate = true;\r\n    }\r\n\r\n    lookAt(eye: ReadonlyVec3, center: ReadonlyVec3, up: ReadonlyVec3 = DEFAULT_UP) {\r\n        mat4.lookAt(this._matrix, eye, center, up);\r\n        mat4.getTranslation(this._position, this._matrix);\r\n        mat4.getRotation(this._quaternion, this._matrix);\r\n        mat4.getScaling(this._scale, this._matrix);\r\n        this.matrixNeedsUpdate = true;\r\n    }\r\n\r\n    targetTo(eye: ReadonlyVec3, target: ReadonlyVec3, up: ReadonlyVec3 = DEFAULT_UP) {\r\n        mat4.targetTo(this._matrix, eye, target, up);\r\n        mat4.getTranslation(this._position, this._matrix);\r\n        mat4.getRotation(this._quaternion, this._matrix);\r\n        mat4.getScaling(this._scale, this._matrix);\r\n        this.matrixNeedsUpdate = true;\r\n    }\r\n\r\n}\r\n","import Geometry from '../../utils/render/Geometry';\r\nimport Renderer from '../../utils/render/Renderer';\r\nimport Transform3D from '../../utils/render/Transform3D';\r\n\r\nfunction lines(...indices: number[]) {\r\n    const ret: number[] = [];\r\n    for (let i = 0, len = indices.length; i < len - 1; ++i) {\r\n        ret.push(indices[i]);\r\n        ret.push(indices[i + 1]);\r\n    }\r\n    return ret;\r\n}\r\n\r\nexport default class LandmarksGeometry extends Transform3D {\r\n\r\n    private geometry = new Geometry(Geometry.TYPE_LINES);\r\n\r\n    setLandmarks(renderer: Renderer, landmarks: { point: [number, number, number], visibility: number }[]) {\r\n        this.dispose(renderer);\r\n        const geometry = this.geometry;\r\n        const vertices: { 'a_position': number[], 'a_color': number[] }[] = [];\r\n        for (let landmark of landmarks) {\r\n            vertices.push({\r\n                'a_position': [landmark.point[0], landmark.point[1], landmark.point[2]],\r\n                'a_color': [landmark.visibility, 0, 1 - landmark.visibility, 1]\r\n            });\r\n        }\r\n        const indices: number[] = [\r\n            // eyes\r\n            ...lines(8, 6, 5, 4, 0, 1, 2, 3, 7),\r\n            // mouth\r\n            ...lines(10, 9),\r\n            // trunk\r\n            ...lines(12, 24, 23, 11, 12),\r\n            // right arm\r\n            ...lines(12, 14, 16),\r\n            // left arm\r\n            ...lines(11, 13, 15),\r\n            // right leg\r\n            ...lines(24, 26, 28),\r\n            // left leg\r\n            ...lines(23, 25, 27),\r\n            // right hand\r\n            ...lines(16, 18, 20, 16, 22),\r\n            // left hand\r\n            ...lines(15, 17, 19, 15, 21),\r\n            // right foot\r\n            ...lines(28, 32, 30, 28),\r\n            // left foot\r\n            ...lines(27, 29, 31, 27),\r\n        ];\r\n        geometry.setVertices(vertices);\r\n        geometry.indices = indices;\r\n    }\r\n\r\n    dispose(renderer: Renderer) {\r\n        renderer.disposeGeometry(this.geometry);\r\n    }\r\n\r\n    render(renderer: Renderer) {\r\n        renderer.uniform('u_mMatrix', this.matrix);\r\n        renderer.drawGeometry(this.geometry);\r\n    }\r\n\r\n}","import {vec3} from 'gl-matrix';\r\nimport {defineComponent, onBeforeUnmount, onMounted, PropType, ref, watch} from 'vue';\r\nimport DraggableCamera from '../../utils/DraggableCamera';\r\nimport Input from '../../utils/input/Input';\r\nimport Renderer from '../../utils/render/Renderer';\r\nimport Shader from '../../utils/render/Shader';\r\nimport LandmarksGeometry from './LandmarksGeometry';\r\nimport lineFrag from './shaders/line.frag';\r\nimport lineVert from './shaders/line.vert';\r\n\r\nexport default defineComponent({\r\n    props: {\r\n        landmarks: Array as PropType<{ point: [number, number, number], visibility: number }[]>\r\n    },\r\n    setup(props) {\r\n        const container = ref<HTMLDivElement>();\r\n        const canvas = ref<HTMLCanvasElement>();\r\n\r\n        let renderer: Renderer;\r\n        let lineShader: Shader;\r\n        const camera = new DraggableCamera();\r\n        const input = new Input();\r\n        input.callback = function (input) {\r\n            camera.onInput(input);\r\n            redraw();\r\n        };\r\n        const poseGeometry = new LandmarksGeometry();\r\n\r\n        onMounted(function () {\r\n            input.setup(canvas.value!);\r\n            renderer = new Renderer(canvas.value!);\r\n            lineShader = renderer.createShader(lineVert, lineFrag);\r\n            redraw();\r\n        });\r\n\r\n        onBeforeUnmount(function () {\r\n            input.unload(canvas.value!);\r\n            renderer.deleteShader(lineShader);\r\n            poseGeometry.dispose(renderer);\r\n        });\r\n\r\n        watch(() => props.landmarks, function () {\r\n            camera.zoom = 1;\r\n            camera.rotateX = 0;\r\n            camera.rotateY = 0;\r\n            vec3.set(camera.target, 0, 0, 0);\r\n            camera.update();\r\n            redraw();\r\n        });\r\n\r\n        function redraw() {\r\n            const rect = container.value!.getBoundingClientRect();\r\n            const width = rect.width;\r\n            const height = rect.height;\r\n            renderer.resizeCanvas(width, height);\r\n            camera.fitViewport(width, height);\r\n            renderer.clearColor(0xf2 / 0xff, 0xf2 / 0xff, 0xf2 / 0xff, 1.0);\r\n            renderer.clear(true, true, false);\r\n            renderer.blendMode(renderer.BLEND_MODE_PIGMENT);\r\n            if (props.landmarks?.length) {\r\n                renderer.depthTest(false);\r\n                renderer.useShader(lineShader);\r\n                renderer.uniform('u_color', [1, 1, 1, 1]);\r\n                renderer.uniform('u_pvMatrix', camera.pvMatrix);\r\n                poseGeometry.setLandmarks(renderer, props.landmarks);\r\n                poseGeometry.render(renderer);\r\n            }\r\n        }\r\n\r\n        return {\r\n            container,\r\n            canvas,\r\n        };\r\n    }\r\n});","export type UnsplashPhotoBasic = {\r\n    id: string;\r\n    width: number;\r\n    height: number;\r\n    urls: {\r\n        full: string;\r\n        raw: string;\r\n        regular: string;\r\n        small: string;\r\n        thumb: string;\r\n    }\r\n};\r\n\r\nexport type UnsplashSearchPhotosResult = {\r\n    total: number;\r\n    pages: number;\r\n    photos: UnsplashPhotoBasic[];\r\n};\r\n\r\ntype UnsplashSearchPhotosResponse = {\r\n    total: number;\r\n    total_pages: number;\r\n    results: {\r\n        id: string;\r\n        width: number;\r\n        height: number;\r\n        urls: {\r\n            full: string;\r\n            raw: string;\r\n            regular: string;\r\n            small: string;\r\n            thumb: string;\r\n        }\r\n    }[];\r\n};\r\n\r\nexport async function unsplashSearchPhotos(accessKey: string, query: string, page: number, perPage: number): Promise<UnsplashSearchPhotosResult> {\r\n    const params = new URLSearchParams({\r\n        client_id: accessKey,\r\n        query,\r\n        page: page + '',\r\n        per_page: perPage + '',\r\n    });\r\n    const response = await fetch('https://api.unsplash.com/search/photos/?' + params.toString());\r\n    if (!response.ok) {\r\n        throw new Error(response.statusText);\r\n    }\r\n    const json = await response.json() as UnsplashSearchPhotosResponse;\r\n    return {\r\n        total: json.total,\r\n        pages: json.total_pages,\r\n        photos: json.results\r\n    };\r\n}\r\n\r\ntype UnsplashGetPhotoResponse = {\r\n    id: string;\r\n    width: number;\r\n    height: number;\r\n    alt_description: string;\r\n    description: string;\r\n    tags: { type: string, title: string }[];\r\n    links: {\r\n        html: string;\r\n    };\r\n    urls: {\r\n        full: string;\r\n        raw: string;\r\n        regular: string;\r\n        small: string;\r\n        thumb: string;\r\n    };\r\n    user: {\r\n        name: string;\r\n        username: string;\r\n    };\r\n};\r\n\r\nexport type UnsplashPhotoInfo = {\r\n    id: string;\r\n    width: number;\r\n    height: number;\r\n    tags: string[];\r\n    link: string;\r\n    urls: {\r\n        full: string;\r\n        raw: string;\r\n        regular: string;\r\n        small: string;\r\n        thumb: string;\r\n    };\r\n    author: {\r\n        name: string;\r\n        username: string;\r\n    };\r\n};\r\n\r\nexport async function unsplashGetPhoto(accessKey: string, id: string): Promise<UnsplashPhotoInfo> {\r\n    const params = new URLSearchParams({\r\n        client_id: accessKey,\r\n    });\r\n    const response = await fetch('https://api.unsplash.com/photos/' + id + '?' + params.toString());\r\n    if (!response.ok) {\r\n        throw new Error(response.statusText);\r\n    }\r\n    const json = await response.json() as UnsplashGetPhotoResponse;\r\n    return {\r\n        id: json.id,\r\n        width: json.width,\r\n        height: json.height,\r\n        tags: json.tags.map(tag => tag.title),\r\n        link: json.links.html,\r\n        urls: json.urls,\r\n        author: {\r\n            name: json.user.name,\r\n            username: json.user.username,\r\n        }\r\n    };\r\n}","import {KeyOutlined, LeftOutlined, RightOutlined, SaveFilled, SearchOutlined} from '@vicons/antd';\r\nimport {NButton, NIcon, NInput, NRadio} from 'naive-ui';\r\nimport {defineComponent, onMounted, ref, watch} from 'vue';\r\nimport NormalizedLandmarksCanvas from '../components/NormalizedLandmarksCanvas/NormalizedLandmarksCanvas.vue';\r\nimport SkeletonModelCanvas from '../components/SkeletonModelCanvas/SkeletonModelCanvas.vue';\r\nimport WorldLandmarksCanvas from '../components/WorldLandmarksCanvas/WorldLandmarksCanvas.vue';\r\nimport {detectPose} from '../utils/detect-pose';\r\nimport {loadImage} from '../utils/image';\r\nimport Photo, {getPhotoGenderByTags} from '../utils/Photo';\r\nimport PhotoDataset from '../utils/PhotoDataset';\r\nimport {unsplashGetPhoto, unsplashSearchPhotos, UnsplashSearchPhotosResult} from '../utils/unsplash';\r\n\r\nconst LOCAL_STORAGE_KEY__UNSPLASH_ACCESS_KEY = 'unsplash-access-key';\r\n\r\nexport default defineComponent({\r\n    components: {\r\n        NButton,\r\n        NIcon,\r\n        NInput,\r\n        NRadio,\r\n\r\n        KeyOutlined,\r\n        SearchOutlined,\r\n        LeftOutlined,\r\n        RightOutlined,\r\n        SaveFilled,\r\n\r\n        NormalizedLandmarksCanvas,\r\n        WorldLandmarksCanvas,\r\n        SkeletonModelCanvas,\r\n    },\r\n    setup: function () {\r\n        const dataset = new PhotoDataset();\r\n\r\n        const numOfRecords = ref(0);\r\n        const dbLoading = ref(false);\r\n\r\n        const accessKey = ref(localStorage.getItem(LOCAL_STORAGE_KEY__UNSPLASH_ACCESS_KEY) || '');\r\n        const keywords = ref('');\r\n        const page = ref(1);\r\n        const perPage = ref(20);\r\n        const searchLoading = ref(false);\r\n        const searchResult = ref<UnsplashSearchPhotosResult>();\r\n        const photo = ref(new Photo());\r\n        const recordInserted = ref(false);\r\n        const modelRunning = ref(false);\r\n        const modelHasBeenRun = ref(false);\r\n\r\n        onMounted(async function () {\r\n            try {\r\n                dbLoading.value = true;\r\n                await dataset.load();\r\n                numOfRecords.value = dataset.data.length;\r\n            } finally {\r\n                dbLoading.value = false;\r\n            }\r\n        });\r\n\r\n        watch(accessKey, function (val) {\r\n            localStorage.setItem(LOCAL_STORAGE_KEY__UNSPLASH_ACCESS_KEY, val);\r\n        });\r\n\r\n        async function search() {\r\n            try {\r\n                searchLoading.value = true;\r\n                searchResult.value = await unsplashSearchPhotos(accessKey.value, keywords.value, page.value, perPage.value);\r\n            } finally {\r\n                searchLoading.value = false;\r\n            }\r\n        }\r\n\r\n        async function onSearch() {\r\n            page.value = 1;\r\n            await search();\r\n        }\r\n\r\n        async function prevPage() {\r\n            page.value = Math.max(page.value - 1, 1);\r\n            await search();\r\n        }\r\n\r\n        async function nextPage() {\r\n            page.value = Math.min(page.value + 1, searchResult.value?.pages || 1);\r\n            await search();\r\n        }\r\n\r\n        async function jumpToPage() {\r\n            const pageNum = Number(prompt('Jump to page', page.value + ''));\r\n            if (!pageNum) {\r\n                return;\r\n            }\r\n            page.value = Math.max(Math.min(Number(pageNum), searchResult.value?.pages || 1), 1) || page.value;\r\n            await search();\r\n        }\r\n\r\n        async function selectPhoto(id: string) {\r\n            const record = dataset.findById(id);\r\n            if (record) {\r\n                recordInserted.value = true;\r\n                photo.value = record;\r\n            } else {\r\n                recordInserted.value = false;\r\n                modelHasBeenRun.value = false;\r\n                const details = await unsplashGetPhoto(accessKey.value, id);\r\n                photo.value = new Photo();\r\n                photo.value.id = details.id;\r\n                photo.value.width = details.width;\r\n                photo.value.height = details.height;\r\n                photo.value.full = details.urls.full;\r\n                photo.value.regular = details.urls.regular;\r\n                photo.value.authorName = details.author.name;\r\n                photo.value.authorUsername = details.author.username;\r\n                photo.value.gender = getPhotoGenderByTags(details.tags);\r\n            }\r\n        }\r\n\r\n        async function runModel() {\r\n            try {\r\n                modelRunning.value = true;\r\n                const pose = await detectPose(await loadImage(photo.value.regular));\r\n                photo.value.normalizedLandmarks = pose.normalizedLandmarks;\r\n                photo.value.worldLandmarks = pose.worldLandmarks;\r\n            } finally {\r\n                modelHasBeenRun.value = true;\r\n                modelRunning.value = false;\r\n            }\r\n        }\r\n\r\n        function addRecord() {\r\n            try {\r\n                dbLoading.value = true;\r\n                dataset.add(photo.value);\r\n                recordInserted.value = true;\r\n                numOfRecords.value += 1;\r\n            } finally {\r\n                dbLoading.value = false;\r\n            }\r\n        }\r\n\r\n        async function saveDataJson() {\r\n            try {\r\n                dbLoading.value = true;\r\n                await dataset.writeToFile();\r\n            } finally {\r\n                dbLoading.value = false;\r\n            }\r\n        }\r\n\r\n        function onPhotoGenderChange(e: InputEvent) {\r\n            photo.value.gender = Number((e.target as HTMLInputElement).value);\r\n        }\r\n\r\n        return {\r\n            numOfRecords,\r\n            dbLoading,\r\n\r\n            accessKey,\r\n            keywords,\r\n            page,\r\n            perPage,\r\n            searchLoading,\r\n            searchResult,\r\n            photo,\r\n            recordInserted,\r\n            modelRunning,\r\n            modelHasBeenRun,\r\n\r\n            onSearch,\r\n            prevPage,\r\n            nextPage,\r\n            jumpToPage,\r\n            selectPhoto,\r\n\r\n            runModel,\r\n            addRecord,\r\n            saveDataJson,\r\n            onPhotoGenderChange,\r\n        };\r\n    }\r\n});"],"names":["_hoisted_1","_hoisted_2","_createVNode","_openBlock","_createBlock","self","style","inputLight","useLocale","getPadding","switchLight","quat.fromEuler","vec3.exactEquals","quat.exactEquals"],"mappings":"k+BACA,KAAMA,IAAa,CACjB,MAAO,6BACP,cAAe,+BACf,QAAS,iBAELC,GAA2BC,EAC/B,OACA,CACE,EAAG,soBACH,KAAM,gBAER,KACA,IAGF,OAAe,EAAgB,CAC7B,KAAM,cACN,OAAQ,SAAgB,EAAM,EAAQ,CACpC,MAAOC,KAAcC,GAAa,MAAOJ,GAAY,CAACC,QClB1D,KAAMD,IAAa,CACjB,MAAO,6BACP,cAAe,+BACf,QAAS,iBAELC,GAA2BC,EAC/B,OACA,CACE,EAAG,0LACH,KAAM,gBAER,KACA,IAGF,OAAe,EAAgB,CAC7B,KAAM,eACN,OAAQ,SAAgB,EAAM,EAAQ,CACpC,MAAOC,KAAcC,GAAa,MAAOJ,GAAY,CAACC,QClB1D,KAAMD,IAAa,CACjB,MAAO,6BACP,cAAe,+BACf,QAAS,iBAELC,GAA2BC,EAC/B,OACA,CACE,EAAG,8LACH,KAAM,gBAER,KACA,IAGF,OAAe,EAAgB,CAC7B,KAAM,gBACN,OAAQ,SAAgB,EAAM,EAAQ,CACpC,MAAOC,KAAcC,GAAa,MAAOJ,GAAY,CAACC,QClB1D,KAAMD,IAAa,CACjB,MAAO,6BACP,cAAe,+BACf,QAAS,iBAELC,GAA2BC,EAC/B,OACA,CACE,EAAG,wVACH,KAAM,gBAER,KACA,IAGF,OAAe,EAAgB,CAC7B,KAAM,aACN,OAAQ,SAAgB,EAAM,EAAQ,CACpC,MAAOC,KAAcC,GAAa,MAAOJ,GAAY,CAACC,QClB1D,KAAMD,IAAa,CACjB,MAAO,6BACP,cAAe,+BACf,QAAS,iBAELC,GAA2BC,EAC/B,OACA,CACE,EAAG,wgBACH,KAAM,gBAER,KACA,IAGF,OAAe,EAAgB,CAC7B,KAAM,iBACN,OAAQ,SAAgB,EAAM,EAAQ,CACpC,MAAOC,KAAcC,GAAa,MAAOJ,GAAY,CAACC,WClB3C,EAAgB,CAC3B,KAAM,MACN,QAAS,CACL,MAAQ,GAAE,MAAO,CAAE,MAAO,6BAA8B,QAAS,eAC7D,EAAE,OAAQ,CAAE,EAAG,0MAA2M,KAAM,OAAQ,OAAQ,eAAgB,iBAAkB,QAAS,kBAAmB,QAAS,eAAgB,OACvU,EAAE,SAAU,CAAE,GAAI,MAAO,GAAI,MAAO,EAAG,KAAM,KAAM,OAAQ,OAAQ,eAAgB,oBAAqB,KAAM,eAAgB,cCL3H,EAAgB,CAC3B,KAAM,SACN,QAAS,CACL,MAAQ,GAAE,MAAO,CAAE,MAAO,6BAA8B,QAAS,eAC7D,EAAE,OAAQ,CAAE,EAAG,sGAAuG,KAAM,iBAC5H,EAAE,OAAQ,CAAE,EAAG,oZAAqZ,KAAM,iBAC1a,EAAE,OAAQ,CAAE,EAAG,2ZAA4Z,KAAM,iBACjb,EAAE,OAAQ,CAAE,EAAG,4GAA6G,KAAM,iBAClI,EAAE,OAAQ,CAAE,EAAG,wEAAyE,KAAM,wBCT3F,CACX,YAAa,QACb,aAAc,SACd,cAAe,SACf,aAAc,SACd,UAAW,QCFf,KAAMI,IAAO,AAAC,GAAS,CACnB,KAAM,CAAE,aAAY,aAAY,oBAAmB,eAAc,oBAAmB,aAAY,qBAAoB,cAAa,eAAc,oBAAmB,aAAY,kBAAiB,eAAc,aAAY,eAAc,gBAAe,iBAAgB,gBAAe,aAAY,cAAa,eAAc,cAAa,cAAa,aAAY,kBAAiB,oBAAmB,mBAAkB,2BAA0B,aAAW,oBAAmB,kBAAgB,qBAAqB,EACrf,MAAO,QAAO,OAAO,OAAO,OAAO,GAAI,IAAkB,CAAE,eAAgB,EAAY,aACnF,cACA,eACA,cACA,eACA,gBACA,iBACA,gBACA,aAAY,mBAAoB,EAAY,eAAc,SAAU,OAAQ,gBAAiB,EAAa,oBAAqB,EAAY,UAAW,EAAY,oBAAmB,oBAAqB,EAAY,WAAY,EAAc,mBAChP,2BAA0B,MAAO,EAAY,cAAe,EAAoB,WAAY,EAAY,iBAAkB,aAAa,IAAe,OAAQ,aAAa,IAAe,YAAa,aAAa,IAAqB,eAAgB,aAAa,IAAe,YAAa,aAAa,IAAqB,eAAgB,aAAa,GAAY,EAAc,CAAE,MAAO,OAAU,aAAc,EAE5Z,oBAAqB,EAAc,cAAe,aAAa,IAAgB,mBAAoB,aAAa,IAAqB,kBAAmB,EAAY,mBAAoB,aAAa,IAAqB,sBAAuB,aAAa,GAAY,EAAc,CACpR,MAAO,OACL,kBAAmB,EAEzB,kBAAmB,EAAY,YAAa,aAAa,IAAc,iBAAkB,aAAa,IAAmB,gBAAiB,EAAY,iBAAkB,aAAa,IAAmB,oBAAqB,aAAa,GAAY,EAAY,CAC9P,MAAO,OACL,gBAAiB,EAAY,aACnC,kBACA,oBACA,aACA,oBACA,kBACA,oBAAkB,gBAAiB,KAErC,GAAa,CACf,KAAM,QACN,OAAQ,QACRA,IAEJ,OAAe,GCnCR,KAAM,IAAoB,OAAO,SCAjC,YAAa,EAAG,CACnB,GAAI,GAAQ,EAEZ,SAAW,KAAK,GACZ,IAEJ,MAAO,GAEJ,YAAsB,EAAO,CAChC,MAAO,CAAC,GAAI,OAAW,MAAM,SAAS,GCN1C,OAAe,EAAgB,CAC3B,KAAM,iBACN,MAAM,EAAG,CAAE,SAAS,CAChB,KAAM,CAAE,iBAAgB,eAAc,sBAEtC,GAAO,IACD,EAAe,EAAS,IAAM,CAChC,KAAM,CAAE,MAAO,GAAgB,EAC/B,MAAI,KAAgB,MAAQ,MAAM,QAAQ,GAC/B,EACJ,GAAI,KAEf,MAAO,IAAM,CACT,KAAM,CAAE,MAAO,GAAc,EACvB,CAAE,MAAO,GAAgB,EAC/B,MAAQ,GAAE,OAAQ,CAAE,MAAO,GAAG,EAAmB,0BAA4B,EAAM,QAC7E,EAAM,QAAQ,CACZ,MAAO,IAAgB,MAAQ,MAAM,QAAQ,GACvC,GACA,IAER,IAAc,OACV,EAAa,MACb,GAAG,EAAa,WAAW,YCSlC,EAAE,CAAC,EAAG,QAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAc1B,CACJ,EAAG,kBAAmB;AAAA;AAAA;AAAA;AAAA,IAIjB,EAAG,+EAAgF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAanF,EAAG,wBAAyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAO7B,CAAC,EAAE,iBAAkB,CACvB,MAAO,YACH,EAAG,QAAS,CAAC,GAAM,WAAY,CACnC,aAAc,8BACV,EAAG,cAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GASpB,CAAC,EAAE,OAAQ,CACb,MAAO,OACP,QAAS,mBACL,GAAM,WAAY,CACtB,MAAO,SACL,EAAG,WAAY,CAAC,EAAG,wBAAyB;AAAA;AAAA;AAAA;AAAA;AAAA,MAMhD,EAAG,gBAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOf,EAAG,eAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQnB,EAAG,WAAY;AAAA;AAAA;AAAA;AAAA,GAIhB,CAAC,EAAE,IAAK,CAAC,EAAG,cAAe;AAAA;AAAA;AAAA,QAGtB,GAAM,WAAY,CAAC,EAAG,cAAe,CAC5C,WAAY,aACR,EAAG,MAAO;AAAA;AAAA,IAGhB,EAAG,WAAY,CACb,MAAO,QACN,CAAC,EAAG,mBAAoB;AAAA;AAAA;AAAA;AAAA,IAItB,EAAG,YAAa,CAAC,EAAG,gBAAiB;AAAA;AAAA;AAAA;AAAA,MAInC,EAAG,4CAA6C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAalD,EAAG,kBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAQ3B,EAAG,OAAQ,CAAC,EAAG,wBAAyB,CACtC,UAAW,WACT,EAAG,YAAa;AAAA;AAAA;AAAA;AAAA;AAAA,GAKhB,CAAC,EAAG,OAAQ;AAAA;AAAA,IAEX,EAAG,YAAa;AAAA;AAAA,QAEZ,EAAG,WAAY,CACtB,OAAQ,cACR,gBAAiB,yBAChB,CAAC,EAAG,SAAU,CACf,OAAQ,2BACN,EAAG,wBAAyB,CAC9B,OAAQ,cACR,MAAO,6BACP,oBAAqB,+BACnB,EAAG,cAAe,CACpB,MAAO,sCACL,EAAG,YAAa,CAClB,MAAO,8BACN,CAAC,EAAG,OAAQ;AAAA;AAAA,IAEV,EAAG,YAAa;AAAA;AAAA,MAEd,EAAG,iBAAkB,CAC1B,MAAO,8BACN,CAAC,EAAG,OAAQ;AAAA;AAAA,IAEV,EAAG,gBAAiB;AAAA;AAAA,QAEhB,GAAM,WAAY,CAAC,EAAG,MAAO;AAAA;AAAA;AAAA,GAGlC,CAAC,EAAE,UAAW;AAAA;AAAA,IAEb,EAAE,WAAY;AAAA;AAAA,MAEZ,EAAG,QAAS,CACjB,gBAAiB,sBAChB,CAAC,EAAG,eAAgB,CACrB,OAAQ,sBACR,UAAW,8BACP,EAAE,UAAW,CAAC,EAAG,eAAgB,CACrC,OAAQ,4BACF,EAAG,uBAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAa9B,EAAG,eAAgB;AAAA;AAAA;AAAA,IAGnB,EAAG,SAAU,CAChB,YAAa,QACX,EAAG,SAAU;AAAA;AAAA,IAEZ,EAAG,iBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAUtB,CAAC,EAAG,eAAgB;AAAA;AAAA;AAAA;AAAA,IAInB,EAAG,aAAc;AAAA;AAAA;AAAA,GAGlB,CAAC,EAAG,cAAe,CAAC,EAAG,YAAa;AAAA;AAAA;AAAA;AAAA,QAI/B,EAAG,OAAQ;AAAA;AAAA;AAAA;AAAA,IAIf,EAAG,YAAa;AAAA;AAAA,MAEd,EAAG,mBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAQvB,CAAC,UAAW,SAAS,IAAI,GAAU,GAAe,EAAQ,EAAG,QAAS,CAAC,GAAM,WAAY,CAAC,EAAG,eAAgB;AAAA,8BACtF;AAAA,IACzB,EAAG,wBAAyB,CAC/B,WAAY,qBAAqB,OAC/B,EAAG,eAAgB,CACrB,OAAQ,gBAAgB,OACtB,EAAE,UAAW,CAAC,EAAG,eAAgB;AAAA,8BACP;AAAA,MACvB,EAAE,UAAW,CAClB,gBAAiB,qBAAqB,MACrC,CAAC,EAAG,eAAgB;AAAA,sCACe;AAAA,8BACR;AAAA,MACvB,EAAG,QAAS,CACjB,gBAAiB,qBAAqB,MACrC,CAAC,EAAG,eAAgB;AAAA,sCACe;AAAA,8BACR;AAAA,cCtQ9B,KAAM,IAAa,OAAO,OAAO,OAAO,OAAO,GAAI,GAAS,OAAQ,CAAE,SAAU,CACxE,KAAM,QACN,QAAS,QACV,KAAM,CACL,KAAM,OACN,QAAS,QACV,YAAa,CAAC,MAAO,QAAS,aAAc,CAC3C,KAAM,CAAC,OAAQ,OACf,QAAS,MACV,MAAO,CAAC,OAAQ,OAAQ,SAAU,CACjC,KAAM,QACN,QAAS,QACV,KAAM,OAAQ,KAAM,CACnB,KAAM,CAAC,OAAQ,QACf,QAAS,GACV,MAAO,QAAS,UAAW,CAAC,OAAQ,QAAS,UAAW,CAAC,OAAQ,QAAS,UAAW,QAAS,SAAU,CACvG,KAAM,CAAC,QAAS,QAChB,QAAS,IACV,KAAM,QAAS,UAAW,OAAQ,SAAU,CAC3C,KAAM,CAAC,OAAQ,SACf,QAAS,IACV,mBAAoB,QAAS,eAAgB,OAAQ,SAAU,CAC9D,KAAM,QACN,QAAS,IACV,UAAW,QAAS,WAAY,OAAQ,UAAW,CAClD,KAAM,QACN,QAAS,IACV,UAAW,QAAS,QAAS,CAC5B,KAAM,QACN,QAAS,QACV,YAAa,SAAU,UAAW,SAAU,QAAS,SAAU,QAAS,CAAC,SAAU,OAAQ,QAAS,CAAC,SAAU,OAAQ,OAAQ,CAAC,SAAU,OAAQ,QAAS,CAAC,SAAU,OAAQ,SAAU,CAAC,SAAU,OAAQ,QAAS,CAAC,SAAU,OAAQ,iBAAkB,CAAC,SAAU,OAAQ,cAAe,CAAC,SAAU,OAEzS,eAAgB,CAAC,OAAQ,OAAQ,SAAU,CACvC,KAAM,OACN,QAAS,IACV,YAAa,CAAC,SAAU,OAAQ,aAAc,CAAC,SAAU,OAAQ,aAAc,CAAC,SAAU,OAAQ,WAAY,CAAC,SAAU,OAAQ,eAAgB,CAAC,SAAU,OAAQ,cAAe,CAAC,SAAU,OAAQ,0BAA2B,QAAS,mBAAoB,QAEjQ,mBAAoB,UACxB,OAAe,EAAgB,CAC3B,KAAM,QACN,MAAO,GACP,MAAM,EAAO,CAQT,KAAM,CAAE,qBAAoB,qBAAsB,GAAU,GACtD,EAAW,GAAS,QAAS,QAASC,GAAOC,GAAY,EAAO,GAEhE,EAAe,EAAI,MACnB,EAAgB,EAAI,MACpB,EAAsB,EAAI,MAC1B,EAAmB,EAAI,MACvB,EAAa,EAAI,MACjB,EAAc,EAAI,MAElB,CAAE,aAAcC,GAAU,SAE1B,EAAuB,EAAI,EAAM,cACjC,EAAqB,GAAM,EAAO,SAClC,EAAiB,GAAe,EAAoB,GAEpD,EAAW,GAAY,GACvB,CAAE,gBAAe,qBAAsB,EAEvC,EAAa,EAAI,IACjB,EAAW,EAAI,IACf,EAAiB,EAAI,IACrB,EAAe,EAAI,IACzB,GAAI,GAAa,KAEjB,KAAM,GAAuB,EAAS,IAAM,CACxC,KAAM,CAAE,cAAa,QAAS,EAC9B,MAAI,GACI,MAAM,QAAQ,GACP,EAEF,IAAgB,OACd,CAAC,GAAI,IAET,CAAC,EAAa,GAEhB,IAAgB,OACd,CAAC,EAAU,MAAM,aAGjB,CAAC,KAGV,EAAsB,EAAS,IAAM,CACvC,KAAM,CAAE,MAAO,GAAgB,EACzB,CAAE,MAAO,GAAgB,EACzB,CAAE,MAAO,GAAsB,EACrC,MAAQ,CAAC,GACJ,IAAa,IACT,MAAM,QAAQ,IAAgB,GAAa,EAAY,MAC5D,EAAkB,KAEpB,EAAsB,EAAS,IAAM,CACvC,KAAM,CAAE,MAAO,GAAgB,EACzB,CAAE,MAAO,GAAgB,EACzB,CAAE,MAAO,GAAsB,EACrC,MAAQ,CAAC,GACL,EAAkB,IACjB,IAAa,IACT,MAAM,QAAQ,IAAgB,GAAa,EAAY,OAG9D,EAAiB,GAAQ,IACpB,EAAM,oBAAsB,EAAW,OAG5C,EAAkB,GAAQ,IAAM,CAClC,GAAI,EAAkB,OAClB,EAAM,UACN,CAAC,EAAM,WACN,CAAC,EAAe,OAAS,CAAC,EAAS,MACpC,MAAO,GAEX,KAAM,CAAE,MAAO,GAAgB,EACzB,CAAE,MAAO,GAAgB,EAC/B,MAAI,GAAM,KACE,CAAC,CAAE,OAAM,QAAQ,IACpB,GAAY,IAAM,EAAY,MAC9B,GAAS,OAAS,GAGhB,CAAC,CAAC,GAAgB,GAAS,OAAS,KAI7C,EAA0B,EAAS,IAAM,CAC3C,KAAM,CAAE,kBAAmB,EAC3B,GAAI,EACA,MAAO,GAEX,GAAI,EAAM,mBACN,MAAO,UAGT,EAAqB,EAAI,IAEzB,GAAyB,EAAS,IAAM,CAC1C,KAAM,CAAE,kBAAmB,EAC3B,MAAK,GAED,MAAM,QAAQ,GACP,EAAe,IAAI,AAAC,GAAO,EAC9B,eAAgB,KAGjB,CACH,CACI,mBARG,CAAC,GAAI,MAad,EAAsB,IAAM,CAC9B,GAAI,EAAM,OAAS,WAAY,CAC3B,KAAM,CAAE,YAAa,EAGrB,GAFI,MAAO,IAAa,WAEpB,CAAC,EAAc,MACf,OACJ,KAAM,CAAE,WAAY,EAAiB,cAAe,EAAoB,WAAY,GAAoB,OAAO,iBAAiB,EAAc,OACxI,EAAa,OAAO,EAAgB,MAAM,EAAG,KAC7C,EAAgB,OAAO,EAAmB,MAAM,EAAG,KACnD,GAAa,OAAO,EAAgB,MAAM,EAAG,KAC7C,CAAE,MAAO,GAAqB,EACpC,GAAI,CAAC,EACD,OACJ,GAAI,EAAS,QAAS,CAClB,KAAM,IAAU,KAAK,IAAI,EAAS,QAAS,GACrC,GAAiB,GAAG,EAAa,EAAgB,GAAa,OACpE,EAAiB,MAAM,UAAY,GAEvC,GAAI,EAAS,QAAS,CAClB,KAAM,IAAiB,GAAG,EAAa,EAAgB,GAAa,EAAS,YAC7E,EAAiB,MAAM,UAAY,MAKzC,GAAe,EAAS,IAAM,CAChC,KAAM,CAAE,aAAc,EACtB,MAAO,KAAc,OAAY,OAAY,OAAO,KAExD,GAAU,IAAM,CAEZ,KAAM,CAAE,SAAU,EAClB,AAAK,MAAM,QAAQ,IACf,GAAW,KAKnB,KAAM,IAAK,KAAqB,MAChC,YAAuB,EAAO,CAC1B,KAAM,CAAE,gBAAe,iBAAkB,EAAgB,WAAY,EAC/D,CAAE,qBAAsB,EAC9B,AAAI,GACA,EAAK,EAAe,GACpB,GACA,EAAK,EAAgB,GACrB,GACA,EAAK,EAAS,GAClB,EAAqB,MAAQ,EAC7B,IAEJ,YAAkB,EAAO,CACrB,KAAM,CAAE,YAAa,EACf,CAAE,sBAAuB,EAC/B,AAAI,GACA,EAAK,EAAU,GACnB,EAAqB,MAAQ,EAC7B,IAEJ,YAAgB,EAAG,CACf,KAAM,CAAE,UAAW,EACb,CAAE,oBAAqB,EAC7B,AAAI,GACA,EAAK,EAAQ,GACjB,IAEJ,YAAiB,EAAG,CAChB,KAAM,CAAE,WAAY,EACd,CAAE,qBAAsB,EAC9B,AAAI,GACA,EAAK,EAAS,GAClB,IAEJ,YAAiB,EAAG,CAChB,KAAM,CAAE,WAAY,EACpB,AAAI,GACA,EAAK,EAAS,GAEtB,YAA2B,EAAG,CAC1B,KAAM,CAAE,eAAgB,EACxB,AAAI,GACA,EAAK,EAAa,GAE1B,YAA4B,EAAG,CAC3B,KAAM,CAAE,gBAAiB,EACzB,AAAI,GACA,EAAK,EAAc,GAE3B,aAAwB,CACpB,KAAM,CAAE,gBAAiB,EACzB,AAAI,GACA,EAAK,GAEb,aAAsB,CAClB,KAAM,CAAE,cAAe,EACvB,AAAI,GACA,EAAK,GAEb,YAAiB,EAAG,CAChB,KAAM,CAAE,WAAY,EACpB,AAAI,GACA,EAAK,EAAS,GAEtB,YAAwB,EAAG,CACvB,KAAM,CAAE,kBAAmB,EAC3B,AAAI,GACA,EAAK,EAAgB,GAE7B,YAAuB,EAAG,CACtB,KAAM,CAAE,iBAAkB,EAC1B,AAAI,GACA,EAAK,EAAe,GAG5B,aAAkC,CAC9B,EAAe,MAAQ,GAE3B,YAA8B,EAAG,CAC7B,EAAe,MAAQ,GACvB,AAAI,EAAE,SAAW,EAAY,MACzB,GAAY,EAAG,GAGf,GAAY,EAAG,GAGvB,YAAqB,EAAG,EAAQ,EAAG,EAAQ,QAAS,CAChD,KAAM,GAAc,EAAE,OAAO,MAG7B,GAFA,GAAW,GACX,EAAa,EACT,EAAe,MACf,OACJ,KAAM,GAAe,EACrB,GAAI,CAAC,EAAM,KACP,IAAU,QAAU,GAAc,GAAgB,GAAS,OAE1D,CACD,GAAI,CAAE,SAAU,EAChB,AAAK,MAAM,QAAQ,GAIf,EAAQ,CAAC,GAAG,GAHZ,EAAQ,CAAC,GAAI,IAKjB,EAAM,GAAS,EACf,IAAU,QAAU,GAAc,GAAS,GAAS,GAKxD,GAAG,eAEP,YAAyB,EAAG,CACxB,GAAkB,GACd,EAAE,gBAAkB,EAAa,OACjC,KAEE,EAAE,gBAAkB,MACrB,GAAE,gBAAkB,EAAW,OAC5B,EAAE,gBAAkB,EAAY,OAChC,EAAE,gBAAkB,EAAc,QACtC,GAAa,MAAQ,IAEzB,GAAc,EAAG,QAErB,YAA0B,EAAG,CACzB,GAAmB,GACnB,EAAW,MAAQ,GACnB,EAAa,MAAQ,GACrB,KACA,GAAc,EAAG,SAErB,YAA2B,EAAG,CAC1B,AAAI,EAAM,oBACN,IAAc,GACd,GAAc,EAAG,SAGzB,YAA4B,EAAG,CAC3B,AAAI,EAAM,oBACN,GAAW,MAAQ,GACnB,GAAe,GACf,GAAc,EAAG,UAGzB,YAAuB,EAAG,EAAM,CAC5B,AAAI,EAAE,gBAAkB,MACnB,GAAE,gBAAkB,EAAW,OAC5B,EAAE,gBAAkB,EAAY,OAChC,EAAE,gBAAkB,EAAc,OAClC,EAAE,gBAAkB,EAAa,QAMrC,CAAI,IAAS,QACT,IAAQ,GACR,EAAW,MAAQ,IAEd,IAAS,QACd,IAAO,GACP,EAAW,MAAQ,KAI/B,YAAsB,EAAG,EAAO,CAC5B,GAAY,EAAG,EAAO,UAE1B,YAAqB,EAAG,CACpB,GAAQ,GAEZ,YAAqB,EAAG,CACpB,GAAQ,GACR,AAAI,EAAM,KACN,GAAc,CAAC,GAAI,KAGnB,GAAc,IAGtB,YAAyB,EAAG,CACxB,KAAM,CAAE,eAAgB,EACxB,AAAI,GACA,EAAY,GAChB,KAAM,CAAE,WAAY,EAAE,OACtB,GAAI,IAAY,SAAW,IAAY,WAAY,CAC/C,GAAI,EAAM,UAAW,CACjB,KAAM,CAAE,MAAO,GAAc,EAC7B,GAAI,EAAW,CACX,KAAM,CAAE,OAAM,MAAK,SAAO,UAAW,EAAU,wBACzC,GAAmB,GACzB,GAAI,EAAO,GAAQ,GAAmB,EAAE,SACpC,EAAE,QAAU,EAAO,IACnB,EAAM,EAAS,GAAmB,EAAE,SACpC,EAAE,QAAU,EAAM,EAIlB,QAIZ,EAAE,iBACG,EAAW,OACZ,MAIZ,aAA4B,CACxB,EAAS,MAAQ,GAErB,aAA4B,CACxB,EAAS,MAAQ,GAErB,aAAqC,CACjC,AAAI,EAAkB,OAElB,EAAwB,QAAU,SAEtC,GAAmB,MAAQ,CAAC,EAAmB,OAEnD,YAAuC,EAAG,CACtC,GAAI,EAAkB,MAClB,OACJ,EAAE,iBACF,KAAM,GAAqB,AAAC,GAAM,CAC9B,EAAE,iBACF,GAAI,UAAW,SAAU,IAG7B,GADA,GAAG,UAAW,SAAU,GACpB,EAAwB,QAAU,YAClC,OACJ,EAAmB,MAAQ,GAC3B,KAAM,GAAe,IAAM,CACvB,EAAmB,MAAQ,GAC3B,GAAI,UAAW,SAAU,IAE7B,GAAG,UAAW,SAAU,GAE5B,YAA8B,EAAG,CAC7B,GAAI,GAEJ,OADC,GAAK,EAAM,aAAe,MAAQ,IAAO,QAAkB,EAAG,KAAK,EAAO,GACnE,EAAE,UACD,SACD,KACA,UACC,YACA,cACD,GAA0B,GAC1B,OAGZ,YAAmC,EAAG,CAClC,GAAI,GAAI,EACR,GAAI,EAAM,mBAAoB,CAC1B,KAAM,CAAE,MAAO,GAAY,EAC3B,GAAI,EAAS,CACT,AAAI,EAAM,2BACN,KAEJ,OAEJ,EAAE,iBACF,AAAI,EAAM,OAAS,WACd,GAAK,EAAc,SAAW,MAAQ,IAAO,QAAkB,EAAG,QAGlE,GAAK,EAAW,SAAW,MAAQ,IAAO,QAAkB,EAAG,SAI5E,aAAmC,CAC/B,AAAI,EAAM,oBACN,GAAa,MAAQ,GAChB,GAAS,IAAM,CAChB,GAAI,GACJ,AAAC,GAAK,EAAa,SAAW,MAAQ,IAAO,QAAkB,EAAG,WAI9E,aAAiB,CACb,GAAI,GAAI,EAAI,EACZ,AAAI,EAAkB,OAEtB,CAAI,EAAM,mBACL,GAAK,EAAa,SAAW,MAAQ,IAAO,QAAkB,EAAG,QAGjE,IAAK,EAAc,SAAW,MAAQ,IAAO,QAAkB,EAAG,QAClE,GAAK,EAAW,SAAW,MAAQ,IAAO,QAAkB,EAAG,UAGxE,aAAgB,CACZ,GAAI,GACJ,AAAK,IAAK,EAAa,SAAW,MAAQ,IAAO,OAAS,OAAS,EAAG,SAAS,SAAS,iBAEpF,SAAS,cAAc,OAG/B,aAAoB,CAChB,AAAI,EAAkB,OAEtB,CAAI,EAAc,MACd,EAAc,MAAM,QACf,EAAW,OAChB,EAAW,MAAM,SAEzB,aAAsB,CAClB,KAAM,CAAE,MAAO,GAAc,EAC7B,AAAK,IAAc,KAA+B,OAAS,EAAU,SAAS,SAAS,iBACnF,IAAc,SAAS,eACvB,KAGR,YAAoB,EAAO,CACvB,KAAM,CAAE,OAAM,OAAM,YAAa,EACjC,GAAI,CAAC,GAAQ,EACT,GAAI,IAAS,WAAY,CACrB,KAAM,CAAE,MAAO,GAAqB,EACpC,AAAI,GACA,GAAiB,YAAe,IAAU,KAA2B,EAAQ,IAAM;AAAA,OAGtF,CACD,KAAM,CAAE,MAAO,GAAkB,EACjC,AAAI,GACA,CAAI,EACA,EAAc,YAAc,EAG5B,EAAc,UAAY,WAM9C,aAAsC,CAClC,IAEJ,GAAI,IAAuB,KAC3B,UAAY,IAAM,CACd,KAAM,CAAE,WAAU,QAAS,EAC3B,AAAI,GAAY,IAAS,WACrB,GAAuB,GAAM,EAAgB,AAAC,GAAU,CACpD,AAAI,CAAC,MAAM,QAAQ,IAAU,IAAU,GACnC,GAAW,KAKnB,IAAyB,MAAmD,OAGpF,GAAQ,GAAmB,CACvB,iBACA,gBACA,uBAYG,OAAO,OAAO,OAAO,OAAO,GAVd,CACjB,eACA,aACA,gBACA,cAAe,EACf,SACA,QACA,cACA,cAEkD,CAElD,eACA,aACA,mBACA,cACA,gBACA,sBAEA,kBAAmB,EAAsB,YAAa,EAAgB,gBAAiB,EAAoB,kBAAmB,EAAsB,iBAAkB,EAAqB,iBAAkB,EAAqB,YAAa,EAAgB,YAAa,EAAgB,UAAW,EAAc,kBAAiB,WAAY,EAAe,eAAgB,EAAmB,oBAAqB,GAAwB,gBAAiB,EAAoB,eAAgB,EAAmB,qBAAsB,EAE/gB,0BACA,wBACA,eACA,mBACA,oBACA,qBACA,sBACA,oBACA,oBACA,mBACA,gBACA,eACA,eACA,6BACA,iCACA,wBACA,8BAA4B,YAAa,EAAU,QAAS,EAAS,IAAM,CACvE,KAAM,CAAE,MAAO,GAAS,EAClB,CAAE,OAAQ,CAAE,wBAAwB,KAAM,CAAE,QAAO,eAAc,YAAW,aAAY,mBAAiB,oBAAmB,uBAAqB,UAAQ,kBAAgB,eAAa,eAAa,oBAAkB,4BAA0B,sBAAoB,iBAAe,cAAY,qBAAmB,kBAAgB,YAAU,qBAAmB,yBAAuB,iBAAe,sBAAoB,sBAAoB,mBAAiB,uBAAqB,eAAa,oBAAkB,oBAAkB,aAAW,cAAY,mBAAiB,qBAAmB,aAAW,qBAAmB,mBAAiB,kBAAgB,kBAAgB,oBAAkB,gBAAc,qBAAmB,wBAAsB,EAAU,UAAW,IAAQ,IAAU,EAAU,WAAY,IAAQ,IAAW,EAAU,SAAU,IAAQ,KAAa,EAAS,MACx1B,CAAE,KAAM,GAAa,MAAO,IAAiBC,GAAW,IAC9D,MAAO,CACH,WAAY,EACZ,qBAAsB,GACtB,UAAW,EACX,cAAe,GACf,kBAAmB,EACnB,WAAY,GACZ,iBAAkB,GAClB,kBAAmB,GACnB,eAAgB,EAChB,gBAAiB,EACjB,0BAA2B,GAC3B,WAAY,GACZ,oBAAqB,GACrB,iBAAkB,GAClB,iBAAkB,GAClB,sBAAuB,GACvB,+BAAgC,GAChC,cAAe,GACf,yBAA0B,GAC1B,mBAAoB,GACpB,gBAAiB,GACjB,wBAAyB,GACzB,qBAAsB,GACtB,kBAAmB,GAEnB,wBAAyB,EACzB,wBAAyB,GACzB,6BAA8B,GAC9B,mBAAoB,GACpB,yBAA0B,GAC1B,yBAA0B,GAC1B,0BAA2B,GAE3B,sBAAuB,GACvB,sBAAuB,GACvB,2BAA4B,GAC5B,iBAAkB,GAClB,uBAAwB,GACxB,uBAAwB,GACxB,wBAAyB,GAEzB,gBAAiB,GACjB,eAAgB,GAChB,sBAAuB,GACvB,wBAAyB,GACzB,eAAgB,GAChB,qBAAsB,GACtB,uBAAwB,GACxB,wBAAyB,GACzB,sBAAuB,SAIvC,QAAS,CACL,KAAM,CAAE,mBAAoB,KAC5B,MAAQ,GAAE,MAAO,CAAE,IAAK,eAAgB,MAAO,CACvC,GAAG,UACH,EACK,GAAG,qBAAoC,KAAK,gBAC5C,GAAG,qBAAoC,KAAK,OAAS,YACrD,GAAG,sBAAqC,KAAK,WAAa,CAAC,KAAK,UAChE,GAAG,qBAAoC,KAAK,UAC5C,GAAG,kBAAiC,KAAK,OAAW,KAAK,OAAS,YAClE,GAAG,iBAAgC,KAAK,MACxC,GAAG,kBAAiC,KAAK,aACzC,GAAG,qBAAoC,KAAK,WAElD,MAAO,KAAK,QAAS,SAAU,CAAC,KAAK,gBAAkB,KAAK,oBAAsB,CAAC,KAAK,UACrF,EACA,OAAW,QAAS,KAAK,mBAAoB,OAAQ,KAAK,kBAAmB,QAAS,KAAK,YAAa,YAAa,KAAK,gBAAiB,aAAc,KAAK,iBAAkB,aAAc,KAAK,iBAAkB,mBAAoB,KAAK,uBAAwB,iBAAkB,KAAK,qBAAsB,QAAS,KAAK,QAAS,UAAW,KAAK,sBAChW,EAAE,MAAO,CAAE,MAAO,GAAG,mBACjB,KAAK,OAAO,OAAS,KAAK,OAAO,OAAU,EAAE,MAAO,CAAE,MAAO,GAAG,mBAAmC,GAAW,KAAK,OAAQ,QAAS,OAAW,IACpI,CAAC,GAAW,KAAK,OAAQ,aAC7B,KACP,KAAK,OAAS,WAAc,EAAE,MAAO,CAAE,MAAO,GAAG,qBAC7C,EAAE,WAAY,OAAO,OAAO,GAAI,KAAK,WAAY,CAAE,IAAK,gBAAiB,MAAO,GAAG,uBAAsC,UAAW,KAAK,UAAW,KAAM,OAAO,KAAK,MAAO,YAAa,KAAK,YAAa,MAAO,KAAK,YAAa,SAAU,KAAK,eAAgB,UAAW,KAAK,UAAW,UAAW,KAAK,UAAW,SAAU,KAAK,SAAU,SAAU,KAAK,oBAAsB,CAAC,KAAK,UAAY,GAAK,OAAW,MAAO,KAAK,oBAAoB,GAAI,OAAQ,KAAK,gBAAiB,QAAS,KAAK,iBAAkB,QAAS,KAAK,YAAa,SAAU,KAAK,gBACtiB,KAAK,iBAAoB,EAAE,MAAO,CAAE,MAAO,GAAG,uBAAsC,IAAK,eAAiB,KAAK,kBAAkB,IAAO,KACxI,KAAK,SAAY,EAAE,GAAiB,CAAE,SAAU,KAAK,4BAA8B,CAC/E,QAAS,IAAO,EAAE,MAAO,CAAE,IAAK,sBAAuB,MAAO,GAAG,2BAA0C,IAAK,aAC9G,MAAU,EAAE,MAAO,CAAE,MAAO,GAAG,kBACrC,EAAE,QAAS,OAAO,OAAO,GAAI,KAAK,WAAY,CAAE,IAAK,aAAc,KAAM,KAAK,OAAS,YAC/E,KAAK,sBACL,KAAK,gBACH,OACA,KAAK,KAAM,MAAO,GAAG,oBAAmC,SAAU,KAAK,oBAAsB,CAAC,KAAK,UAAY,GAAK,OAAW,YAAa,KAAK,kBAAkB,GAAI,SAAU,KAAK,eAAgB,UAAW,KAAK,UAAW,UAAW,KAAK,UAAW,MAAO,MAAM,QAAQ,KAAK,aACtR,KAAK,YAAY,GACjB,KAAK,YAAa,SAAU,KAAK,SAAU,UAAW,KAAK,UAAW,KAAM,KAAK,SAAU,MAAO,KAAK,oBAAoB,GAAI,OAAQ,KAAK,gBAAiB,QAAS,KAAK,iBAAkB,QAAS,AAAC,GAAM,KAAK,YAAY,EAAG,GAAI,SAAU,AAAC,GAAM,KAAK,aAAa,EAAG,MACrR,KAAK,iBAAoB,EAAE,MAAO,CAAE,MAAO,GAAG,wBAC1C,EAAE,OAAQ,KAAM,KAAK,kBAAkB,KAAQ,KACnD,KAAK,SAAY,EAAE,MAAO,CAAE,MAAO,GAAG,wBAAuC,IAAK,SAAU,IAAK,oBAAsB,QAAa,MACxI,CAAC,KAAK,MACD,MAAK,OAAO,QACT,KAAK,WACL,KAAK,WACL,KAAK,sBACL,KAAK,UAAY,QAAc,EAAE,MAAO,CAAE,MAAO,GAAG,mBAAmC,CAC3F,KAAK,WAAa,KAAK,OAAO,MAAS,EAAE,GAAY,CAAE,UAAW,EAAiB,KAAM,KAAK,gBAAiB,QAAS,KAAK,aAAe,CAAE,QAAS,IAAM,GAAW,KAAK,OAAQ,WAAe,KACpM,GAAW,KAAK,OAAQ,UACxB,KAAK,UAAY,OAAa,EAAE,GAAa,CAAE,UAAW,EAAiB,QAAS,KAAK,QAAS,UAAW,GAAO,UAAW,GAAO,MAAO,KAAK,UAAc,KAChK,KAAK,WAAa,KAAK,OAAS,WAAc,EAAE,GAAW,KAAM,CAAE,QAAS,KAAK,OAAO,QAAY,KACpG,KAAK,sBAAwB,KAAK,OAAS,WAAc,EAAE,GAAW,CAAE,UAAW,EAAiB,MAAO,GAAG,eAA8B,YAAa,KAAK,8BAA+B,QAAS,KAAK,2BAA6B,CACpO,QAAS,IAAM,KAAK,gBAAkB,EAAE,GAAS,MAAQ,EAAE,GAAY,QACrE,OACJ,MACV,KAAK,KAAQ,EAAE,OAAQ,CAAE,MAAO,GAAG,sBAAsC,GAAW,KAAK,OAAQ,YAAa,OAAW,IAAM,CAC3H,KAAK,aACF,KACP,KAAK,KAAQ,EAAE,MAAO,CAAE,MAAO,GAAG,mBAC9B,EAAE,MAAO,CAAE,MAAO,GAAG,kBACjB,EAAE,QAAS,CAAE,IAAK,cAAe,KAAM,KAAK,KAAM,MAAO,GAAG,oBAAmC,SAAU,KAAK,oBAAsB,CAAC,KAAK,UAAY,GAAK,OAAW,YAAa,KAAK,kBAAkB,GAAI,SAAU,KAAK,eAAgB,UAAW,KAAK,UAAW,UAAW,KAAK,UAAW,MAAO,MAAM,QAAQ,KAAK,aACnT,KAAK,YAAY,GACjB,OAAW,SAAU,KAAK,SAAU,MAAO,KAAK,oBAAoB,GAAI,OAAQ,KAAK,gBAAiB,QAAS,KAAK,iBAAkB,QAAS,AAAC,GAAM,KAAK,YAAY,EAAG,GAAI,SAAU,AAAC,GAAM,KAAK,aAAa,EAAG,KAC9N,KAAK,iBAAoB,EAAE,MAAO,CAAE,MAAO,GAAG,wBAC1C,EAAE,OAAQ,KAAM,KAAK,kBAAkB,KAAQ,MACvD,EAAE,MAAO,CAAE,MAAO,GAAG,mBAAmC,CACpD,KAAK,WAAa,KAAK,OAAO,MAAS,EAAE,GAAY,CAAE,UAAW,EAAiB,KAAM,KAAK,gBAAiB,QAAS,KAAK,aAAe,CAAE,QAAS,IAAM,GAAW,KAAK,OAAQ,WAAe,KACpM,GAAW,KAAK,OAAQ,aACrB,KACX,KAAK,eAAkB,EAAE,MAAO,CAAE,MAAO,GAAG,oBAAsC,KAClF,KAAK,eAAkB,EAAE,MAAO,CAAE,MAAO,GAAG,0BAA4C,KACxF,KAAK,WAAa,KAAK,OAAS,WAAc,EAAE,GAAW,KAAM,CAAE,QAAS,KAAK,OAAO,QAAY,YCjuBjG,CACX,kBAAmB,OACnB,mBAAoB,OACpB,kBAAmB,OACnB,iBAAkB,OAClB,kBAAmB,OACnB,iBAAkB,OAClB,wBAAyB,OACzB,yBAA0B,OAC1B,wBAAyB,OACzB,gBAAiB,OACjB,iBAAkB,OAClB,gBAAiB,OACjB,eAAgB,OAChB,gBAAiB,OACjB,eAAgB,QCZpB,KAAM,IAAO,AAAC,GAAS,CACnB,KAAM,CAAE,eAAc,kBAAiB,gBAAiB,EAClD,EAAmB,qBACzB,MAAO,QAAO,OAAO,OAAO,OAAO,GAAI,IAAa,CAAE,UAAW,QAAS,aAAc,EAAc,kBAAiB,UAAW,EAAkB,gBAAiB,EAAc,gBAAiB,sEAAuE,YAAa,OAAQ,sBAAuB,EAAc,uBAAwB,EAAc,sBAAuB,EAAc,wBAAyB,EAAc,yBAA0B,EAAc,wBAAyB,EAAc,eAAgB,aAAa,GAAY,EAAc,CAAE,MAAO,UAEpkB,GAAc,CAChB,KAAM,SACN,OAAQ,GACR,SAEJ,OAAe,MCOA,EAAG,SAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASzB,CAAC,EAAG,uBAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAO1B,EAAG,mBAAoB;AAAA;AAAA;AAAA,IAGvB,EAAG,qBAAsB;AAAA;AAAA;AAAA,IAGzB,EAAG,eAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAQpB,CAAC,GAAwB,CAC3B,kBAAmB,wCACf,EAAG,qBAAsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAW1B,EAAG,UAAW;AAAA;AAAA;AAAA,IAGd,EAAG,YAAa;AAAA;AAAA;AAAA;AAAA,IAIhB,EAAE,UAAW,CAAC,EAAG,OAAQ;AAAA;AAAA,MAEvB,EAAG,QAAS,CAAC,EAAG,OAAQ,CAC7B,aAAc,gCACb,CAAC,EAAG,SAAU,CACf,aAAc,uCACR,GAAM,WAAY,CAAC,EAAG,UAAW,CAAC,EAAG,OAAQ,CAAC,EAAG,SAAU,CACjE,SAAU,oCACJ,EAAG,OAAQ,CAAC,EAAE,WAAY,CAAC,EAAG,SAAU,CAC9C,SAAU,oCACJ,EAAG,SAAU,CAAC,EAAG,UAAW,CAAC,EAAG,OAAQ,CAAC,EAAG,SAAU,CAC5D,KAAM,iEACA,EAAG,OAAQ,CAAC,EAAE,WAAY,CAAC,EAAG,SAAU,CAC9C,KAAM,qEACI,EAAG,SAAU,CAAC,EAAG,OAAQ,CAAC,EAAG,SAAU,CACjD,KAAM,oEACA,EAAG,OAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAWf,CAAC,EAAG,SAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAmBX,EAAG,SAAU,CAAC,EAAG,OAAQ,CAC9B,gBAAiB,+BACb,EAAG,WAAY,CAAC,EAAG,OAAQ;AAAA;AAAA;AAAA,QC9GjC,KAAM,IAAc,OAAO,OAAO,OAAO,OAAO,GAAI,GAAS,OAAQ,CAAE,KAAM,CACrE,KAAM,OACN,QAAS,UACV,MAAO,CACN,KAAM,CAAC,OAAQ,OAAQ,SACvB,QAAS,QACV,QAAS,QAAS,aAAc,CAC/B,KAAM,CAAC,OAAQ,OAAQ,SACvB,QAAS,IACV,SAAU,CACT,KAAM,QACN,QAAS,QACV,MAAO,CACN,KAAM,QACN,QAAS,IACV,iBAAkB,CAAC,SAAU,OAAQ,cAAe,CAAC,SAAU,OAAQ,aAAc,CACpF,KAAM,CAAC,OAAQ,OAAQ,SACvB,QAAS,IACV,eAAgB,CACf,KAAM,CAAC,OAAQ,OAAQ,SACvB,QAAS,IAGb,SAAU,CAAC,SAAU,SACzB,OAAe,EAAgB,CAC3B,KAAM,SACN,MAAO,GACP,MAAM,EAAO,CAQT,KAAM,CAAE,sBAAuB,GAAU,GACnC,EAAW,GAAS,SAAU,SAAU,GAAOC,GAAa,EAAO,GACnE,EAAW,GAAY,GACvB,CAAE,gBAAe,qBAAsB,EACvC,EAAuB,EAAI,EAAM,cACjC,EAAqB,GAAM,EAAO,SAClC,EAAiB,GAAe,EAAoB,GACpD,EAAa,EAAI,IACvB,WAAuB,EAAO,CAC1B,KAAM,CAAE,iBAAkB,EAAgB,WAAU,iBAAkB,EAChE,CAAE,oBAAmB,sBAAuB,EAClD,AAAI,GACA,EAAK,EAAgB,GACrB,GACA,EAAK,EAAe,GACpB,GACA,EAAK,EAAU,GACnB,EAAqB,MAAQ,EAC7B,IACA,IAEJ,YAAmB,CACf,KAAM,CAAE,qBAAsB,EAC9B,IAEJ,YAAkB,CACd,KAAM,CAAE,oBAAqB,EAC7B,IAEJ,YAAuB,CACnB,AAAK,EAAkB,OACnB,CAAI,EAAe,QAAU,EAAM,aAC/B,EAAc,EAAM,cAGpB,EAAc,EAAM,iBAIhC,YAAuB,CACnB,IAEJ,YAAsB,CAClB,IACA,EAAW,MAAQ,GAEvB,WAAqB,EAAG,CACpB,AAAI,EAAE,OAAS,SACX,GAAc,CAAC,EAAe,OAC9B,EAAW,MAAQ,IAG3B,WAAuB,EAAG,CACtB,AAAI,EAAE,OAAS,SACX,GAAE,iBACF,EAAW,MAAQ,IAG3B,MAAO,CACH,cACA,aACA,cACA,cACA,gBACA,QAAS,EACT,gBAAiB,EACjB,YAAa,EACb,eAAgB,EAChB,QAAS,EAAS,IAAM,CACpB,KAAM,CAAE,MAAO,GAAS,EAClB,CAAE,KAAM,CAAE,kBAAiB,YAAW,kBAAiB,kBAAiB,cAAa,iBAAgB,eAAc,aAAY,EAAU,eAAgB,IAAQ,GAAe,EAAU,cAAe,IAAQ,GAAc,EAAU,qBAAsB,IAAQ,IAAqB,EAAU,aAAc,IAAQ,GAAa,EAAU,YAAa,IAAQ,IAAY,EAAU,mBAAoB,IAAQ,IAAmB,EAAU,qBAAsB,IAAQ,IAAsB,OAAQ,CAAE,0BAA2B,EAAS,MACzhB,GAAS,GAAM,GAAK,GAAc,EAAK,IAAiB,GACxD,GAAS,GAAK,KAAK,IAAI,EAAK,GAAa,EAAK,KAC9C,GAAQ,EAAK,GAAc,EAAK,GAChC,GACA,GAAK,EAAK,IAAa,EAAK,GAAgB,EAAK,IACvD,MAAO,CACH,WAAY,GACZ,yBAA0B,GAC1B,sBAAuB,EACvB,iBAAkB,EAClB,iBAAkB,EAClB,yBAA0B,GAC1B,kBAAmB,EACnB,WAAY,GACZ,WAAY,GACZ,qBAAsB,EACtB,uBAAwB,GACxB,eAAgB,EAChB,sBAAuB,EACvB,gBAAiB,EACjB,eAAgB,GAChB,UAAW,GACX,qBAAsB,EACtB,kBAAmB,EACnB,eAAgB,OAKhC,QAAS,CACL,KAAM,CAAE,kBAAiB,cAAa,iBAAgB,eAAc,UAAW,KACzE,EAAU,IAAgB,EAC1B,CAAE,QAAS,EAAa,UAAW,GAAkB,EAC3D,MAAQ,GAAE,MAAO,CAAE,KAAM,SAAU,eAAgB,EAAS,MAAO,CAC3D,GAAG,WACH,GAAW,GAAG,mBACd,GAAkB,GAAG,qBACrB,KAAK,OAAS,GAAG,kBACjB,KAAK,SAAW,GAAG,qBACpB,SAAU,AAAC,KAAK,eAAqB,OAAJ,EAAe,MAAO,KAAK,QAAS,QAAS,KAAK,YAAa,QAAS,KAAK,YAAa,OAAQ,KAAK,WAAY,QAAS,KAAK,YAAa,UAAW,KAAK,eAClM,EAAE,MAAO,CAAE,MAAO,GAAG,iBAAgC,cAAe,QAC/D,IAAe,IAAmB,EAAE,MAAO,CAAE,cAAe,GAAM,MAAO,GAAG,kCACzE,EAAE,MAAO,CAAE,MAAO,GAAG,8BACjB,EAAE,MAAO,CAAE,MAAO,GAAG,iCAAiD,GAAgB,KAAiC,OACvH,KACJ,EAAE,MAAO,CAAE,MAAO,GAAG,8BACjB,EAAE,MAAO,CAAE,MAAO,GAAG,iCAAiD,GAAkB,KAAmC,OAC3H,MACR,EAAE,MAAO,CAAE,MAAO,GAAG,oBACjB,EAAE,GAAY,CAAE,KAAM,+BAAiC,CACnD,QAAS,IAAM,KAAK,QAAW,EAAE,GAAc,CAAE,IAAK,UAAW,UAAW,EAAiB,YAAa,KAAS,OAEvH,GAAgB,EAAE,MAAO,CAAE,IAAK,UAAW,MAAO,GAAG,qBAAqC,KAC1F,GAAkB,EAAE,MAAO,CAAE,IAAK,YAAa,MAAO,GAAG,uBAAuC,cClKrG,EAAgB,CAC3B,WAAY,CACR,SACA,YAEJ,MAAO,CACH,UAAW,MACX,OAAQ,QAEZ,MAAM,EAAO,MACH,GAAU,IACV,EAAS,OACX,GAEA,EAAe,EAAI,IACnB,OAEE,GAAgB,EAAI,OAEhB,gBAAkB,GAChB,EAAO,MAAO,WAAW,WAC3B,UAGJ,CACF,IAAM,EAAM,UACZ,IAAM,EAAM,OACZ,GACD,qBAEqB,YACd,GAAO,EAAQ,MAAO,wBACtB,EAAQ,EAAK,MACb,EAAS,EAAK,UAChB,GAAO,MAAO,QAAU,GAAS,EAAO,MAAO,SAAW,OACnD,MAAO,MAAQ,IACf,MAAO,OAAS,KAGrB,UAAU,EAAG,EAAG,EAAO,GAEzB,EAAM,OAAQ,IACV,CAAC,GAAS,EAAM,MAAQ,EAAM,UAC1B,GACa,MAAQ,KACb,KAAM,IAAU,EAAM,kBAEjB,MAAQ,MAGzB,GAAQ,EACR,EAAM,MAAQ,MACN,EAAQ,EAAM,OAEtB,EAAM,OAAS,MACP,KAAK,IAAI,EAAO,EAAS,EAAM,cAErC,GAAK,EAAQ,EACb,EAAK,EAAS,EACd,EAAY,EAAM,MAAQ,EAC1B,EAAa,EAAM,OAAS,EAC5B,EAAK,EAAK,EAAY,EACtB,EAAK,EAAK,EAAa,OACvB,UAAU,EAAO,EAAI,EAAI,EAAW,GAGtC,MAAM,YAAN,cAAiB,UAAW,IACzB,EAAc,MACnB,IAMW,GAAT,SAAgB,EAAe,GACrB,iBACA,GAAQ,EAAM,UAAW,GAAO,MAChC,EAAI,EAAM,GAAK,EAAY,EAC3B,EAAI,EAAM,GAAK,EAAa,IAC5B,OAAO,EAAG,MACP,KACF,EAAM,UAAW,GAAO,YAG1B,EAAT,SAAgB,EAAe,MACrB,GAAQ,EAAM,UAAW,GAAO,MAChC,EAAI,EAAM,GAAK,EAAY,EAC3B,EAAI,EAAM,GAAK,EAAa,IAC5B,OAAO,EAAG,MACP,KACF,EAAM,UAAW,GAAO,YAG1B,EAAT,UAAkB,MACR,GAAQ,EAAM,GAAS,EACvB,EAAI,KAAK,MAAM,IAAM,GACrB,EAAI,EACJ,EAAI,KAAK,MAAM,OAAW,MAC1B,YAAc,OAAO,KAAK,KAAK,OAC/B,WACE,IACF,KAhCJ,UAAY,OAEd,GAAQ,EACR,EAAM,IAiCH,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,SAIA,MACA,SAIA,MACA,MACA,MACA,MACA,UAIA,MACA,MACA,UAIA,MACA,MACA,UAIA,MACA,MACA,UAIA,MACA,MACA,UAIA,MACA,MACA,MACA,MACA,UAIA,MACA,MACA,MACA,MACA,UAIA,MACA,MACA,MACA,UAIA,MACA,MACA,MACA,gBAMZ,CACH,UACA,SACA,eACA,kdCjMZ,KAAM,IAA2B,CAAC,EAAG,EAAG,WAEP,eAErB,kBAAwB,GAAI,cAAa,KACzC,oBAA0B,GAAI,cAAa,CAAC,EAAG,EAAG,KAClD,sBAA4BC,GAAe,GAAI,cAAa,GAAI,EAAG,EAAG,IACtE,iBAAuB,GAAI,cAAa,CAAC,EAAG,EAAG,KAE/C,4BAA6B,IAE7B,cAAe,IAEf,KAAK,QACL,KAAK,YACL,KAAK,UACL,KAAK,aAEJ,kBAAoB,MAGzB,SAAuB,OACnB,MAAK,wBACA,eAEF,KAAK,WAGZ,QAAO,EAAqB,MACvB,QAAQ,IAAI,MACG,KAAK,UAAW,KAAK,YACxB,KAAK,YAAa,KAAK,YACxB,KAAK,OAAQ,KAAK,cAC7B,kBAAoB,MAGzB,IAAY,OACL,MAAK,UAAU,MAGtB,GAAE,EAAW,CACT,IAAM,KAAK,UAAU,UAGpB,UAAU,GAAK,OACf,kBAAoB,OAGzB,IAAY,OACL,MAAK,UAAU,MAGtB,GAAE,EAAW,CACT,IAAM,KAAK,UAAU,UAGpB,UAAU,GAAK,OACf,kBAAoB,OAIzB,IAAY,OACL,MAAK,UAAU,MAGtB,GAAE,EAAW,CACT,IAAM,KAAK,UAAU,UAGpB,UAAU,GAAK,OACf,kBAAoB,OAGzB,WAAyB,OAClB,MAAK,aAGZ,UAAS,EAAqB,CAC1BC,GAAiB,EAAO,KAAK,kBAG5B,UAAU,IAAI,QACd,kBAAoB,OAGzB,SAAiB,OACV,MAAK,OAAO,MAGnB,QAAO,EAAW,CACd,IAAM,KAAK,OAAO,UAGjB,OAAO,GAAK,OACZ,kBAAoB,OAGzB,SAAiB,OACV,MAAK,OAAO,MAGnB,QAAO,EAAW,CACd,IAAM,KAAK,OAAO,UAGjB,OAAO,GAAK,OACZ,kBAAoB,OAGzB,SAAiB,OACV,MAAK,OAAO,MAGnB,QAAO,EAAW,CACd,IAAM,KAAK,OAAO,UAGjB,OAAO,GAAK,OACZ,kBAAoB,OAGzB,QAAsB,OACf,MAAK,UAGZ,OAAM,EAAqB,CACvBA,GAAiB,EAAO,KAAK,eAG5B,OAAO,IAAI,QACX,kBAAoB,OAGzB,aAA2B,OACpB,MAAK,eAGZ,YAAW,EAAqB,CAC5BC,GAAiB,EAAO,KAAK,oBAG5B,YAAY,IAAI,QAChB,kBAAoB,IAG7B,mBAAmB,EAAkB,EAAkB,EAAkB,IACtD,KAAK,YAAa,EAAU,EAAU,QAChD,kBAAoB,GAG7B,QAAQ,EAAa,IACJ,KAAK,YAAa,KAAK,YAAa,QAC5C,kBAAoB,GAG7B,QAAQ,EAAa,IACJ,KAAK,YAAa,KAAK,YAAa,QAC5C,kBAAoB,GAG7B,QAAQ,EAAa,IACJ,KAAK,YAAa,KAAK,YAAa,QAC5C,kBAAoB,GAG7B,OAAO,EAAmB,EAAsB,EAAmB,GAAY,IAC/D,KAAK,QAAS,EAAK,EAAQ,MACnB,KAAK,UAAW,KAAK,YACxB,KAAK,YAAa,KAAK,YACxB,KAAK,OAAQ,KAAK,cAC7B,kBAAoB,GAG7B,SAAS,EAAmB,EAAsB,EAAmB,GAAY,IAC/D,KAAK,QAAS,EAAK,EAAQ,MACrB,KAAK,UAAW,KAAK,YACxB,KAAK,YAAa,KAAK,YACxB,KAAK,OAAQ,KAAK,cAC7B,kBAAoB,IChLjC,cAAkB,EAAmB,MAC3B,GAAgB,UACb,GAAI,EAAG,EAAM,EAAQ,OAAQ,EAAI,EAAM,EAAG,EAAE,IAC7C,KAAK,EAAQ,MACb,KAAK,EAAQ,EAAI,UAElB,mBAGoC,GAAY,mCAE/C,mBAAW,GAAI,IAAS,GAAS,aAEzC,aAAa,EAAoB,EAAsE,MAC9F,QAAQ,QACP,GAAW,KAAK,SAChB,EAA8D,UAC3D,KAAY,KACR,KAAK,CACV,WAAc,CAAC,EAAS,MAAM,GAAI,EAAS,MAAM,GAAI,EAAS,MAAM,IACpE,QAAW,CAAC,EAAS,WAAY,EAAG,EAAI,EAAS,WAAY,UAG/D,GAAoB,CAEtB,GAAG,EAAM,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAEjC,GAAG,EAAM,GAAI,GAEb,GAAG,EAAM,GAAI,GAAI,GAAI,GAAI,IAEzB,GAAG,EAAM,GAAI,GAAI,IAEjB,GAAG,EAAM,GAAI,GAAI,IAEjB,GAAG,EAAM,GAAI,GAAI,IAEjB,GAAG,EAAM,GAAI,GAAI,IAEjB,GAAG,EAAM,GAAI,GAAI,GAAI,GAAI,IAEzB,GAAG,EAAM,GAAI,GAAI,GAAI,GAAI,IAEzB,GAAG,EAAM,GAAI,GAAI,GAAI,IAErB,GAAG,EAAM,GAAI,GAAI,GAAI,OAEhB,YAAY,KACZ,QAAU,EAGvB,QAAQ,EAAoB,GACf,gBAAgB,KAAK,UAGlC,OAAO,EAAoB,GACd,QAAQ,YAAa,KAAK,UAC1B,aAAa,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;KCnDpB,EAAgB,CAC3B,MAAO,CACH,UAAW,OAEf,MAAM,EAAO,MACH,GAAY,IACZ,EAAS,OAEX,GACA,OACE,GAAS,GAAI,IACb,EAAQ,GAAI,MACZ,SAAW,SAAU,EAAO,GACvB,QAAQ,aAGb,GAAe,GAAI,OAEf,UAAY,GACZ,MAAM,EAAO,SACR,GAAI,IAAS,EAAO,SAClB,EAAS,aAAa,GAAU,aAIjC,UAAY,GAClB,OAAO,EAAO,SACX,aAAa,KACT,QAAQ,QAGnB,IAAM,EAAM,UAAW,UAAY,GAC9B,KAAO,IACP,QAAU,IACV,QAAU,KACR,EAAO,OAAQ,EAAG,EAAG,KACvB,2BAIO,YACR,GAAO,EAAU,MAAO,wBACxB,EAAQ,EAAK,MACb,EAAS,EAAK,SACX,aAAa,EAAO,KACtB,YAAY,EAAO,KACjB,WAAW,IAAO,IAAM,IAAO,IAAM,IAAO,IAAM,KAClD,MAAM,GAAM,GAAM,MAClB,UAAU,EAAS,oBACxB,MAAM,YAAN,cAAiB,YACR,UAAU,MACV,UAAU,KACV,QAAQ,UAAW,CAAC,EAAG,EAAG,EAAG,MAC7B,QAAQ,aAAc,EAAO,YACzB,aAAa,EAAU,EAAM,aAC7B,OAAO,UAIrB,CACH,YACA,wNCnC+B,EAAmB,EAAe,EAAc,EAAsD,MACvI,GAAS,GAAI,iBAAgB,CAC/B,UAAW,EACX,QACA,KAAM,EAAO,GACb,SAAU,EAAU,KAElB,EAAW,KAAM,OAAM,2CAA6C,EAAO,eAC7E,CAAC,EAAS,QACJ,IAAI,OAAM,EAAS,iBAEvB,GAAO,KAAM,GAAS,aACrB,CACH,MAAO,EAAK,MACZ,MAAO,EAAK,YACZ,OAAQ,EAAK,2BA8CkB,EAAmB,EAAwC,MACxF,GAAS,GAAI,iBAAgB,CAC/B,UAAW,IAET,EAAW,KAAM,OAAM,mCAAqC,EAAK,IAAM,EAAO,eAChF,CAAC,EAAS,QACJ,IAAI,OAAM,EAAS,iBAEvB,GAAO,KAAM,GAAS,aACrB,CACH,GAAI,EAAK,GACT,MAAO,EAAK,MACZ,OAAQ,EAAK,OACb,KAAM,EAAK,KAAK,IAAI,GAAO,EAAI,OAC/B,KAAM,EAAK,MAAM,KACjB,KAAM,EAAK,KACX,OAAQ,CACJ,KAAM,EAAK,KAAK,KAChB,SAAU,EAAK,KAAK,WCvGhC,KAAM,IAAyC,sBAE/C,OAAe,EAAgB,CAC3B,WAAY,CACR,WACA,SACA,UACA,UAEA,eACA,kBACA,gBACA,iBACA,cAEA,6BACA,wBACA,wBAEJ,MAAO,UAAY,MACT,GAAU,GAAI,IAEd,EAAe,EAAI,GACnB,EAAY,EAAI,IAEhB,EAAY,EAAI,aAAa,QAAQ,KAA2C,IAChF,EAAW,EAAI,IACf,EAAO,EAAI,GACX,EAAU,EAAI,IACd,EAAgB,EAAI,IACpB,EAAe,IACf,EAAQ,EAAI,GAAI,KAChB,EAAiB,EAAI,IACrB,EAAe,EAAI,IACnB,EAAkB,EAAI,OAElB,gBAAkB,IACpB,GACU,MAAQ,QACZ,GAAQ,SACD,MAAQ,EAAQ,KAAK,iBAExB,MAAQ,SAIpB,EAAW,SAAU,EAAK,cACf,QAAQ,GAAwC,uBAGzC,IAChB,GACc,MAAQ,KACT,MAAQ,KAAM,IAAqB,EAAU,MAAO,EAAS,MAAO,EAAK,MAAO,EAAQ,iBAEvF,MAAQ,sBAIJ,GACjB,MAAQ,OACP,uBAGgB,GACjB,MAAQ,KAAK,IAAI,EAAK,MAAQ,EAAG,QAChC,uBAGgB,SACjB,MAAQ,KAAK,IAAI,EAAK,MAAQ,EAAG,MAAa,QAAb,cAAoB,QAAS,QAC7D,uBAGkB,YAClB,GAAU,OAAO,OAAO,eAAgB,EAAK,MAAQ,KACvD,CAAC,MAGA,MAAQ,KAAK,IAAI,KAAK,IAAI,OAAO,GAAU,MAAa,QAAb,cAAoB,QAAS,GAAI,IAAM,EAAK,WACtF,uBAGiB,EAAY,MAC7B,GAAS,EAAQ,SAAS,MAC5B,IACe,MAAQ,KACjB,MAAQ,MACX,GACY,MAAQ,KACP,MAAQ,QAClB,GAAU,KAAM,IAAiB,EAAU,MAAO,KAClD,MAAQ,GAAI,MACZ,MAAM,GAAK,EAAQ,KACnB,MAAM,MAAQ,EAAQ,QACtB,MAAM,OAAS,EAAQ,SACvB,MAAM,KAAO,EAAQ,KAAK,OAC1B,MAAM,QAAU,EAAQ,KAAK,UAC7B,MAAM,WAAa,EAAQ,OAAO,OAClC,MAAM,eAAiB,EAAQ,OAAO,WACtC,MAAM,OAAS,GAAqB,EAAQ,yBAIhC,IAClB,GACa,MAAQ,QACf,GAAO,KAAM,IAAW,KAAM,IAAU,EAAM,MAAM,YACpD,MAAM,oBAAsB,EAAK,sBACjC,MAAM,eAAiB,EAAK,yBAElB,MAAQ,KACX,MAAQ,gBAIR,IACb,GACU,MAAQ,KACV,IAAI,EAAM,SACH,MAAQ,KACV,OAAS,YAEZ,MAAQ,sBAII,IACtB,GACU,MAAQ,QACZ,GAAQ,wBAEJ,MAAQ,eAIG,EAAe,GAClC,MAAM,OAAS,OAAQ,EAAE,OAA4B,aAGxD,CACH,eACA,YAEA,YACA,WACA,OACA,UACA,gBACA,eACA,QACA,iBACA,eACA,kBAEA,WACA,WACA,WACA,aACA,cAEA,WACA,YACA,eACA"}