{"version":3,"sources":["webpack:///./src/views/Editor.vue?3f5d","webpack:///./src/photos.js","webpack:///./src/rawSearch.js","webpack:///src/views/Editor.vue","webpack:///./src/views/Editor.vue?4f20","webpack:///./src/views/Editor.vue","webpack:///./src/views/Editor.vue?501a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","width","margin-bottom","model","value","callback","$$v","expression","_l","option","key","path","attrs","_v","_s","name","height","rotate-x","rotateX","rotate-y","rotateY","rotate-z","rotateZ","zoom","on","update:rotateX","$event","update:rotate-x","update:rotateY","update:rotate-y","update:rotateZ","update:rotate-z","update:zoom","included","min","max","text-align","display","size","click","apiFromEnv","_e","margin-right","placeholder","apiKey","border-style","border-color","border-radius","padding-top","padding-left","searchTags","searchFlickr","paginateSearch","currentPage","font-color","lastSearchError","imageUrl","getOne","unregistered","length","save","mode","tags","style","src","alt","imageClipMaxSize","imageClip","$set","ref","mousemove","imageClipDragMove","spinning","imageLoading","mousedown","imageClipDragStart","imageZoom","data","importData","exportData","item","url","image","nativeOn","load","remove","type","staticRenderFns","photos","rawSearch","THUMB_SIZE","STORAGE_KEY","copyToClipboard","text","window","clipboardData","setData","document","queryCommandSupported","textarea","createElement","textContent","position","body","appendChild","select","execCommand","ex","removeChild","getUrlHash","Object","get_flickr_id","convertToURLs","searchResults","map","r","concat","farm","server","id","secret","Editorvue_type_script_lang_js_","components","ModelViewer","ImageThumb","models","imageWidth","imageHeight","existed","left","top","dragging","dragX","dragY","computed","imageStyle","background","imageClipStyle","Math","smallImageStyle","scale","latestRecords","slice","watch","defineProperty","immediate","handler","_this","Image","onload","$refs","imageClipLarge","clientWidth","clientHeight","methods","e","button","clientX","clientY","imageClipDragStop","x0","y0","x1","y1","dx","dy","rx","ry","rz","cx","cy","cs","w","h","findIndex","elem","push","localStorage","setItem","JSON","stringify","confirm","splice","curr","json","prompt","parse","shift","_this2","fetch","then","response","ok","Error","console","log","stat","message","storageData","getItem","urlsFromSearch","photo","searchUrls","filter","toConsumableArray","catch","error","mounted","_this3","addEventListener","__webpack_require__","bind","_ref","default","forEach","rawUnregistered","raw","beforeDestroy","removeEventListener","views_Editorvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Editor_vue_vue_type_style_index_0_id_ba37c704_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Editor_vue_vue_type_style_index_0_id_ba37c704_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-2877e5ab.36d39078.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"column-1\",staticStyle:{\"width\":\"360px\"}},[_c('a-select',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"8px\"},model:{value:(_vm.model),callback:function ($$v) {_vm.model=$$v},expression:\"model\"}},_vm._l((_vm.models),function(option){return _c('a-select-option',{key:option.path,attrs:{\"value\":option.path}},[_vm._v(\"\\n                \"+_vm._s(option.name)+\"\\n            \")])}),1),_c('model-viewer',{attrs:{\"width\":360,\"height\":360,\"model\":_vm.model,\"rotate-x\":_vm.rotateX,\"rotate-y\":_vm.rotateY,\"rotate-z\":_vm.rotateZ,\"zoom\":_vm.zoom},on:{\"update:rotateX\":function($event){_vm.rotateX=$event},\"update:rotate-x\":function($event){_vm.rotateX=$event},\"update:rotateY\":function($event){_vm.rotateY=$event},\"update:rotate-y\":function($event){_vm.rotateY=$event},\"update:rotateZ\":function($event){_vm.rotateZ=$event},\"update:rotate-z\":function($event){_vm.rotateZ=$event},\"update:zoom\":function($event){_vm.zoom=$event}}}),_c('div',{staticClass:\"slider-wrapper\"},[_c('span',{staticClass:\"prefix\"},[_vm._v(\"X: \"+_vm._s(_vm.rotateX)+\"; Y: \"+_vm._s(_vm.rotateY)+\"; Z: \")]),_c('a-slider',{staticClass:\"slider\",attrs:{\"included\":false,\"min\":-180,\"max\":180},model:{value:(_vm.rotateZ),callback:function ($$v) {_vm.rotateZ=$$v},expression:\"rotateZ\"}}),_c('div',{staticClass:\"postfix\"},[_c('span',{staticStyle:{\"width\":\"2.5em\",\"text-align\":\"center\",\"display\":\"inline-block\"}},[_vm._v(_vm._s(_vm.rotateZ))]),_c('a-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.rotateX = _vm.rotateY = _vm.rotateZ = 0}}},[_vm._v(\"Reset\")])],1)],1)],1),_c('div',{staticClass:\"column-2\"},[(!_vm.apiFromEnv)?_c('div',{staticClass:\"toolbar\"},[_c('a-input',{staticStyle:{\"margin-bottom\":\"8px\",\"margin-right\":\"8px\"},attrs:{\"placeholder\":\"Paste your Flickr API key here to enable inline search\"},model:{value:(_vm.apiKey),callback:function ($$v) {_vm.apiKey=$$v},expression:\"apiKey\"}})],1):_vm._e(),(_vm.apiKey)?_c('div',{staticClass:\"toolbar\",staticStyle:{\"border-style\":\"solid\",\"border-color\":\"#E79191\",\"border-radius\":\"5px\",\"padding-top\":\"7px\",\"padding-left\":\"4px\",\"margin-bottom\":\"5px\"}},[_c('a-input',{staticStyle:{\"margin-bottom\":\"8px\",\"margin-right\":\"8px\"},attrs:{\"placeholder\":\"Flickr Search Tags\"},model:{value:(_vm.searchTags),callback:function ($$v) {_vm.searchTags=$$v},expression:\"searchTags\"}}),_c('a-button',{staticStyle:{\"margin-right\":\"8px\"},on:{\"click\":_vm.searchFlickr}},[_vm._v(\"Search!\")]),_c('a-button',{staticStyle:{\"margin-right\":\"8px\"},on:{\"click\":_vm.paginateSearch}},[_vm._v(\"Fetch page \"+_vm._s(_vm.currentPage + 1))])],1):_vm._e(),(_vm.lastSearchError)?_c('div',[_c('div',{staticStyle:{\"font-color\":\"red\"}},[_vm._v(_vm._s(_vm.lastSearchError))])]):_vm._e(),_c('div',{staticClass:\"toolbar\"},[_c('a-input',{staticStyle:{\"margin-bottom\":\"8px\",\"margin-right\":\"8px\"},attrs:{\"placeholder\":\"Input image url\"},model:{value:(_vm.imageUrl),callback:function ($$v) {_vm.imageUrl=$$v},expression:\"imageUrl\"}}),_c('a-button',{staticStyle:{\"margin-right\":\"8px\"},on:{\"click\":_vm.getOne}},[_vm._v(\"Get One (\"+_vm._s(_vm.unregistered.length)+\")\")]),_c('a-button',{on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1),_c('a-select',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"8px\"},attrs:{\"mode\":\"tags\",\"placeholder\":\"Input tags\"},model:{value:(_vm.tags),callback:function ($$v) {_vm.tags=$$v},expression:\"tags\"}}),_c('div',{staticClass:\"image-clip\",staticStyle:{\"height\":\"428px\"}},[_c('div',{staticClass:\"side\"},[_c('div',{staticClass:\"small\"},[(_vm.imageUrl)?_c('img',{style:(_vm.smallImageStyle),attrs:{\"src\":_vm.imageUrl,\"alt\":\"\"}}):_vm._e()]),_c('div',{staticClass:\"slider-wrapper\"},[_c('span',{staticClass:\"prefix\"},[_vm._v(\"Size\")]),_c('a-slider',{staticClass:\"slider\",attrs:{\"included\":false,\"min\":0,\"max\":_vm.imageClipMaxSize},model:{value:(_vm.imageClip.size),callback:function ($$v) {_vm.$set(_vm.imageClip, \"size\", $$v)},expression:\"imageClip.size\"}})],1)]),_c('div',{ref:\"imageClipLarge\",staticClass:\"main\"},[_c('div',{staticClass:\"large\",on:{\"mousemove\":_vm.imageClipDragMove}},[_c('a-spin',{attrs:{\"spinning\":_vm.imageLoading}},[(_vm.imageUrl)?_c('div',{staticClass:\"image\",style:(_vm.imageStyle)}):_vm._e()]),(_vm.imageUrl)?_c('div',{staticClass:\"image-clip\",style:(_vm.imageClipStyle),on:{\"mousedown\":_vm.imageClipDragStart}}):_vm._e()],1),_c('div',{staticClass:\"slider-wrapper\",staticStyle:{\"width\":\"100%\"}},[_c('span',{staticClass:\"prefix\"},[_vm._v(\"Zoom\")]),_c('a-slider',{staticClass:\"slider\",attrs:{\"included\":false,\"min\":10,\"max\":100},model:{value:(_vm.imageZoom),callback:function ($$v) {_vm.imageZoom=$$v},expression:\"imageZoom\"}})],1)])])],1),_c('div',{staticClass:\"column-3\"},[_c('div',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"8px\",\"text-align\":\"right\"}},[_c('span',{staticStyle:{\"margin-right\":\"8px\"}},[_vm._v(_vm._s(_vm.data.length))]),_c('a-button',{staticStyle:{\"margin-right\":\"8px\"},attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.importData()}}},[_vm._v(\"Import\")]),_c('a-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.exportData()}}},[_vm._v(\"Export\")])],1),_c('div',{staticClass:\"list\"},_vm._l((_vm.latestRecords),function(item){return _c('image-thumb',{key:item.url,staticClass:\"item\",attrs:{\"image\":item},nativeOn:{\"click\":function($event){return _vm.load(item)}}},[_c('span',{staticClass:\"btn-remove\",on:{\"click\":function($event){return _vm.remove(item)}}},[_c('a-icon',{attrs:{\"type\":\"close\"}})],1)])}),1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default []\r\n","export default [];","<template>\r\n    <div class=\"wrapper\">\r\n        <div class=\"column-1\" style=\"width: 360px;\">\r\n            <a-select v-model=\"model\" style=\"width: 100%; margin-bottom: 8px;\">\r\n                <a-select-option v-for=\"option in models\"\r\n                                 :key=\"option.path\"\r\n                                 :value=\"option.path\"\r\n                >\r\n                    {{option.name}}\r\n                </a-select-option>\r\n            </a-select>\r\n\r\n            <model-viewer :width=\"360\"\r\n                          :height=\"360\"\r\n                          :model=\"model\"\r\n                          :rotate-x.sync=\"rotateX\"\r\n                          :rotate-y.sync=\"rotateY\"\r\n                          :rotate-z.sync=\"rotateZ\"\r\n                          :zoom.sync=\"zoom\"\r\n            />\r\n\r\n            <div class=\"slider-wrapper\">\r\n                <span class=\"prefix\">X: {{rotateX}}; Y: {{rotateY}}; Z: </span>\r\n                <a-slider class=\"slider\" :included=\"false\"\r\n                          v-model=\"rotateZ\" :min=\"-180\" :max=\"180\"/>\r\n                <div class=\"postfix\">\r\n                    <span style=\"width: 2.5em; text-align: center; display: inline-block;\">{{rotateZ}}</span>\r\n                    <a-button @click=\"rotateX = rotateY = rotateZ = 0\" size=\"small\">Reset</a-button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"column-2\">\r\n            <div class=\"toolbar\" v-if=\"!apiFromEnv\">\r\n                <a-input v-model=\"apiKey\" placeholder=\"Paste your Flickr API key here to enable inline search\"\r\n                         style=\"margin-bottom: 8px; margin-right: 8px;\"/>\r\n            </div>\r\n            <div class=\"toolbar\" v-if=\"apiKey\"\r\n                 style=\"border-style:solid; border-color:#E79191; border-radius:5px; padding-top:7px; padding-left:4px; margin-bottom:5px;\">\r\n                <a-input v-model=\"searchTags\"\r\n                         placeholder=\"Flickr Search Tags\"\r\n                         style=\"margin-bottom: 8px; margin-right: 8px;\"\r\n                />\r\n                <a-button @click=\"searchFlickr\" style=\"margin-right: 8px\">Search!</a-button>\r\n                <a-button @click=\"paginateSearch\" style=\"margin-right: 8px\">Fetch page {{currentPage + 1}}</a-button>\r\n            </div>\r\n            <div v-if=lastSearchError>\r\n                <div style=\"font-color:red;\">{{lastSearchError}}</div>\r\n            </div>\r\n            <div class=\"toolbar\">\r\n                <a-input v-model=\"imageUrl\"\r\n                         placeholder=\"Input image url\"\r\n                         style=\"margin-bottom: 8px; margin-right: 8px;\"\r\n                />\r\n                <a-button @click=\"getOne\" style=\"margin-right: 8px\">Get One ({{unregistered.length}})</a-button>\r\n                <a-button @click=\"save\">Save</a-button>\r\n            </div>\r\n\r\n            <a-select mode=\"tags\" v-model=\"tags\"\r\n                      placeholder=\"Input tags\"\r\n                      style=\"width: 100%; margin-bottom: 8px;\"></a-select>\r\n\r\n            <div class=\"image-clip\" style=\"height: 428px;\">\r\n                <div class=\"side\">\r\n                    <div class=\"small\">\r\n                        <img v-if=\"imageUrl\" :src=\"imageUrl\" alt=\"\" :style=\"smallImageStyle\">\r\n                    </div>\r\n                    <div class=\"slider-wrapper\">\r\n                        <span class=\"prefix\">Size</span>\r\n                        <a-slider class=\"slider\" :included=\"false\" v-model=\"imageClip.size\" :min=\"0\"\r\n                                  :max=\"imageClipMaxSize\"/>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"main\" ref=\"imageClipLarge\">\r\n                    <div class=\"large\" @mousemove=\"imageClipDragMove\">\r\n                        <a-spin :spinning=\"imageLoading\">\r\n                            <div class=\"image\" v-if=\"imageUrl\" :style=\"imageStyle\"></div>\r\n                        </a-spin>\r\n                        <div class=\"image-clip\" v-if=\"imageUrl\" :style=\"imageClipStyle\"\r\n                             @mousedown=\"imageClipDragStart\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"slider-wrapper\" style=\"width: 100%;\">\r\n                        <span class=\"prefix\">Zoom</span>\r\n                        <a-slider class=\"slider\" :included=\"false\" v-model=\"imageZoom\" :min=\"10\" :max=\"100\"/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"column-3\">\r\n            <div style=\"width: 100%; margin-bottom: 8px; text-align: right;\">\r\n                <span style=\"margin-right: 8px\">{{data.length}}</span>\r\n                <a-button size=\"small\" style=\"margin-right: 8px;\" @click=\"importData()\">Import</a-button>\r\n                <a-button size=\"small\" @click=\"exportData()\">Export</a-button>\r\n            </div>\r\n            <div class=\"list\">\r\n                <image-thumb v-for=\"item in latestRecords\"\r\n                             :key=\"item.url\"\r\n                             :image=\"item\"\r\n                             class=\"item\" @click.native=\"load(item)\">\r\n                    <span class=\"btn-remove\" @click=\"remove(item)\"><a-icon type=\"close\"/></span>\r\n                </image-thumb>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import ModelViewer from '../components/ModelViewer.vue'\r\n    import ImageThumb from '../components/ImageThumb.vue'\r\n\r\n    import models from '../models'\r\n    import photos from '../photos'\r\n\r\n    import getFlickrId from '../get-flickr-id'\r\n    import rawSearch from '../rawSearch';\r\n\r\n    const THUMB_SIZE = 160;\r\n    const STORAGE_KEY = 'ars-data';\r\n\r\n    function copyToClipboard(text) {\r\n        if (window.clipboardData && window.clipboardData.setData) {\r\n            return clipboardData.setData(\"Text\", text);\r\n        } else if (document.queryCommandSupported && document.queryCommandSupported(\"copy\")) {\r\n            const textarea = document.createElement(\"textarea\");\r\n            textarea.textContent = text;\r\n            textarea.style.position = \"fixed\";\r\n            document.body.appendChild(textarea);\r\n            textarea.select();\r\n            try {\r\n                return document.execCommand(\"copy\");\r\n            } catch (ex) {\r\n                return false;\r\n            } finally {\r\n                document.body.removeChild(textarea);\r\n            }\r\n        }\r\n    }\r\n\r\n    function getUrlHash(url) {\r\n        return getFlickrId(url) || url;\r\n    }\r\n\r\n    function convertToURLs(searchResults) {\r\n        return searchResults.map(r => `https://farm${r.farm}.staticflickr.com/${r.server}/${r.id}_${r.secret}.jpg`);\r\n    }\r\n\r\n    export default {\r\n        components: {ModelViewer, ImageThumb},\r\n        data() {\r\n            return {\r\n                models: models,\r\n                model: models[0].path,\r\n                rotateX: 0,\r\n                rotateY: 0,\r\n                rotateZ: 0,\r\n                zoom: 10,\r\n                imageUrl: '',\r\n                searchTags: '',\r\n                lastSearchError: null,\r\n                apiKey: null,\r\n                apiFromEnv: false,\r\n                currentPage: 1,\r\n                imageZoom: 100,\r\n                imageWidth: 0,\r\n                imageHeight: 0,\r\n                imageLoading: false,\r\n                existed: {},\r\n                imageClip: {\r\n                    left: 0,\r\n                    top: 0,\r\n                    size: 0,\r\n                    dragging: false,\r\n                    dragX: 0,\r\n                    dragY: 0\r\n                },\r\n                tags: [],\r\n                // photos saved in local storage\r\n                data: [],\r\n                // photos listed in photos.js and not yet added to data or local storage\r\n                unregistered: []\r\n            };\r\n        },\r\n        computed: {\r\n            imageStyle() {\r\n                return {\r\n                    background: `url(${this.imageUrl}) 0 0 / 100% 100% no-repeat`,\r\n                    width: this.imageWidth * this.imageZoom / 100 + 'px',\r\n                    height: this.imageHeight * this.imageZoom / 100 + 'px',\r\n                };\r\n            },\r\n            imageClipStyle() {\r\n                return {\r\n                    left: this.imageClip.left * this.imageZoom / 100 + 'px',\r\n                    top: this.imageClip.top * this.imageZoom / 100 + 'px',\r\n                    width: this.imageClip.size * this.imageZoom / 100 + 'px',\r\n                    height: this.imageClip.size * this.imageZoom / 100 + 'px'\r\n                };\r\n            },\r\n            imageClipMaxSize() {\r\n                return Math.min(this.imageWidth, this.imageHeight);\r\n            },\r\n            smallImageStyle() {\r\n                const scale = 1 / this.imageClip.size * THUMB_SIZE;\r\n                return {\r\n                    position: 'absolute',\r\n                    width: this.imageWidth * scale + 'px',\r\n                    height: this.imageHeight * scale + 'px',\r\n                    left: -this.imageClip.left * scale + 'px',\r\n                    top: -this.imageClip.top * scale + 'px'\r\n                };\r\n            },\r\n            latestRecords() {\r\n                return this.data.length > 10 ? this.data.slice(this.data.length - 10) : this.data;\r\n            }\r\n        },\r\n        watch: {\r\n            imageUrl: {\r\n                immediate: true,\r\n                handler(url) {\r\n                    if (!url) {\r\n                        return;\r\n                    }\r\n                    this.imageLoading = true;\r\n                    const image = new Image();\r\n                    image.onload = () => {\r\n                        this.imageLoading = false;\r\n                        this.imageWidth = image.width;\r\n                        this.imageHeight = image.height;\r\n\r\n                        this.imageClip.size = Math.min(image.width, image.height, this.imageClip.size);\r\n                        this.imageZoom =\r\n                            Math.min(\r\n                                image.width,\r\n                                image.height,\r\n                                this.$refs.imageClipLarge.clientWidth - 18,\r\n                                this.$refs.imageClipLarge.clientHeight - 18 - 32\r\n                            )\r\n                            / image.width * 100 | 0;\r\n                    };\r\n                    image.src = url;\r\n                }\r\n            },\r\n            ['imageClip.size'](size) {\r\n                this.imageClip.left = Math.min(this.imageClip.left, this.imageWidth - size);\r\n                this.imageClip.top = Math.min(this.imageClip.top, this.imageHeight - size);\r\n            }\r\n        },\r\n        methods: {\r\n            imageClipDragStart(e) {\r\n                if (e.button === 0) {\r\n                    this.imageClip.dragging = true;\r\n                    this.imageClip.dragX = e.clientX;\r\n                    this.imageClip.dragY = e.clientY;\r\n                }\r\n            },\r\n            imageClipDragStop() {\r\n                this.imageClip.dragging = false;\r\n            },\r\n            imageClipDragMove(e) {\r\n                const x0 = this.imageClip.dragX,\r\n                    y0 = this.imageClip.dragY,\r\n                    x1 = e.clientX,\r\n                    y1 = e.clientY;\r\n\r\n                this.imageClip.dragX = x1;\r\n                this.imageClip.dragY = y1;\r\n\r\n                if (!this.imageClip.dragging) {\r\n                    return;\r\n                }\r\n                const dx = x1 - x0,\r\n                    dy = y1 - y0;\r\n                this.imageClip.left += dx / (this.imageZoom / 100);\r\n                this.imageClip.left = Math.max(0, Math.min(this.imageWidth - this.imageClip.size, this.imageClip.left));\r\n                this.imageClip.top += dy / (this.imageZoom / 100);\r\n                this.imageClip.top = Math.max(0, Math.min(this.imageHeight - this.imageClip.size, this.imageClip.top));\r\n            },\r\n            save() {\r\n                if (!this.imageUrl) {\r\n                    return;\r\n                }\r\n                const data = {\r\n                    rx: this.rotateX,\r\n                    ry: this.rotateY,\r\n                    rz: this.rotateZ,\r\n                    url: this.imageUrl,\r\n                    cx: this.imageClip.left | 0,\r\n                    cy: this.imageClip.top | 0,\r\n                    cs: this.imageClip.size,\r\n                    w: this.imageWidth,\r\n                    h: this.imageHeight,\r\n                    tags: this.tags\r\n                };\r\n                const existed = this.data.findIndex(elem => elem.url === data.url);\r\n                if (existed >= 0) {\r\n                    this.data[existed] = data;\r\n                } else {\r\n                    this.data.push(data);\r\n                }\r\n                window.localStorage.setItem(STORAGE_KEY, JSON.stringify(this.data));\r\n                // this.$notification.success({message: 'Saved successfully.', placement: 'topLeft', duration: 2});\r\n            },\r\n            load(item) {\r\n                this.rotateX = item.rx;\r\n                this.rotateY = item.ry;\r\n                this.rotateZ = item.rz;\r\n                this.imageUrl = item.url;\r\n                this.imageWidth = item.w;\r\n                this.imageHeight = item.h;\r\n                this.imageClip.left = item.cx;\r\n                this.imageClip.top = item.cy;\r\n                this.imageClip.size = item.cs;\r\n                this.tags = item.tags;\r\n            },\r\n            remove(item) {\r\n                if (window.confirm(`Are you sure you want to delete ${item.url}?`)) {\r\n                    this.data.splice(this.data.findIndex(curr => curr === item), 1);\r\n                    window.localStorage.setItem(STORAGE_KEY, JSON.stringify(this.data));\r\n                    // this.$notification.success({\r\n                    //     message: 'Deleted successfully.',\r\n                    //     placement: 'topLeft',\r\n                    //     duration: 2\r\n                    // });\r\n                }\r\n            },\r\n            importData() {\r\n                const json = window.prompt(\"Input Data JSON:\");\r\n                if (json) {\r\n                    this.data = JSON.parse(json);\r\n                    window.localStorage.setItem(STORAGE_KEY, json);\r\n                    // this.$notification.success({\r\n                    //     message: 'Records were imported successfully.',\r\n                    //     placement: 'topLeft',\r\n                    //     duration: 2\r\n                    // });\r\n                }\r\n            },\r\n            exportData() {\r\n                copyToClipboard(JSON.stringify(this.data));\r\n                // this.$notification.success({\r\n                //     message: 'Records were exported to clipboard.',\r\n                //     placement: 'topLeft',\r\n                //     duration: 2\r\n                // });\r\n            },\r\n            getOne() {\r\n                this.imageUrl = this.unregistered.shift();\r\n            },\r\n            searchFlickr() {\r\n                fetch(`https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=${this.apiKey}&license=2%2C3%2C4%2C5%2C6%2C9&format=json&nojsoncallback=1&tags=${this.searchTags}&page=${this.currentPage}`)\r\n                    .then(response => {\r\n                            if (response.ok) {\r\n                                return response.json();\r\n                            }\r\n                            throw new Error(`The request failed: ${response.body}`);\r\n                        }\r\n                    )\r\n                    .then(body => {\r\n                        console.log(body);\r\n                        if (body.stat != \"ok\") {\r\n                            throw new Error(`Flickr bounced the request: ${body.message}`)\r\n                        }\r\n                        return body;\r\n                    })\r\n                    .then((value) => {\r\n                            let storageData = localStorage.getItem(STORAGE_KEY);\r\n                            storageData = storageData && JSON.parse(storageData) || [];\r\n\r\n                            let urlsFromSearch = convertToURLs(value.photos.photo);\r\n                            const searchUrls = urlsFromSearch.filter(url => !this.existed[getUrlHash(url)]);\r\n\r\n                            this.unregistered = [...searchUrls, ...this.unregistered];\r\n                        }\r\n                    ).catch((error) => {\r\n                    this.lastSearchError = error.message;\r\n                    console.log(error.message);\r\n                });\r\n            },\r\n            paginateSearch() {\r\n                this.currentPage++;\r\n                this.searchFlickr();\r\n            }\r\n        },\r\n        mounted() {\r\n            window.addEventListener('mouseup', this.imageClipDragStop);\r\n\r\n            import('../data')\r\n                .then(({default: data}) => {\r\n                    //load Flickr api key from env if able\r\n                    if (process.env.VUE_APP_FLICKR_API && process.env.VUE_APP_FLICKR_API.length == 32) {\r\n                        this.apiFromEnv = true;\r\n                        this.apiKey = process.env.VUE_APP_FLICKR_API;\r\n                    } else {\r\n                        console.log(\"Could not find env, allowing manual entry\");\r\n                    }\r\n\r\n                    let storageData = localStorage.getItem(STORAGE_KEY);\r\n                    storageData = storageData && JSON.parse(storageData) || [];\r\n\r\n                    // remove duplicates\r\n                    ([...storageData, ...data]).forEach(image => this.existed[getUrlHash(image.url)] = true);\r\n                    let unregistered = photos.filter(photo => !this.existed[getUrlHash(photo)]);\r\n\r\n                    let urlsFromSearch = convertToURLs(rawSearch);\r\n                    const rawUnregistered = urlsFromSearch.filter(raw => !this.existed[getUrlHash(raw)]);\r\n\r\n                    this.data = storageData;\r\n                    this.unregistered = [...rawUnregistered, ...unregistered];\r\n                });\r\n        },\r\n        beforeDestroy() {\r\n            window.removeEventListener('mouseup', this.imageClipDragStop);\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .wrapper {\r\n        display: flex;\r\n        align-items: flex-start;\r\n        width: 100%;\r\n        height: 100%;\r\n        box-sizing: border-box;\r\n        padding: 20px;\r\n\r\n        .slider-wrapper {\r\n            display: flex;\r\n            line-height: 36px;\r\n\r\n            .prefix, .postfix {\r\n                display: inline-block;\r\n                vertical-align: middle;\r\n                min-width: 2.5em;\r\n                text-align: center;\r\n            }\r\n\r\n            .slider {\r\n                flex: 1;\r\n                vertical-align: middle;\r\n            }\r\n        }\r\n\r\n        .column-1 {\r\n            flex: 0 0 360px;\r\n        }\r\n\r\n        .column-2 {\r\n            margin-left: 10px;\r\n            width: 600px;\r\n\r\n            .toolbar {\r\n                display: flex;\r\n            }\r\n\r\n            .image-clip {\r\n                display: flex;\r\n                align-items: flex-start;\r\n\r\n                .side {\r\n                    flex: 0 0 160px;\r\n\r\n                    .small {\r\n                        position: relative;\r\n                        width: 160px;\r\n                        height: 160px;\r\n                        background-color: #f2f2f2;\r\n                        overflow: hidden;\r\n                    }\r\n                }\r\n\r\n                .main {\r\n                    flex: 1 1;\r\n                    display: flex;\r\n                    align-items: flex-start;\r\n                    flex-direction: column;\r\n                    height: 100%;\r\n                    margin-left: 10px;\r\n                    min-width: 0;\r\n\r\n                    .large {\r\n                        flex: 1 0;\r\n                        position: relative;\r\n                        width: 100%;\r\n                        height: 100%;\r\n                        background-color: #f2f2f2;\r\n                        overflow: auto;\r\n\r\n                        .image-clip {\r\n                            position: absolute;\r\n                            z-index: 1;\r\n                            box-sizing: border-box;\r\n                            border: solid 1px #409EFF;\r\n                            background-color: rgba(64, 158, 255, 0.25);\r\n                            cursor: move;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        .column-3 {\r\n            flex: 0 0 187px;\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: flex-start;\r\n            margin-left: 10px;\r\n            height: 508px;\r\n\r\n            .list {\r\n                flex: 1 1;\r\n                width: 100%;\r\n                box-sizing: border-box;\r\n                border: 1px solid #d9d9d9;\r\n                border-radius: 4px;\r\n                padding: 10px;\r\n                overflow-y: scroll;\r\n\r\n                .item {\r\n                    cursor: pointer;\r\n                    margin: 5px;\r\n\r\n                    .btn-remove {\r\n                        position: absolute;\r\n                        z-index: 1;\r\n                        right: 8px;\r\n                        top: 8px;\r\n                        width: 18px;\r\n                        height: 18px;\r\n                        line-height: 18px;\r\n                        border-radius: 100%;\r\n                        text-align: center;\r\n                        background-color: rgba(255, 255, 255, .5);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=ba37c704&scoped=true&\"\nimport script from \"./Editor.vue?vue&type=script&lang=js&\"\nexport * from \"./Editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Editor.vue?vue&type=style&index=0&id=ba37c704&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ba37c704\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&id=ba37c704&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&id=ba37c704&lang=scss&scoped=true&\""],"sourceRoot":""}